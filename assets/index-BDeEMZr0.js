(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function tN(){if(c_)return Iu;c_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,l){var o=null;if(l!==void 0&&(o=""+l),i.key!==void 0&&(o=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:l}}return Iu.Fragment=e,Iu.jsx=n,Iu.jsxs=n,Iu}var u_;function nN(){return u_||(u_=1,Hp.exports=tN()),Hp.exports}var u=nN(),Up={exports:{}},Pu={},$p={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function rN(){return f_||(f_=1,function(t){function e(ee,Pe){var Fe=ee.length;ee.push(Pe);e:for(;0<Fe;){var X=Fe-1>>>1,D=ee[X];if(0<i(D,Pe))ee[X]=Pe,ee[Fe]=D,Fe=X;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var Pe=ee[0],Fe=ee.pop();if(Fe!==Pe){ee[0]=Fe;e:for(var X=0,D=ee.length,J=D>>>1;X<J;){var H=2*(X+1)-1,K=ee[H],P=H+1,G=ee[P];if(0>i(K,Fe))P<D&&0>i(G,K)?(ee[X]=G,ee[P]=Fe,X=P):(ee[X]=K,ee[H]=Fe,X=H);else if(P<D&&0>i(G,Fe))ee[X]=G,ee[P]=Fe,X=P;else break e}}return Pe}function i(ee,Pe){var Fe=ee.sortIndex-Pe.sortIndex;return Fe!==0?Fe:ee.id-Pe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,f=o.now();t.unstable_now=function(){return o.now()-f}}var d=[],g=[],p=1,v=null,_=3,b=!1,w=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function Z(ee){for(var Pe=n(g);Pe!==null;){if(Pe.callback===null)r(g);else if(Pe.startTime<=ee)r(g),Pe.sortIndex=Pe.expirationTime,e(d,Pe);else break;Pe=n(g)}}function Q(ee){if(S=!1,Z(ee),!w)if(n(d)!==null)w=!0,Y||(Y=!0,ue());else{var Pe=n(g);Pe!==null&&Ye(Q,Pe.startTime-ee)}}var Y=!1,L=-1,U=5,q=-1;function ie(){return T?!0:!(t.unstable_now()-q<U)}function xe(){if(T=!1,Y){var ee=t.unstable_now();q=ee;var Pe=!0;try{e:{w=!1,S&&(S=!1,j(L),L=-1),b=!0;var Fe=_;try{t:{for(Z(ee),v=n(d);v!==null&&!(v.expirationTime>ee&&ie());){var X=v.callback;if(typeof X=="function"){v.callback=null,_=v.priorityLevel;var D=X(v.expirationTime<=ee);if(ee=t.unstable_now(),typeof D=="function"){v.callback=D,Z(ee),Pe=!0;break t}v===n(d)&&r(d),Z(ee)}else r(d);v=n(d)}if(v!==null)Pe=!0;else{var J=n(g);J!==null&&Ye(Q,J.startTime-ee),Pe=!1}}break e}finally{v=null,_=Fe,b=!1}Pe=void 0}}finally{Pe?ue():Y=!1}}}var ue;if(typeof I=="function")ue=function(){I(xe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,We=De.port2;De.port1.onmessage=xe,ue=function(){We.postMessage(null)}}else ue=function(){A(xe,0)};function Ye(ee,Pe){L=A(function(){ee(t.unstable_now())},Pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var Pe=3;break;default:Pe=_}var Fe=_;_=Pe;try{return ee()}finally{_=Fe}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(ee,Pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Fe=_;_=ee;try{return Pe()}finally{_=Fe}},t.unstable_scheduleCallback=function(ee,Pe,Fe){var X=t.unstable_now();switch(typeof Fe=="object"&&Fe!==null?(Fe=Fe.delay,Fe=typeof Fe=="number"&&0<Fe?X+Fe:X):Fe=X,ee){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Fe+D,ee={id:p++,callback:Pe,priorityLevel:ee,startTime:Fe,expirationTime:D,sortIndex:-1},Fe>X?(ee.sortIndex=Fe,e(g,ee),n(d)===null&&ee===n(g)&&(S?(j(L),L=-1):S=!0,Ye(Q,Fe-X))):(ee.sortIndex=D,e(d,ee),w||b||(w=!0,Y||(Y=!0,ue()))),ee},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(ee){var Pe=_;return function(){var Fe=_;_=Pe;try{return ee.apply(this,arguments)}finally{_=Fe}}}}(Wp)),Wp}var h_;function iN(){return h_||(h_=1,$p.exports=rN()),$p.exports}var Vp={exports:{}},Ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function sN(){if(d_)return Ln;d_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(D,J,H){this.props=D,this.context=J,this.refs=S,this.updater=H||b}T.prototype.isReactComponent={},T.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function A(){}A.prototype=T.prototype;function j(D,J,H){this.props=D,this.context=J,this.refs=S,this.updater=H||b}var I=j.prototype=new A;I.constructor=j,w(I,T.prototype),I.isPureReactComponent=!0;var Z=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function L(D,J,H,K,P,G){return H=G.ref,{$$typeof:t,type:D,key:J,ref:H!==void 0?H:null,props:G}}function U(D,J){return L(D.type,J,void 0,void 0,void 0,D.props)}function q(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function ie(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(H){return J[H]})}var xe=/\/+/g;function ue(D,J){return typeof D=="object"&&D!==null&&D.key!=null?ie(""+D.key):J.toString(36)}function De(){}function We(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(De,De):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ye(D,J,H,K,P){var G=typeof D;(G==="undefined"||G==="boolean")&&(D=null);var oe=!1;if(D===null)oe=!0;else switch(G){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(D.$$typeof){case t:case e:oe=!0;break;case p:return oe=D._init,Ye(oe(D._payload),J,H,K,P)}}if(oe)return P=P(D),oe=K===""?"."+ue(D,0):K,Z(P)?(H="",oe!=null&&(H=oe.replace(xe,"$&/")+"/"),Ye(P,J,H,"",function(Je){return Je})):P!=null&&(q(P)&&(P=U(P,H+(P.key==null||D&&D.key===P.key?"":(""+P.key).replace(xe,"$&/")+"/")+oe)),J.push(P)),1;oe=0;var Ne=K===""?".":K+":";if(Z(D))for(var Ie=0;Ie<D.length;Ie++)K=D[Ie],G=Ne+ue(K,Ie),oe+=Ye(K,J,H,G,P);else if(Ie=_(D),typeof Ie=="function")for(D=Ie.call(D),Ie=0;!(K=D.next()).done;)K=K.value,G=Ne+ue(K,Ie++),oe+=Ye(K,J,H,G,P);else if(G==="object"){if(typeof D.then=="function")return Ye(We(D),J,H,K,P);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ee(D,J,H){if(D==null)return D;var K=[],P=0;return Ye(D,K,"","",function(G){return J.call(H,G,P++)}),K}function Pe(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(H){(D._status===0||D._status===-1)&&(D._status=1,D._result=H)},function(H){(D._status===0||D._status===-1)&&(D._status=2,D._result=H)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var Fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function X(){}return Ln.Children={map:ee,forEach:function(D,J,H){ee(D,function(){J.apply(this,arguments)},H)},count:function(D){var J=0;return ee(D,function(){J++}),J},toArray:function(D){return ee(D,function(J){return J})||[]},only:function(D){if(!q(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ln.Component=T,Ln.Fragment=n,Ln.Profiler=i,Ln.PureComponent=j,Ln.StrictMode=r,Ln.Suspense=d,Ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ln.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Q.H.useMemoCache(D)}},Ln.cache=function(D){return function(){return D.apply(null,arguments)}},Ln.cloneElement=function(D,J,H){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var K=w({},D.props),P=D.key,G=void 0;if(J!=null)for(oe in J.ref!==void 0&&(G=void 0),J.key!==void 0&&(P=""+J.key),J)!Y.call(J,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&J.ref===void 0||(K[oe]=J[oe]);var oe=arguments.length-2;if(oe===1)K.children=H;else if(1<oe){for(var Ne=Array(oe),Ie=0;Ie<oe;Ie++)Ne[Ie]=arguments[Ie+2];K.children=Ne}return L(D.type,P,void 0,void 0,G,K)},Ln.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ln.createElement=function(D,J,H){var K,P={},G=null;if(J!=null)for(K in J.key!==void 0&&(G=""+J.key),J)Y.call(J,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(P[K]=J[K]);var oe=arguments.length-2;if(oe===1)P.children=H;else if(1<oe){for(var Ne=Array(oe),Ie=0;Ie<oe;Ie++)Ne[Ie]=arguments[Ie+2];P.children=Ne}if(D&&D.defaultProps)for(K in oe=D.defaultProps,oe)P[K]===void 0&&(P[K]=oe[K]);return L(D,G,void 0,void 0,null,P)},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(D){return{$$typeof:f,render:D}},Ln.isValidElement=q,Ln.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:Pe}},Ln.memo=function(D,J){return{$$typeof:g,type:D,compare:J===void 0?null:J}},Ln.startTransition=function(D){var J=Q.T,H={};Q.T=H;try{var K=D(),P=Q.S;P!==null&&P(H,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(X,Fe)}catch(G){Fe(G)}finally{Q.T=J}},Ln.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ln.use=function(D){return Q.H.use(D)},Ln.useActionState=function(D,J,H){return Q.H.useActionState(D,J,H)},Ln.useCallback=function(D,J){return Q.H.useCallback(D,J)},Ln.useContext=function(D){return Q.H.useContext(D)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(D,J){return Q.H.useDeferredValue(D,J)},Ln.useEffect=function(D,J,H){var K=Q.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(D,J)},Ln.useId=function(){return Q.H.useId()},Ln.useImperativeHandle=function(D,J,H){return Q.H.useImperativeHandle(D,J,H)},Ln.useInsertionEffect=function(D,J){return Q.H.useInsertionEffect(D,J)},Ln.useLayoutEffect=function(D,J){return Q.H.useLayoutEffect(D,J)},Ln.useMemo=function(D,J){return Q.H.useMemo(D,J)},Ln.useOptimistic=function(D,J){return Q.H.useOptimistic(D,J)},Ln.useReducer=function(D,J,H){return Q.H.useReducer(D,J,H)},Ln.useRef=function(D){return Q.H.useRef(D)},Ln.useState=function(D){return Q.H.useState(D)},Ln.useSyncExternalStore=function(D,J,H){return Q.H.useSyncExternalStore(D,J,H)},Ln.useTransition=function(){return Q.H.useTransition()},Ln.version="19.1.0",Ln}var g_;function wx(){return g_||(g_=1,Vp.exports=sN()),Vp.exports}var Yp={exports:{}},Fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function aN(){if(p_)return Fi;p_=1;var t=wx();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(d,g,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:d,containerInfo:g,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fi.createPortal=function(d,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(d,g,null,p)},Fi.flushSync=function(d){var g=o.T,p=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=g,r.p=p,r.d.f()}},Fi.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},Fi.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Fi.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var p=g.as,v=f(p,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Fi.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=f(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},Fi.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,v=f(p,g.crossOrigin);r.d.L(d,p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Fi.preloadModule=function(d,g){if(typeof d=="string")if(g){var p=f(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},Fi.requestFormReset=function(d){r.d.r(d)},Fi.unstable_batchedUpdates=function(d,g){return d(g)},Fi.useFormState=function(d,g,p){return o.H.useFormState(d,g,p)},Fi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Fi.version="19.1.0",Fi}var m_;function lN(){if(m_)return Yp.exports;m_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=aN(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function oN(){if(x_)return Pu;x_=1;var t=iN(),e=wx(),n=lN();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function o(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(r(188))}function d(s){var a=s.alternate;if(!a){if(a=l(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return f(m),s;if(y===h)return f(m),a;y=y.sibling}throw Error(r(188))}if(c.return!==h.return)c=m,h=y;else{for(var k=!1,B=m.child;B;){if(B===c){k=!0,c=m,h=y;break}if(B===h){k=!0,h=m,c=y;break}B=B.sibling}if(!k){for(B=y.child;B;){if(B===c){k=!0,c=y,h=m;break}if(B===h){k=!0,h=y,c=m;break}B=B.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),I=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=xe&&s[xe]||s["@@iterator"],typeof s=="function"?s:null)}var De=Symbol.for("react.client.reference");function We(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===De?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case Q:return"Suspense";case Y:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case I:return(s.displayName||"Context")+".Provider";case j:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return a=s.displayName||null,a!==null?a:We(s.type)||"Memo";case U:a=s._payload,s=s._init;try{return We(s(a))}catch{}}return null}var Ye=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe={pending:!1,data:null,method:null,action:null},X=[],D=-1;function J(s){return{current:s}}function H(s){0>D||(s.current=X[D],X[D]=null,D--)}function K(s,a){D++,X[D]=s.current,s.current=a}var P=J(null),G=J(null),oe=J(null),Ne=J(null);function Ie(s,a){switch(K(oe,a),K(G,s),K(P,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Pb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Pb(a),s=Fb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(P),K(P,s)}function Je(){H(P),H(G),H(oe)}function Ke(s){s.memoizedState!==null&&K(Ne,s);var a=P.current,c=Fb(a,s.type);a!==c&&(K(G,s),K(P,c))}function pn(s){G.current===s&&(H(P),H(G)),Ne.current===s&&(H(Ne),Du._currentValue=Fe)}var Ft=Object.prototype.hasOwnProperty,un=t.unstable_scheduleCallback,Zt=t.unstable_cancelCallback,Bn=t.unstable_shouldYield,ft=t.unstable_requestPaint,He=t.unstable_now,Ct=t.unstable_getCurrentPriorityLevel,yn=t.unstable_ImmediatePriority,mn=t.unstable_UserBlockingPriority,Gn=t.unstable_NormalPriority,cr=t.unstable_LowPriority,ge=t.unstable_IdlePriority,ze=t.log,nt=t.unstable_setDisableYieldValue,Ee=null,Oe=null;function me(s){if(typeof ze=="function"&&nt(s),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Ee,s)}catch{}}var Ge=Math.clz32?Math.clz32:V,cn=Math.log,Qt=Math.LN2;function V(s){return s>>>=0,s===0?32:31-(cn(s)/Qt|0)|0}var Se=256,Be=4194304;function Mt(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ot(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var m=0,y=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var B=h&134217727;return B!==0?(h=B&~y,h!==0?m=Mt(h):(k&=B,k!==0?m=Mt(k):c||(c=B&~s,c!==0&&(m=Mt(c))))):(B=h&~y,B!==0?m=Mt(B):k!==0?m=Mt(k):c||(c=h&~s,c!==0&&(m=Mt(c)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:m}function Dt(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ht(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _t(){var s=Se;return Se<<=1,(Se&4194048)===0&&(Se=256),s}function jt(){var s=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),s}function Bt(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function $t(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function rn(s,a,c,h,m,y){var k=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var B=s.entanglements,ae=s.expirationTimes,Me=s.hiddenUpdates;for(c=k&~c;0<c;){var rt=31-Ge(c),ut=1<<rt;B[rt]=0,ae[rt]=-1;var Re=Me[rt];if(Re!==null)for(Me[rt]=null,rt=0;rt<Re.length;rt++){var je=Re[rt];je!==null&&(je.lane&=-536870913)}c&=~ut}h!==0&&qn(s,h,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(k&~a))}function qn(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Ge(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function Pn(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Ge(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}function wn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function fn(){var s=Pe.p;return s!==0?s:(s=window.event,s===void 0?32:r_(s.type))}function kn(s,a){var c=Pe.p;try{return Pe.p=s,a()}finally{Pe.p=c}}var Hn=Math.random().toString(36).slice(2),En="__reactFiber$"+Hn,Cn="__reactProps$"+Hn,hr="__reactContainer$"+Hn,_n="__reactEvents$"+Hn,we="__reactListeners$"+Hn,E="__reactHandles$"+Hn,O="__reactResources$"+Hn,R="__reactMarker$"+Hn;function M(s){delete s[En],delete s[Cn],delete s[_n],delete s[we],delete s[E]}function F(s){var a=s[En];if(a)return a;for(var c=s.parentNode;c;){if(a=c[hr]||c[En]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Ub(s);s!==null;){if(c=s[En])return c;s=Ub(s)}return a}s=c,c=s.parentNode}return null}function W(s){if(s=s[En]||s[hr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function se(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Te(s){var a=s[O];return a||(a=s[O]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function he(s){s[R]=!0}var be=new Set,ve={};function et(s,a){it(s,a),it(s+"Capture",a)}function it(s,a){for(ve[s]=a,s=0;s<a.length;s++)be.add(a[s])}var dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},mt={};function Xt(s){return Ft.call(mt,s)?!0:Ft.call(st,s)?!1:dt.test(s)?mt[s]=!0:(st[s]=!0,!1)}function en(s,a,c){if(Xt(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function hn(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function dn(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}var sr,Un;function er(s){if(sr===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);sr=a&&a[1]||"",Un=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+s+Un}var Jn=!1;function Dr(s,a){if(!s||Jn)return"";Jn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(je){var Re=je}Reflect.construct(s,[],ut)}else{try{ut.call()}catch(je){Re=je}s.call(ut.prototype)}}else{try{throw Error()}catch(je){Re=je}(ut=s())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(je){if(je&&Re&&typeof je.stack=="string")return[je.stack,Re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),k=y[0],B=y[1];if(k&&B){var ae=k.split(`
`),Me=B.split(`
`);for(m=h=0;h<ae.length&&!ae[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Me.length&&!Me[m].includes("DetermineComponentFrameRoot");)m++;if(h===ae.length||m===Me.length)for(h=ae.length-1,m=Me.length-1;1<=h&&0<=m&&ae[h]!==Me[m];)m--;for(;1<=h&&0<=m;h--,m--)if(ae[h]!==Me[m]){if(h!==1||m!==1)do if(h--,m--,0>m||ae[h]!==Me[m]){var rt=`
`+ae[h].replace(" at new "," at ");return s.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",s.displayName)),rt}while(1<=h&&0<=m);break}}}finally{Jn=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?er(c):""}function de(s){switch(s.tag){case 26:case 27:case 5:return er(s.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Dr(s.type,!1);case 11:return Dr(s.type.render,!1);case 1:return Dr(s.type,!0);case 31:return er("Activity");default:return""}}function Ot(s){try{var a="";do a+=de(s),s=s.return;while(s);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Ve(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Lt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(s){var a=Lt(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(k){h=""+k,y.call(this,k)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ce(s){s._valueTracker||(s._valueTracker=le(s))}function yt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Lt(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function Wt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Dn=/[\n"\\]/g;function bt(s){return s.replace(Dn,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ut(s,a,c,h,m,y,k,B){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),a!=null?k==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ve(a)):s.value!==""+Ve(a)&&(s.value=""+Ve(a)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),a!=null?sn(s,k,Ve(a)):c!=null?sn(s,k,Ve(c)):h!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+Ve(B):s.removeAttribute("name")}function Yt(s,a,c,h,m,y,k,B){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+Ve(c):"",a=a!=null?""+Ve(a):c,B||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=B?s.checked:!!h,s.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k)}function sn(s,a,c){a==="number"&&Wt(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Fr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Ve(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function br(s,a,c){if(a!=null&&(a=""+Ve(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Ve(c):""}function dr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(r(92));if(Ye(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Ve(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function Or(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Wn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ai(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||Wn.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function li(s,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&ai(s,m,h)}else for(var y in a)a.hasOwnProperty(y)&&ai(s,y,a[y])}function ji(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ki(s){return Kt.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var tn=null;function $i(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Mn=null,Vr=null;function Ts(s){var a=W(s);if(a&&(s=a.stateNode)){var c=s[Cn]||null;e:switch(s=a.stateNode,a.type){case"input":if(Ut(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+bt(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=h[Cn]||null;if(!m)throw Error(r(90));Ut(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&yt(h)}break e;case"textarea":br(s,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Fr(s,!!c.multiple,a,!1)}}}var Zi=!1;function Nt(s,a,c){if(Zi)return s(a,c);Zi=!0;try{var h=s(a);return h}finally{if(Zi=!1,(Mn!==null||Vr!==null)&&(Oh(),Mn&&(a=Mn,s=Vr,Vr=Mn=null,Ts(a),s)))for(a=0;a<s.length;a++)Ts(s[a])}}function gi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[Cn]||null;if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=!1;if(zt)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Li=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch{Li=!1}var pi=null,ei=null,Gs=null;function Kl(){if(Gs)return Gs;var s,a=ei,c=a.length,h,m="value"in pi?pi.value:pi.textContent,y=m.length;for(s=0;s<c&&a[s]===m[s];s++);var k=c-s;for(h=1;h<=k&&a[c-h]===m[y-h];h++);return Gs=m.slice(s,1<h?1-h:void 0)}function ks(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function oi(){return!0}function Zl(){return!1}function _r(s){function a(c,h,m,y,k){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(y):y[B]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?oi:Zl,this.isPropagationStopped=Zl,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),a}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=_r(Wi),da=p({},Wi,{view:0,detail:0}),Vi=_r(da),Ra,qs,z,fe=p({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==z&&(z&&s.type==="mousemove"?(Ra=s.screenX-z.screenX,qs=s.screenY-z.screenY):qs=Ra=0,z=s),Ra)},movementY:function(s){return"movementY"in s?s.movementY:qs}}),ye=_r(fe),Ze=p({},fe,{dataTransfer:0}),gt=_r(Ze),Et=p({},da,{relatedTarget:0}),Vt=_r(Et),vt=p({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),an=_r(vt),Ht=p({},Wi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),C=_r(Ht),te=p({},Wi,{data:0}),ne=_r(te),Ae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function At(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=qe[s])?!!a[s]:!1}function Qe(){return At}var ln=p({},da,{key:function(s){if(s.key){var a=Ae[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ks(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ue[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qe,charCode:function(s){return s.type==="keypress"?ks(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ks(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),on=_r(ln),vn=p({},fe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kn=_r(vn),Sr=p({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qe}),N=_r(Sr),re=p({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ce=_r(re),Le=p({},fe,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=_r(Le),ct=p({},Wi,{newState:0,oldState:0}),lt=_r(ct),St=[9,13,27,32],wt=zt&&"CompositionEvent"in window,It=null;zt&&"documentMode"in document&&(It=document.documentMode);var On=zt&&"TextEvent"in window&&!It,An=zt&&(!wt||It&&8<It&&11>=It),ar=" ",ci=!1;function Ii(s,a){switch(s){case"keyup":return St.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ur(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xs=!1;function X0(s,a){switch(s){case"compositionend":return ur(a);case"keypress":return a.which!==32?null:(ci=!0,ar);case"textInput":return s=a.data,s===ar&&ci?null:s;default:return null}}function J0(s,a){if(Xs)return s==="compositionend"||!wt&&Ii(s,a)?(s=Kl(),Gs=ei=pi=null,Xs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return An&&a.locale!=="ko"?null:a.data;default:return null}}var Ql={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wr(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ql[s.type]:a==="textarea"}function ja(s,a,c,h){Mn?Vr?Vr.push(h):Vr=[h]:Mn=h,a=Lh(a,"onChange"),0<a.length&&(c=new Cs("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Ns=null,Jc=null;function A4(s){Mb(s,0)}function Jf(s){var a=se(s);if(yt(a))return s}function Q1(s,a){if(s==="change")return a}var ev=!1;if(zt){var K0;if(zt){var Z0="oninput"in document;if(!Z0){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Z0=typeof tv.oninput=="function"}K0=Z0}else K0=!1;ev=K0&&(!document.documentMode||9<document.documentMode)}function nv(){Ns&&(Ns.detachEvent("onpropertychange",rv),Jc=Ns=null)}function rv(s){if(s.propertyName==="value"&&Jf(Jc)){var a=[];ja(a,Jc,s,$i(s)),Nt(A4,a)}}function D4(s,a,c){s==="focusin"?(nv(),Ns=a,Jc=c,Ns.attachEvent("onpropertychange",rv)):s==="focusout"&&nv()}function M4(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jf(Jc)}function R4(s,a){if(s==="click")return Jf(a)}function j4(s,a){if(s==="input"||s==="change")return Jf(a)}function L4(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var us=typeof Object.is=="function"?Object.is:L4;function Kc(s,a){if(us(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!Ft.call(a,m)||!us(s[m],a[m]))return!1}return!0}function iv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sv(s,a){var c=iv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=iv(c)}}function av(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?av(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function lv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Wt(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Wt(s.document)}return a}function Q0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var I4=zt&&"documentMode"in document&&11>=document.documentMode,Bo=null,eg=null,Zc=null,tg=!1;function ov(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;tg||Bo==null||Bo!==Wt(h)||(h=Bo,"selectionStart"in h&&Q0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zc&&Kc(Zc,h)||(Zc=h,h=Lh(eg,"onSelect"),0<h.length&&(a=new Cs("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Bo)))}function eo(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ho={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},ng={},cv={};zt&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function to(s){if(ng[s])return ng[s];if(!Ho[s])return s;var a=Ho[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in cv)return ng[s]=a[c];return s}var uv=to("animationend"),fv=to("animationiteration"),hv=to("animationstart"),P4=to("transitionrun"),F4=to("transitionstart"),z4=to("transitioncancel"),dv=to("transitionend"),gv=new Map,rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rg.push("scrollEnd");function Js(s,a){gv.set(s,a),et(a,[s])}var pv=new WeakMap;function Os(s,a){if(typeof s=="object"&&s!==null){var c=pv.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Ot(a)},pv.set(s,a),a)}return{value:s,source:a,stack:Ot(a)}}var As=[],Uo=0,ig=0;function Kf(){for(var s=Uo,a=ig=Uo=0;a<s;){var c=As[a];As[a++]=null;var h=As[a];As[a++]=null;var m=As[a];As[a++]=null;var y=As[a];if(As[a++]=null,h!==null&&m!==null){var k=h.pending;k===null?m.next=m:(m.next=k.next,k.next=m),h.pending=m}y!==0&&mv(c,m,y)}}function Zf(s,a,c,h){As[Uo++]=s,As[Uo++]=a,As[Uo++]=c,As[Uo++]=h,ig|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function sg(s,a,c,h){return Zf(s,a,c,h),Qf(s)}function $o(s,a){return Zf(s,null,null,a),Qf(s)}function mv(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var m=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-Ge(c),s=y.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=c|536870912),y):null}function Qf(s){if(50<wu)throw wu=0,fp=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Wo={};function B4(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(s,a,c,h){return new B4(s,a,c,h)}function ag(s){return s=s.prototype,!(!s||!s.isReactComponent)}function La(s,a){var c=s.alternate;return c===null?(c=fs(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function xv(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function eh(s,a,c,h,m,y){var k=0;if(h=s,typeof s=="function")ag(s)&&(k=1);else if(typeof s=="string")k=UC(s,c,P.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=fs(31,c,a,m),s.elementType=q,s.lanes=y,s;case w:return no(c.children,m,y,a);case S:k=8,m|=24;break;case T:return s=fs(12,c,a,m|2),s.elementType=T,s.lanes=y,s;case Q:return s=fs(13,c,a,m),s.elementType=Q,s.lanes=y,s;case Y:return s=fs(19,c,a,m),s.elementType=Y,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case I:k=10;break e;case j:k=9;break e;case Z:k=11;break e;case L:k=14;break e;case U:k=16,h=null;break e}k=29,c=Error(r(130,s===null?"null":typeof s,"")),h=null}return a=fs(k,c,a,m),a.elementType=s,a.type=h,a.lanes=y,a}function no(s,a,c,h){return s=fs(7,s,h,a),s.lanes=c,s}function lg(s,a,c){return s=fs(6,s,null,a),s.lanes=c,s}function og(s,a,c){return a=fs(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Vo=[],Yo=0,th=null,nh=0,Ds=[],Ms=0,ro=null,Ia=1,Pa="";function io(s,a){Vo[Yo++]=nh,Vo[Yo++]=th,th=s,nh=a}function vv(s,a,c){Ds[Ms++]=Ia,Ds[Ms++]=Pa,Ds[Ms++]=ro,ro=s;var h=Ia;s=Pa;var m=32-Ge(h)-1;h&=~(1<<m),c+=1;var y=32-Ge(a)+m;if(30<y){var k=m-m%5;y=(h&(1<<k)-1).toString(32),h>>=k,m-=k,Ia=1<<32-Ge(a)+m|c<<m|h,Pa=y+s}else Ia=1<<y|c<<m|h,Pa=s}function cg(s){s.return!==null&&(io(s,1),vv(s,1,0))}function ug(s){for(;s===th;)th=Vo[--Yo],Vo[Yo]=null,nh=Vo[--Yo],Vo[Yo]=null;for(;s===ro;)ro=Ds[--Ms],Ds[Ms]=null,Pa=Ds[--Ms],Ds[Ms]=null,Ia=Ds[--Ms],Ds[Ms]=null}var Yi=null,Yr=null,lr=!1,so=null,ga=!1,fg=Error(r(519));function ao(s){var a=Error(r(418,""));throw tu(Os(a,s)),fg}function yv(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[En]=s,a[Cn]=h,c){case"dialog":Yn("cancel",a),Yn("close",a);break;case"iframe":case"object":case"embed":Yn("load",a);break;case"video":case"audio":for(c=0;c<Tu.length;c++)Yn(Tu[c],a);break;case"source":Yn("error",a);break;case"img":case"image":case"link":Yn("error",a),Yn("load",a);break;case"details":Yn("toggle",a);break;case"input":Yn("invalid",a),Yt(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ce(a);break;case"select":Yn("invalid",a);break;case"textarea":Yn("invalid",a),dr(a,h.value,h.defaultValue,h.children),Ce(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Ib(a.textContent,c)?(h.popover!=null&&(Yn("beforetoggle",a),Yn("toggle",a)),h.onScroll!=null&&Yn("scroll",a),h.onScrollEnd!=null&&Yn("scrollend",a),h.onClick!=null&&(a.onclick=Ih),a=!0):a=!1,a||ao(s)}function bv(s){for(Yi=s.return;Yi;)switch(Yi.tag){case 5:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:Yi=Yi.return}}function Qc(s){if(s!==Yi)return!1;if(!lr)return bv(s),lr=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Cp(s.type,s.memoizedProps)),c=!c),c&&Yr&&ao(s),bv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(a===0){Yr=Zs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;s=s.nextSibling}Yr=null}}else a===27?(a=Yr,Al(s.type)?(s=Dp,Dp=null,Yr=s):Yr=a):Yr=Yi?Zs(s.stateNode.nextSibling):null;return!0}function eu(){Yr=Yi=null,lr=!1}function _v(){var s=so;return s!==null&&(ts===null?ts=s:ts.push.apply(ts,s),so=null),s}function tu(s){so===null?so=[s]:so.push(s)}var hg=J(null),lo=null,Fa=null;function pl(s,a,c){K(hg,a._currentValue),a._currentValue=c}function za(s){s._currentValue=hg.current,H(hg)}function dg(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function gg(s,a,c,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var k=m.child;y=y.firstContext;e:for(;y!==null;){var B=y;y=m;for(var ae=0;ae<a.length;ae++)if(B.context===a[ae]){y.lanes|=c,B=y.alternate,B!==null&&(B.lanes|=c),dg(y.return,c,s),h||(k=null);break e}y=B.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(r(341));k.lanes|=c,y=k.alternate,y!==null&&(y.lanes|=c),dg(k,c,s),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===s){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function nu(s,a,c,h){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var B=m.type;us(m.pendingProps.value,k.value)||(s!==null?s.push(B):s=[B])}}else if(m===Ne.current){if(k=m.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Du):s=[Du])}m=m.return}s!==null&&gg(a,s,c,h),a.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!us(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function oo(s){lo=s,Fa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Pi(s){return Sv(lo,s)}function ih(s,a){return lo===null&&oo(s),Sv(s,a)}function Sv(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Fa===null){if(s===null)throw Error(r(308));Fa=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Fa=Fa.next=a;return c}var H4=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},U4=t.unstable_scheduleCallback,$4=t.unstable_NormalPriority,ui={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new H4,data:new Map,refCount:0}}function ru(s){s.refCount--,s.refCount===0&&U4($4,function(){s.controller.abort()})}var iu=null,mg=0,Go=0,qo=null;function W4(s,a){if(iu===null){var c=iu=[];mg=0,Go=vp(),qo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return mg++,a.then(wv,wv),a}function wv(){if(--mg===0&&iu!==null){qo!==null&&(qo.status="fulfilled");var s=iu;iu=null,Go=0,qo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function V4(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var Ev=ee.S;ee.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&W4(s,a),Ev!==null&&Ev(s,a)};var co=J(null);function xg(){var s=co.current;return s!==null?s:Mr.pooledCache}function sh(s,a){a===null?K(co,co.current):K(co,a.pool)}function Tv(){var s=xg();return s===null?null:{parent:ui._currentValue,pool:s}}var su=Error(r(460)),kv=Error(r(474)),ah=Error(r(542)),vg={then:function(){}};function Cv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lh(){}function Nv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(lh,lh),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Av(s),s;default:if(typeof a.status=="string")a.then(lh,lh);else{if(s=Mr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Av(s),s}throw au=a,su}}var au=null;function Ov(){if(au===null)throw Error(r(459));var s=au;return au=null,s}function Av(s){if(s===su||s===ah)throw Error(r(483))}var ml=!1;function yg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vl(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(gr&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Qf(s),mv(s,null,c),a}return Zf(s,h,a,c),Qf(s)}function lu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Pn(s,c)}}function _g(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=k:y=y.next=k,c=c.next}while(c!==null);y===null?m=y=a:y=y.next=a}else m=y=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Sg=!1;function ou(){if(Sg){var s=qo;if(s!==null)throw s}}function cu(s,a,c,h){Sg=!1;var m=s.updateQueue;ml=!1;var y=m.firstBaseUpdate,k=m.lastBaseUpdate,B=m.shared.pending;if(B!==null){m.shared.pending=null;var ae=B,Me=ae.next;ae.next=null,k===null?y=Me:k.next=Me,k=ae;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,B=rt.lastBaseUpdate,B!==k&&(B===null?rt.firstBaseUpdate=Me:B.next=Me,rt.lastBaseUpdate=ae))}if(y!==null){var ut=m.baseState;k=0,rt=Me=ae=null,B=y;do{var Re=B.lane&-536870913,je=Re!==B.lane;if(je?(Zn&Re)===Re:(h&Re)===Re){Re!==0&&Re===Go&&(Sg=!0),rt!==null&&(rt=rt.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Tn=s,bn=B;Re=a;var kr=c;switch(bn.tag){case 1:if(Tn=bn.payload,typeof Tn=="function"){ut=Tn.call(kr,ut,Re);break e}ut=Tn;break e;case 3:Tn.flags=Tn.flags&-65537|128;case 0:if(Tn=bn.payload,Re=typeof Tn=="function"?Tn.call(kr,ut,Re):Tn,Re==null)break e;ut=p({},ut,Re);break e;case 2:ml=!0}}Re=B.callback,Re!==null&&(s.flags|=64,je&&(s.flags|=8192),je=m.callbacks,je===null?m.callbacks=[Re]:je.push(Re))}else je={lane:Re,tag:B.tag,payload:B.payload,callback:B.callback,next:null},rt===null?(Me=rt=je,ae=ut):rt=rt.next=je,k|=Re;if(B=B.next,B===null){if(B=m.shared.pending,B===null)break;je=B,B=je.next,je.next=null,m.lastBaseUpdate=je,m.shared.pending=null}}while(!0);rt===null&&(ae=ut),m.baseState=ae,m.firstBaseUpdate=Me,m.lastBaseUpdate=rt,y===null&&(m.shared.lanes=0),kl|=k,s.lanes=k,s.memoizedState=ut}}function Dv(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function Mv(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Dv(c[s],a)}var Xo=J(null),oh=J(0);function Rv(s,a){s=Ya,K(oh,s),K(Xo,a),Ya=s|a.baseLanes}function wg(){K(oh,Ya),K(Xo,Xo.current)}function Eg(){Ya=oh.current,H(Xo),H(oh)}var yl=0,zn=null,Er=null,ti=null,ch=!1,Jo=!1,uo=!1,uh=0,uu=0,Ko=null,Y4=0;function Jr(){throw Error(r(321))}function Tg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!us(s[c],a[c]))return!1;return!0}function kg(s,a,c,h,m,y){return yl=y,zn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ee.H=s===null||s.memoizedState===null?my:xy,uo=!1,y=c(h,m),uo=!1,Jo&&(y=Lv(a,c,h,m)),jv(s),y}function jv(s){ee.H=mh;var a=Er!==null&&Er.next!==null;if(yl=0,ti=Er=zn=null,ch=!1,uu=0,Ko=null,a)throw Error(r(300));s===null||mi||(s=s.dependencies,s!==null&&rh(s)&&(mi=!0))}function Lv(s,a,c,h){zn=s;var m=0;do{if(Jo&&(Ko=null),uu=0,Jo=!1,25<=m)throw Error(r(301));if(m+=1,ti=Er=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=Q4,y=a(c,h)}while(Jo);return y}function G4(){var s=ee.H,a=s.useState()[0];return a=typeof a.then=="function"?fu(a):a,s=s.useState()[0],(Er!==null?Er.memoizedState:null)!==s&&(zn.flags|=1024),a}function Cg(){var s=uh!==0;return uh=0,s}function Ng(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Og(s){if(ch){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ch=!1}yl=0,ti=Er=zn=null,Jo=!1,uu=uh=0,Ko=null}function Qi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?zn.memoizedState=ti=s:ti=ti.next=s,ti}function ni(){if(Er===null){var s=zn.alternate;s=s!==null?s.memoizedState:null}else s=Er.next;var a=ti===null?zn.memoizedState:ti.next;if(a!==null)ti=a,Er=s;else{if(s===null)throw zn.alternate===null?Error(r(467)):Error(r(310));Er=s,s={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},ti===null?zn.memoizedState=ti=s:ti=ti.next=s}return ti}function Ag(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(s){var a=uu;return uu+=1,Ko===null&&(Ko=[]),s=Nv(Ko,s,a),a=zn,(ti===null?a.memoizedState:ti.next)===null&&(a=a.alternate,ee.H=a===null||a.memoizedState===null?my:xy),s}function fh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return fu(s);if(s.$$typeof===I)return Pi(s)}throw Error(r(438,String(s)))}function Dg(s){var a=null,c=zn.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=zn.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Ag(),zn.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=ie;return a.index++,c}function Ba(s,a){return typeof a=="function"?a(s):a}function hh(s){var a=ni();return Mg(a,Er,s)}function Mg(s,a,c){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var m=s.baseQueue,y=h.pending;if(y!==null){if(m!==null){var k=m.next;m.next=y.next,y.next=k}a.baseQueue=m=y,h.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var B=k=null,ae=null,Me=a,rt=!1;do{var ut=Me.lane&-536870913;if(ut!==Me.lane?(Zn&ut)===ut:(yl&ut)===ut){var Re=Me.revertLane;if(Re===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),ut===Go&&(rt=!0);else if((yl&Re)===Re){Me=Me.next,Re===Go&&(rt=!0);continue}else ut={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ae===null?(B=ae=ut,k=y):ae=ae.next=ut,zn.lanes|=Re,kl|=Re;ut=Me.action,uo&&c(y,ut),y=Me.hasEagerState?Me.eagerState:c(y,ut)}else Re={lane:ut,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ae===null?(B=ae=Re,k=y):ae=ae.next=Re,zn.lanes|=ut,kl|=ut;Me=Me.next}while(Me!==null&&Me!==a);if(ae===null?k=y:ae.next=B,!us(y,s.memoizedState)&&(mi=!0,rt&&(c=qo,c!==null)))throw c;s.memoizedState=y,s.baseState=k,s.baseQueue=ae,h.lastRenderedState=y}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Rg(s){var a=ni(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,y=a.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do y=s(y,k.action),k=k.next;while(k!==m);us(y,a.memoizedState)||(mi=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function Iv(s,a,c){var h=zn,m=ni(),y=lr;if(y){if(c===void 0)throw Error(r(407));c=c()}else c=a();var k=!us((Er||m).memoizedState,c);k&&(m.memoizedState=c,mi=!0),m=m.queue;var B=zv.bind(null,h,m,s);if(hu(2048,8,B,[s]),m.getSnapshot!==a||k||ti!==null&&ti.memoizedState.tag&1){if(h.flags|=2048,Zo(9,dh(),Fv.bind(null,h,m,c,a),null),Mr===null)throw Error(r(349));y||(yl&124)!==0||Pv(h,a,c)}return c}function Pv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=zn.updateQueue,a===null?(a=Ag(),zn.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Fv(s,a,c,h){a.value=c,a.getSnapshot=h,Bv(a)&&Hv(s)}function zv(s,a,c){return c(function(){Bv(a)&&Hv(s)})}function Bv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!us(s,c)}catch{return!0}}function Hv(s){var a=$o(s,2);a!==null&&ms(a,s,2)}function jg(s){var a=Qi();if(typeof s=="function"){var c=s;if(s=c(),uo){me(!0);try{c()}finally{me(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:s},a}function Uv(s,a,c,h){return s.baseState=c,Mg(s,Er,typeof h=="function"?h:Ba)}function q4(s,a,c,h,m){if(ph(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){y.listeners.push(k)}};ee.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,$v(a,y)):(y.next=c.next,a.pending=c.next=y)}}function $v(s,a){var c=a.action,h=a.payload,m=s.state;if(a.isTransition){var y=ee.T,k={};ee.T=k;try{var B=c(m,h),ae=ee.S;ae!==null&&ae(k,B),Wv(s,a,B)}catch(Me){Lg(s,a,Me)}finally{ee.T=y}}else try{y=c(m,h),Wv(s,a,y)}catch(Me){Lg(s,a,Me)}}function Wv(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Vv(s,a,h)},function(h){return Lg(s,a,h)}):Vv(s,a,c)}function Vv(s,a,c){a.status="fulfilled",a.value=c,Yv(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,$v(s,c)))}function Lg(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Yv(a),a=a.next;while(a!==h)}s.action=null}function Yv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Gv(s,a){return a}function qv(s,a){if(lr){var c=Mr.formState;if(c!==null){e:{var h=zn;if(lr){if(Yr){t:{for(var m=Yr,y=ga;m.nodeType!==8;){if(!y){m=null;break t}if(m=Zs(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Yr=Zs(m.nextSibling),h=m.data==="F!";break e}}ao(h)}h=!1}h&&(a=c[0])}}return c=Qi(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:a},c.queue=h,c=dy.bind(null,zn,h),h.dispatch=c,h=jg(!1),y=Bg.bind(null,zn,!1,h.queue),h=Qi(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,c=q4.bind(null,zn,m,y,c),m.dispatch=c,h.memoizedState=s,[a,c,!1]}function Xv(s){var a=ni();return Jv(a,Er,s)}function Jv(s,a,c){if(a=Mg(s,a,Gv)[0],s=hh(Ba)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=fu(a)}catch(k){throw k===su?ah:k}else h=a;a=ni();var m=a.queue,y=m.dispatch;return c!==a.memoizedState&&(zn.flags|=2048,Zo(9,dh(),X4.bind(null,m,c),null)),[h,y,s]}function X4(s,a){s.action=a}function Kv(s){var a=ni(),c=Er;if(c!==null)return Jv(a,c,s);ni(),a=a.memoizedState,c=ni();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function Zo(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=zn.updateQueue,a===null&&(a=Ag(),zn.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function dh(){return{destroy:void 0,resource:void 0}}function Zv(){return ni().memoizedState}function gh(s,a,c,h){var m=Qi();h=h===void 0?null:h,zn.flags|=s,m.memoizedState=Zo(1|a,dh(),c,h)}function hu(s,a,c,h){var m=ni();h=h===void 0?null:h;var y=m.memoizedState.inst;Er!==null&&h!==null&&Tg(h,Er.memoizedState.deps)?m.memoizedState=Zo(a,y,c,h):(zn.flags|=s,m.memoizedState=Zo(1|a,y,c,h))}function Qv(s,a){gh(8390656,8,s,a)}function ey(s,a){hu(2048,8,s,a)}function ty(s,a){return hu(4,2,s,a)}function ny(s,a){return hu(4,4,s,a)}function ry(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function iy(s,a,c){c=c!=null?c.concat([s]):null,hu(4,4,ry.bind(null,a,s),c)}function Ig(){}function sy(s,a){var c=ni();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Tg(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function ay(s,a){var c=ni();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Tg(a,h[1]))return h[0];if(h=s(),uo){me(!0);try{s()}finally{me(!1)}}return c.memoizedState=[h,a],h}function Pg(s,a,c){return c===void 0||(yl&1073741824)!==0?s.memoizedState=a:(s.memoizedState=c,s=cb(),zn.lanes|=s,kl|=s,c)}function ly(s,a,c,h){return us(c,a)?c:Xo.current!==null?(s=Pg(s,c,h),us(s,a)||(mi=!0),s):(yl&42)===0?(mi=!0,s.memoizedState=c):(s=cb(),zn.lanes|=s,kl|=s,a)}function oy(s,a,c,h,m){var y=Pe.p;Pe.p=y!==0&&8>y?y:8;var k=ee.T,B={};ee.T=B,Bg(s,!1,a,c);try{var ae=m(),Me=ee.S;if(Me!==null&&Me(B,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var rt=V4(ae,h);du(s,a,rt,ps(s))}else du(s,a,h,ps(s))}catch(ut){du(s,a,{then:function(){},status:"rejected",reason:ut},ps())}finally{Pe.p=y,ee.T=k}}function J4(){}function Fg(s,a,c,h){if(s.tag!==5)throw Error(r(476));var m=cy(s).queue;oy(s,m,a,Fe,c===null?J4:function(){return uy(s),c(h)})}function cy(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Fe,baseState:Fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:Fe},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function uy(s){var a=cy(s).next.queue;du(s,a,{},ps())}function zg(){return Pi(Du)}function fy(){return ni().memoizedState}function hy(){return ni().memoizedState}function K4(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=ps();s=xl(c);var h=vl(a,s,c);h!==null&&(ms(h,a,c),lu(h,a,c)),a={cache:pg()},s.payload=a;return}a=a.return}}function Z4(s,a,c){var h=ps();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},ph(s)?gy(a,c):(c=sg(s,a,c,h),c!==null&&(ms(c,s,h),py(c,a,h)))}function dy(s,a,c){var h=ps();du(s,a,c,h)}function du(s,a,c,h){var m={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(ph(s))gy(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,B=y(k,c);if(m.hasEagerState=!0,m.eagerState=B,us(B,k))return Zf(s,a,m,0),Mr===null&&Kf(),!1}catch{}finally{}if(c=sg(s,a,m,h),c!==null)return ms(c,s,h),py(c,a,h),!0}return!1}function Bg(s,a,c,h){if(h={lane:2,revertLane:vp(),action:h,hasEagerState:!1,eagerState:null,next:null},ph(s)){if(a)throw Error(r(479))}else a=sg(s,c,h,2),a!==null&&ms(a,s,2)}function ph(s){var a=s.alternate;return s===zn||a!==null&&a===zn}function gy(s,a){Jo=ch=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function py(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Pn(s,c)}}var mh={readContext:Pi,use:fh,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useLayoutEffect:Jr,useInsertionEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useSyncExternalStore:Jr,useId:Jr,useHostTransitionStatus:Jr,useFormState:Jr,useActionState:Jr,useOptimistic:Jr,useMemoCache:Jr,useCacheRefresh:Jr},my={readContext:Pi,use:fh,useCallback:function(s,a){return Qi().memoizedState=[s,a===void 0?null:a],s},useContext:Pi,useEffect:Qv,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,gh(4194308,4,ry.bind(null,a,s),c)},useLayoutEffect:function(s,a){return gh(4194308,4,s,a)},useInsertionEffect:function(s,a){gh(4,2,s,a)},useMemo:function(s,a){var c=Qi();a=a===void 0?null:a;var h=s();if(uo){me(!0);try{s()}finally{me(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Qi();if(c!==void 0){var m=c(a);if(uo){me(!0);try{c(a)}finally{me(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=Z4.bind(null,zn,s),[h.memoizedState,s]},useRef:function(s){var a=Qi();return s={current:s},a.memoizedState=s},useState:function(s){s=jg(s);var a=s.queue,c=dy.bind(null,zn,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Ig,useDeferredValue:function(s,a){var c=Qi();return Pg(c,s,a)},useTransition:function(){var s=jg(!1);return s=oy.bind(null,zn,s.queue,!0,!1),Qi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=zn,m=Qi();if(lr){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Mr===null)throw Error(r(349));(Zn&124)!==0||Pv(h,a,c)}m.memoizedState=c;var y={value:c,getSnapshot:a};return m.queue=y,Qv(zv.bind(null,h,y,s),[s]),h.flags|=2048,Zo(9,dh(),Fv.bind(null,h,y,c,a),null),c},useId:function(){var s=Qi(),a=Mr.identifierPrefix;if(lr){var c=Pa,h=Ia;c=(h&~(1<<32-Ge(h)-1)).toString(32)+c,a=""+a+"R"+c,c=uh++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=Y4++,a=""+a+"r"+c.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:zg,useFormState:qv,useActionState:qv,useOptimistic:function(s){var a=Qi();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Bg.bind(null,zn,!0,c),c.dispatch=a,[s,a]},useMemoCache:Dg,useCacheRefresh:function(){return Qi().memoizedState=K4.bind(null,zn)}},xy={readContext:Pi,use:fh,useCallback:sy,useContext:Pi,useEffect:ey,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:hh,useRef:Zv,useState:function(){return hh(Ba)},useDebugValue:Ig,useDeferredValue:function(s,a){var c=ni();return ly(c,Er.memoizedState,s,a)},useTransition:function(){var s=hh(Ba)[0],a=ni().memoizedState;return[typeof s=="boolean"?s:fu(s),a]},useSyncExternalStore:Iv,useId:fy,useHostTransitionStatus:zg,useFormState:Xv,useActionState:Xv,useOptimistic:function(s,a){var c=ni();return Uv(c,Er,s,a)},useMemoCache:Dg,useCacheRefresh:hy},Q4={readContext:Pi,use:fh,useCallback:sy,useContext:Pi,useEffect:ey,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Rg,useRef:Zv,useState:function(){return Rg(Ba)},useDebugValue:Ig,useDeferredValue:function(s,a){var c=ni();return Er===null?Pg(c,s,a):ly(c,Er.memoizedState,s,a)},useTransition:function(){var s=Rg(Ba)[0],a=ni().memoizedState;return[typeof s=="boolean"?s:fu(s),a]},useSyncExternalStore:Iv,useId:fy,useHostTransitionStatus:zg,useFormState:Kv,useActionState:Kv,useOptimistic:function(s,a){var c=ni();return Er!==null?Uv(c,Er,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Dg,useCacheRefresh:hy},Qo=null,gu=0;function xh(s){var a=gu;return gu+=1,Qo===null&&(Qo=[]),Nv(Qo,s,a)}function pu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function vh(s,a){throw a.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function vy(s){var a=s._init;return a(s._payload)}function yy(s){function a(_e,pe){if(s){var ke=_e.deletions;ke===null?(_e.deletions=[pe],_e.flags|=16):ke.push(pe)}}function c(_e,pe){if(!s)return null;for(;pe!==null;)a(_e,pe),pe=pe.sibling;return null}function h(_e){for(var pe=new Map;_e!==null;)_e.key!==null?pe.set(_e.key,_e):pe.set(_e.index,_e),_e=_e.sibling;return pe}function m(_e,pe){return _e=La(_e,pe),_e.index=0,_e.sibling=null,_e}function y(_e,pe,ke){return _e.index=ke,s?(ke=_e.alternate,ke!==null?(ke=ke.index,ke<pe?(_e.flags|=67108866,pe):ke):(_e.flags|=67108866,pe)):(_e.flags|=1048576,pe)}function k(_e){return s&&_e.alternate===null&&(_e.flags|=67108866),_e}function B(_e,pe,ke,at){return pe===null||pe.tag!==6?(pe=lg(ke,_e.mode,at),pe.return=_e,pe):(pe=m(pe,ke),pe.return=_e,pe)}function ae(_e,pe,ke,at){var nn=ke.type;return nn===w?rt(_e,pe,ke.props.children,at,ke.key):pe!==null&&(pe.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===U&&vy(nn)===pe.type)?(pe=m(pe,ke.props),pu(pe,ke),pe.return=_e,pe):(pe=eh(ke.type,ke.key,ke.props,null,_e.mode,at),pu(pe,ke),pe.return=_e,pe)}function Me(_e,pe,ke,at){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==ke.containerInfo||pe.stateNode.implementation!==ke.implementation?(pe=og(ke,_e.mode,at),pe.return=_e,pe):(pe=m(pe,ke.children||[]),pe.return=_e,pe)}function rt(_e,pe,ke,at,nn){return pe===null||pe.tag!==7?(pe=no(ke,_e.mode,at,nn),pe.return=_e,pe):(pe=m(pe,ke),pe.return=_e,pe)}function ut(_e,pe,ke){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=lg(""+pe,_e.mode,ke),pe.return=_e,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return ke=eh(pe.type,pe.key,pe.props,null,_e.mode,ke),pu(ke,pe),ke.return=_e,ke;case b:return pe=og(pe,_e.mode,ke),pe.return=_e,pe;case U:var at=pe._init;return pe=at(pe._payload),ut(_e,pe,ke)}if(Ye(pe)||ue(pe))return pe=no(pe,_e.mode,ke,null),pe.return=_e,pe;if(typeof pe.then=="function")return ut(_e,xh(pe),ke);if(pe.$$typeof===I)return ut(_e,ih(_e,pe),ke);vh(_e,pe)}return null}function Re(_e,pe,ke,at){var nn=pe!==null?pe.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return nn!==null?null:B(_e,pe,""+ke,at);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case _:return ke.key===nn?ae(_e,pe,ke,at):null;case b:return ke.key===nn?Me(_e,pe,ke,at):null;case U:return nn=ke._init,ke=nn(ke._payload),Re(_e,pe,ke,at)}if(Ye(ke)||ue(ke))return nn!==null?null:rt(_e,pe,ke,at,null);if(typeof ke.then=="function")return Re(_e,pe,xh(ke),at);if(ke.$$typeof===I)return Re(_e,pe,ih(_e,ke),at);vh(_e,ke)}return null}function je(_e,pe,ke,at,nn){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return _e=_e.get(ke)||null,B(pe,_e,""+at,nn);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case _:return _e=_e.get(at.key===null?ke:at.key)||null,ae(pe,_e,at,nn);case b:return _e=_e.get(at.key===null?ke:at.key)||null,Me(pe,_e,at,nn);case U:var $n=at._init;return at=$n(at._payload),je(_e,pe,ke,at,nn)}if(Ye(at)||ue(at))return _e=_e.get(ke)||null,rt(pe,_e,at,nn,null);if(typeof at.then=="function")return je(_e,pe,ke,xh(at),nn);if(at.$$typeof===I)return je(_e,pe,ke,ih(pe,at),nn);vh(pe,at)}return null}function Tn(_e,pe,ke,at){for(var nn=null,$n=null,gn=pe,Sn=pe=0,vi=null;gn!==null&&Sn<ke.length;Sn++){gn.index>Sn?(vi=gn,gn=null):vi=gn.sibling;var tr=Re(_e,gn,ke[Sn],at);if(tr===null){gn===null&&(gn=vi);break}s&&gn&&tr.alternate===null&&a(_e,gn),pe=y(tr,pe,Sn),$n===null?nn=tr:$n.sibling=tr,$n=tr,gn=vi}if(Sn===ke.length)return c(_e,gn),lr&&io(_e,Sn),nn;if(gn===null){for(;Sn<ke.length;Sn++)gn=ut(_e,ke[Sn],at),gn!==null&&(pe=y(gn,pe,Sn),$n===null?nn=gn:$n.sibling=gn,$n=gn);return lr&&io(_e,Sn),nn}for(gn=h(gn);Sn<ke.length;Sn++)vi=je(gn,_e,Sn,ke[Sn],at),vi!==null&&(s&&vi.alternate!==null&&gn.delete(vi.key===null?Sn:vi.key),pe=y(vi,pe,Sn),$n===null?nn=vi:$n.sibling=vi,$n=vi);return s&&gn.forEach(function(Ll){return a(_e,Ll)}),lr&&io(_e,Sn),nn}function bn(_e,pe,ke,at){if(ke==null)throw Error(r(151));for(var nn=null,$n=null,gn=pe,Sn=pe=0,vi=null,tr=ke.next();gn!==null&&!tr.done;Sn++,tr=ke.next()){gn.index>Sn?(vi=gn,gn=null):vi=gn.sibling;var Ll=Re(_e,gn,tr.value,at);if(Ll===null){gn===null&&(gn=vi);break}s&&gn&&Ll.alternate===null&&a(_e,gn),pe=y(Ll,pe,Sn),$n===null?nn=Ll:$n.sibling=Ll,$n=Ll,gn=vi}if(tr.done)return c(_e,gn),lr&&io(_e,Sn),nn;if(gn===null){for(;!tr.done;Sn++,tr=ke.next())tr=ut(_e,tr.value,at),tr!==null&&(pe=y(tr,pe,Sn),$n===null?nn=tr:$n.sibling=tr,$n=tr);return lr&&io(_e,Sn),nn}for(gn=h(gn);!tr.done;Sn++,tr=ke.next())tr=je(gn,_e,Sn,tr.value,at),tr!==null&&(s&&tr.alternate!==null&&gn.delete(tr.key===null?Sn:tr.key),pe=y(tr,pe,Sn),$n===null?nn=tr:$n.sibling=tr,$n=tr);return s&&gn.forEach(function(eN){return a(_e,eN)}),lr&&io(_e,Sn),nn}function kr(_e,pe,ke,at){if(typeof ke=="object"&&ke!==null&&ke.type===w&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case _:e:{for(var nn=ke.key;pe!==null;){if(pe.key===nn){if(nn=ke.type,nn===w){if(pe.tag===7){c(_e,pe.sibling),at=m(pe,ke.props.children),at.return=_e,_e=at;break e}}else if(pe.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===U&&vy(nn)===pe.type){c(_e,pe.sibling),at=m(pe,ke.props),pu(at,ke),at.return=_e,_e=at;break e}c(_e,pe);break}else a(_e,pe);pe=pe.sibling}ke.type===w?(at=no(ke.props.children,_e.mode,at,ke.key),at.return=_e,_e=at):(at=eh(ke.type,ke.key,ke.props,null,_e.mode,at),pu(at,ke),at.return=_e,_e=at)}return k(_e);case b:e:{for(nn=ke.key;pe!==null;){if(pe.key===nn)if(pe.tag===4&&pe.stateNode.containerInfo===ke.containerInfo&&pe.stateNode.implementation===ke.implementation){c(_e,pe.sibling),at=m(pe,ke.children||[]),at.return=_e,_e=at;break e}else{c(_e,pe);break}else a(_e,pe);pe=pe.sibling}at=og(ke,_e.mode,at),at.return=_e,_e=at}return k(_e);case U:return nn=ke._init,ke=nn(ke._payload),kr(_e,pe,ke,at)}if(Ye(ke))return Tn(_e,pe,ke,at);if(ue(ke)){if(nn=ue(ke),typeof nn!="function")throw Error(r(150));return ke=nn.call(ke),bn(_e,pe,ke,at)}if(typeof ke.then=="function")return kr(_e,pe,xh(ke),at);if(ke.$$typeof===I)return kr(_e,pe,ih(_e,ke),at);vh(_e,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,pe!==null&&pe.tag===6?(c(_e,pe.sibling),at=m(pe,ke),at.return=_e,_e=at):(c(_e,pe),at=lg(ke,_e.mode,at),at.return=_e,_e=at),k(_e)):c(_e,pe)}return function(_e,pe,ke,at){try{gu=0;var nn=kr(_e,pe,ke,at);return Qo=null,nn}catch(gn){if(gn===su||gn===ah)throw gn;var $n=fs(29,gn,null,_e.mode);return $n.lanes=at,$n.return=_e,$n}finally{}}}var ec=yy(!0),by=yy(!1),Rs=J(null),pa=null;function bl(s){var a=s.alternate;K(fi,fi.current&1),K(Rs,s),pa===null&&(a===null||Xo.current!==null||a.memoizedState!==null)&&(pa=s)}function _y(s){if(s.tag===22){if(K(fi,fi.current),K(Rs,s),pa===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(pa=s)}}else _l()}function _l(){K(fi,fi.current),K(Rs,Rs.current)}function Ha(s){H(Rs),pa===s&&(pa=null),H(fi)}var fi=J(0);function yh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Ap(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Hg(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:p({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ug={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=ps(),m=xl(h);m.payload=a,c!=null&&(m.callback=c),a=vl(s,m,h),a!==null&&(ms(a,s,h),lu(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=ps(),m=xl(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=vl(s,m,h),a!==null&&(ms(a,s,h),lu(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=ps(),h=xl(c);h.tag=2,a!=null&&(h.callback=a),a=vl(s,h,c),a!==null&&(ms(a,s,c),lu(a,s,c))}};function Sy(s,a,c,h,m,y,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,k):a.prototype&&a.prototype.isPureReactComponent?!Kc(c,h)||!Kc(m,y):!0}function wy(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Ug.enqueueReplaceState(a,a.state,null)}function fo(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=p({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var bh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Ey(s){bh(s)}function Ty(s){console.error(s)}function ky(s){bh(s)}function _h(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Cy(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function $g(s,a,c){return c=xl(c),c.tag=3,c.payload={element:null},c.callback=function(){_h(s,a)},c}function Ny(s){return s=xl(s),s.tag=3,s}function Oy(s,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;s.payload=function(){return m(y)},s.callback=function(){Cy(a,c,h)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){Cy(a,c,h),typeof m!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})})}function eC(s,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&nu(a,c,m,!0),c=Rs.current,c!==null){switch(c.tag){case 13:return pa===null?dp():c.alternate===null&&Gr===0&&(Gr=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===vg?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),pp(s,h,m)),!1;case 22:return c.flags|=65536,h===vg?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),pp(s,h,m)),!1}throw Error(r(435,c.tag))}return pp(s,h,m),dp(),!1}if(lr)return a=Rs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==fg&&(s=Error(r(422),{cause:h}),tu(Os(s,c)))):(h!==fg&&(a=Error(r(423),{cause:h}),tu(Os(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=Os(h,c),m=$g(s.stateNode,h,m),_g(s,m),Gr!==4&&(Gr=2)),!1;var y=Error(r(520),{cause:h});if(y=Os(y,c),Su===null?Su=[y]:Su.push(y),Gr!==4&&(Gr=2),a===null)return!0;h=Os(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=$g(c.stateNode,h,s),_g(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Cl===null||!Cl.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Ny(m),Oy(m,s,c,h),_g(c,m),!1}c=c.return}while(c!==null);return!1}var Ay=Error(r(461)),mi=!1;function Ei(s,a,c,h){a.child=s===null?by(a,null,c,h):ec(a,s.child,c,h)}function Dy(s,a,c,h,m){c=c.render;var y=a.ref;if("ref"in h){var k={};for(var B in h)B!=="ref"&&(k[B]=h[B])}else k=h;return oo(a),h=kg(s,a,c,k,y,m),B=Cg(),s!==null&&!mi?(Ng(s,a,m),Ua(s,a,m)):(lr&&B&&cg(a),a.flags|=1,Ei(s,a,h,m),a.child)}function My(s,a,c,h,m){if(s===null){var y=c.type;return typeof y=="function"&&!ag(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,Ry(s,a,y,h,m)):(s=eh(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Kg(s,m)){var k=y.memoizedProps;if(c=c.compare,c=c!==null?c:Kc,c(k,h)&&s.ref===a.ref)return Ua(s,a,m)}return a.flags|=1,s=La(y,h),s.ref=a.ref,s.return=a,a.child=s}function Ry(s,a,c,h,m){if(s!==null){var y=s.memoizedProps;if(Kc(y,h)&&s.ref===a.ref)if(mi=!1,a.pendingProps=h=y,Kg(s,m))(s.flags&131072)!==0&&(mi=!0);else return a.lanes=s.lanes,Ua(s,a,m)}return Wg(s,a,c,h,m)}function jy(s,a,c){var h=a.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|c:c,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return Ly(s,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&sh(a,y!==null?y.cachePool:null),y!==null?Rv(a,y):wg(),_y(a);else return a.lanes=a.childLanes=536870912,Ly(s,a,y!==null?y.baseLanes|c:c,c)}else y!==null?(sh(a,y.cachePool),Rv(a,y),_l(),a.memoizedState=null):(s!==null&&sh(a,null),wg(),_l());return Ei(s,a,m,c),a.child}function Ly(s,a,c,h){var m=xg();return m=m===null?null:{parent:ui._currentValue,pool:m},a.memoizedState={baseLanes:c,cachePool:m},s!==null&&sh(a,null),wg(),_y(a),s!==null&&nu(s,a,h,!0),null}function Sh(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Wg(s,a,c,h,m){return oo(a),c=kg(s,a,c,h,void 0,m),h=Cg(),s!==null&&!mi?(Ng(s,a,m),Ua(s,a,m)):(lr&&h&&cg(a),a.flags|=1,Ei(s,a,c,m),a.child)}function Iy(s,a,c,h,m,y){return oo(a),a.updateQueue=null,c=Lv(a,h,c,m),jv(s),h=Cg(),s!==null&&!mi?(Ng(s,a,y),Ua(s,a,y)):(lr&&h&&cg(a),a.flags|=1,Ei(s,a,c,y),a.child)}function Py(s,a,c,h,m){if(oo(a),a.stateNode===null){var y=Wo,k=c.contextType;typeof k=="object"&&k!==null&&(y=Pi(k)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ug,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},yg(a),k=c.contextType,y.context=typeof k=="object"&&k!==null?Pi(k):Wo,y.state=a.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Hg(a,c,k,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(k=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),k!==y.state&&Ug.enqueueReplaceState(y,y.state,null),cu(a,h,y,m),ou(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var B=a.memoizedProps,ae=fo(c,B);y.props=ae;var Me=y.context,rt=c.contextType;k=Wo,typeof rt=="object"&&rt!==null&&(k=Pi(rt));var ut=c.getDerivedStateFromProps;rt=typeof ut=="function"||typeof y.getSnapshotBeforeUpdate=="function",B=a.pendingProps!==B,rt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(B||Me!==k)&&wy(a,y,h,k),ml=!1;var Re=a.memoizedState;y.state=Re,cu(a,h,y,m),ou(),Me=a.memoizedState,B||Re!==Me||ml?(typeof ut=="function"&&(Hg(a,c,ut,h),Me=a.memoizedState),(ae=ml||Sy(a,c,ae,h,Re,Me,k))?(rt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Me),y.props=h,y.state=Me,y.context=k,h=ae):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,bg(s,a),k=a.memoizedProps,rt=fo(c,k),y.props=rt,ut=a.pendingProps,Re=y.context,Me=c.contextType,ae=Wo,typeof Me=="object"&&Me!==null&&(ae=Pi(Me)),B=c.getDerivedStateFromProps,(Me=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==ut||Re!==ae)&&wy(a,y,h,ae),ml=!1,Re=a.memoizedState,y.state=Re,cu(a,h,y,m),ou();var je=a.memoizedState;k!==ut||Re!==je||ml||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof B=="function"&&(Hg(a,c,B,h),je=a.memoizedState),(rt=ml||Sy(a,c,rt,h,Re,je,ae)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?(Me||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,je,ae),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,je,ae)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===s.memoizedProps&&Re===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Re===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=je),y.props=h,y.state=je,y.context=ae,h=rt):(typeof y.componentDidUpdate!="function"||k===s.memoizedProps&&Re===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Re===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,Sh(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=ec(a,s.child,null,m),a.child=ec(a,null,c,m)):Ei(s,a,c,m),a.memoizedState=y.state,s=a.child):s=Ua(s,a,m),s}function Fy(s,a,c,h){return eu(),a.flags|=256,Ei(s,a,c,h),a.child}var Vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yg(s){return{baseLanes:s,cachePool:Tv()}}function Gg(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=js),s}function zy(s,a,c){var h=a.pendingProps,m=!1,y=(a.flags&128)!==0,k;if((k=y)||(k=s!==null&&s.memoizedState===null?!1:(fi.current&2)!==0),k&&(m=!0,a.flags&=-129),k=(a.flags&32)!==0,a.flags&=-33,s===null){if(lr){if(m?bl(a):_l(),lr){var B=Yr,ae;if(ae=B){e:{for(ae=B,B=ga;ae.nodeType!==8;){if(!B){B=null;break e}if(ae=Zs(ae.nextSibling),ae===null){B=null;break e}}B=ae}B!==null?(a.memoizedState={dehydrated:B,treeContext:ro!==null?{id:Ia,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},ae=fs(18,null,null,0),ae.stateNode=B,ae.return=a,a.child=ae,Yi=a,Yr=null,ae=!0):ae=!1}ae||ao(a)}if(B=a.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return Ap(B)?a.lanes=32:a.lanes=536870912,null;Ha(a)}return B=h.children,h=h.fallback,m?(_l(),m=a.mode,B=wh({mode:"hidden",children:B},m),h=no(h,m,c,null),B.return=a,h.return=a,B.sibling=h,a.child=B,m=a.child,m.memoizedState=Yg(c),m.childLanes=Gg(s,k,c),a.memoizedState=Vg,h):(bl(a),qg(a,B))}if(ae=s.memoizedState,ae!==null&&(B=ae.dehydrated,B!==null)){if(y)a.flags&256?(bl(a),a.flags&=-257,a=Xg(s,a,c)):a.memoizedState!==null?(_l(),a.child=s.child,a.flags|=128,a=null):(_l(),m=h.fallback,B=a.mode,h=wh({mode:"visible",children:h.children},B),m=no(m,B,c,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,ec(a,s.child,null,c),h=a.child,h.memoizedState=Yg(c),h.childLanes=Gg(s,k,c),a.memoizedState=Vg,a=m);else if(bl(a),Ap(B)){if(k=B.nextSibling&&B.nextSibling.dataset,k)var Me=k.dgst;k=Me,h=Error(r(419)),h.stack="",h.digest=k,tu({value:h,source:null,stack:null}),a=Xg(s,a,c)}else if(mi||nu(s,a,c,!1),k=(c&s.childLanes)!==0,mi||k){if(k=Mr,k!==null&&(h=c&-c,h=(h&42)!==0?1:wn(h),h=(h&(k.suspendedLanes|c))!==0?0:h,h!==0&&h!==ae.retryLane))throw ae.retryLane=h,$o(s,h),ms(k,s,h),Ay;B.data==="$?"||dp(),a=Xg(s,a,c)}else B.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=ae.treeContext,Yr=Zs(B.nextSibling),Yi=a,lr=!0,so=null,ga=!1,s!==null&&(Ds[Ms++]=Ia,Ds[Ms++]=Pa,Ds[Ms++]=ro,Ia=s.id,Pa=s.overflow,ro=a),a=qg(a,h.children),a.flags|=4096);return a}return m?(_l(),m=h.fallback,B=a.mode,ae=s.child,Me=ae.sibling,h=La(ae,{mode:"hidden",children:h.children}),h.subtreeFlags=ae.subtreeFlags&65011712,Me!==null?m=La(Me,m):(m=no(m,B,c,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,B=s.child.memoizedState,B===null?B=Yg(c):(ae=B.cachePool,ae!==null?(Me=ui._currentValue,ae=ae.parent!==Me?{parent:Me,pool:Me}:ae):ae=Tv(),B={baseLanes:B.baseLanes|c,cachePool:ae}),m.memoizedState=B,m.childLanes=Gg(s,k,c),a.memoizedState=Vg,h):(bl(a),c=s.child,s=c.sibling,c=La(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(k=a.deletions,k===null?(a.deletions=[s],a.flags|=16):k.push(s)),a.child=c,a.memoizedState=null,c)}function qg(s,a){return a=wh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function wh(s,a){return s=fs(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Xg(s,a,c){return ec(a,s.child,null,c),s=qg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function By(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),dg(s.return,a,c)}function Jg(s,a,c,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function Hy(s,a,c){var h=a.pendingProps,m=h.revealOrder,y=h.tail;if(Ei(s,a,h.children,c),h=fi.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&By(s,c,a);else if(s.tag===19)By(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(K(fi,h),m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&yh(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Jg(a,!1,m,c,y);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&yh(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Jg(a,!0,c,null,y);break;case"together":Jg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ua(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),kl|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(nu(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=La(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=La(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Kg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function tC(s,a,c){switch(a.tag){case 3:Ie(a,a.stateNode.containerInfo),pl(a,ui,s.memoizedState.cache),eu();break;case 27:case 5:Ke(a);break;case 4:Ie(a,a.stateNode.containerInfo);break;case 10:pl(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(bl(a),a.flags|=128,null):(c&a.child.childLanes)!==0?zy(s,a,c):(bl(a),s=Ua(s,a,c),s!==null?s.sibling:null);bl(a);break;case 19:var m=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(nu(s,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return Hy(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),K(fi,fi.current),h)break;return null;case 22:case 23:return a.lanes=0,jy(s,a,c);case 24:pl(a,ui,s.memoizedState.cache)}return Ua(s,a,c)}function Uy(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)mi=!0;else{if(!Kg(s,c)&&(a.flags&128)===0)return mi=!1,tC(s,a,c);mi=(s.flags&131072)!==0}else mi=!1,lr&&(a.flags&1048576)!==0&&vv(a,nh,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")ag(h)?(s=fo(h,s),a.tag=1,a=Py(null,a,h,s,c)):(a.tag=0,a=Wg(null,a,h,s,c));else{if(h!=null){if(m=h.$$typeof,m===Z){a.tag=11,a=Dy(null,a,h,s,c);break e}else if(m===L){a.tag=14,a=My(null,a,h,s,c);break e}}throw a=We(h)||h,Error(r(306,a,""))}}return a;case 0:return Wg(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=fo(h,a.pendingProps),Py(s,a,h,m,c);case 3:e:{if(Ie(a,a.stateNode.containerInfo),s===null)throw Error(r(387));h=a.pendingProps;var y=a.memoizedState;m=y.element,bg(s,a),cu(a,h,null,c);var k=a.memoizedState;if(h=k.cache,pl(a,ui,h),h!==y.cache&&gg(a,[ui],c,!0),ou(),h=k.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:k.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Fy(s,a,h,c);break e}else if(h!==m){m=Os(Error(r(424)),a),tu(m),a=Fy(s,a,h,c);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Yr=Zs(s.firstChild),Yi=a,lr=!0,so=null,ga=!0,c=by(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(eu(),h===m){a=Ua(s,a,c);break e}Ei(s,a,h,c)}a=a.child}return a;case 26:return Sh(s,a),s===null?(c=Yb(a.type,null,a.pendingProps,null))?a.memoizedState=c:lr||(c=a.type,s=a.pendingProps,h=Ph(oe.current).createElement(c),h[En]=a,h[Cn]=s,ki(h,c,s),he(h),a.stateNode=h):a.memoizedState=Yb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ke(a),s===null&&lr&&(h=a.stateNode=$b(a.type,a.pendingProps,oe.current),Yi=a,ga=!0,m=Yr,Al(a.type)?(Dp=m,Yr=Zs(h.firstChild)):Yr=m),Ei(s,a,a.pendingProps.children,c),Sh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&lr&&((m=h=Yr)&&(h=OC(h,a.type,a.pendingProps,ga),h!==null?(a.stateNode=h,Yi=a,Yr=Zs(h.firstChild),ga=!1,m=!0):m=!1),m||ao(a)),Ke(a),m=a.type,y=a.pendingProps,k=s!==null?s.memoizedProps:null,h=y.children,Cp(m,y)?h=null:k!==null&&Cp(m,k)&&(a.flags|=32),a.memoizedState!==null&&(m=kg(s,a,G4,null,null,c),Du._currentValue=m),Sh(s,a),Ei(s,a,h,c),a.child;case 6:return s===null&&lr&&((s=c=Yr)&&(c=AC(c,a.pendingProps,ga),c!==null?(a.stateNode=c,Yi=a,Yr=null,s=!0):s=!1),s||ao(a)),null;case 13:return zy(s,a,c);case 4:return Ie(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ec(a,null,h,c):Ei(s,a,h,c),a.child;case 11:return Dy(s,a,a.type,a.pendingProps,c);case 7:return Ei(s,a,a.pendingProps,c),a.child;case 8:return Ei(s,a,a.pendingProps.children,c),a.child;case 12:return Ei(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,pl(a,a.type,h.value),Ei(s,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,oo(a),m=Pi(m),h=h(m),a.flags|=1,Ei(s,a,h,c),a.child;case 14:return My(s,a,a.type,a.pendingProps,c);case 15:return Ry(s,a,a.type,a.pendingProps,c);case 19:return Hy(s,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},s===null?(c=wh(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=La(s.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return jy(s,a,c);case 24:return oo(a),h=Pi(ui),s===null?(m=xg(),m===null&&(m=Mr,y=pg(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),a.memoizedState={parent:h,cache:m},yg(a),pl(a,ui,m)):((s.lanes&c)!==0&&(bg(s,a),cu(a,null,null,c),ou()),m=s.memoizedState,y=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),pl(a,ui,h)):(h=y.cache,pl(a,ui,h),h!==m.cache&&gg(a,[ui],c,!0))),Ei(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function $a(s){s.flags|=4}function $y(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Kb(a)){if(a=Rs.current,a!==null&&((Zn&4194048)===Zn?pa!==null:(Zn&62914560)!==Zn&&(Zn&536870912)===0||a!==pa))throw au=vg,kv;s.flags|=8192}}function Eh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?jt():536870912,s.lanes|=a,ic|=a)}function mu(s,a){if(!lr)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function $r(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function nC(s,a,c){var h=a.pendingProps;switch(ug(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(a),null;case 1:return $r(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),za(ui),Je(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Qc(a)?$a(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_v())),$r(a),null;case 26:return c=a.memoizedState,s===null?($a(a),c!==null?($r(a),$y(a,c)):($r(a),a.flags&=-16777217)):c?c!==s.memoizedState?($a(a),$r(a),$y(a,c)):($r(a),a.flags&=-16777217):(s.memoizedProps!==h&&$a(a),$r(a),a.flags&=-16777217),null;case 27:pn(a),c=oe.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&$a(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return $r(a),null}s=P.current,Qc(a)?yv(a):(s=$b(m,h,c),a.stateNode=s,$a(a))}return $r(a),null;case 5:if(pn(a),c=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&$a(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return $r(a),null}if(s=P.current,Qc(a))yv(a);else{switch(m=Ph(oe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?m.createElement(c,{is:h.is}):m.createElement(c)}}s[En]=a,s[Cn]=h;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(ki(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$a(a)}}return $r(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&$a(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(s=oe.current,Qc(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,m=Yi,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[En]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Ib(s.nodeValue,c)),s||ao(a)}else s=Ph(s).createTextNode(h),s[En]=a,a.stateNode=s}return $r(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Qc(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[En]=a}else eu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$r(a),m=!1}else m=_v(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ha(a),a):(Ha(a),null)}if(Ha(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)}return c!==s&&c&&(a.child.flags|=8192),Eh(a,a.updateQueue),$r(a),null;case 4:return Je(),s===null&&Sp(a.stateNode.containerInfo),$r(a),null;case 10:return za(a.type),$r(a),null;case 19:if(H(fi),m=a.memoizedState,m===null)return $r(a),null;if(h=(a.flags&128)!==0,y=m.rendering,y===null)if(h)mu(m,!1);else{if(Gr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=yh(s),y!==null){for(a.flags|=128,mu(m,!1),s=y.updateQueue,a.updateQueue=s,Eh(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)xv(c,s),c=c.sibling;return K(fi,fi.current&1|2),a.child}s=s.sibling}m.tail!==null&&He()>Ch&&(a.flags|=128,h=!0,mu(m,!1),a.lanes=4194304)}else{if(!h)if(s=yh(y),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,Eh(a,s),mu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!lr)return $r(a),null}else 2*He()-m.renderingStartTime>Ch&&c!==536870912&&(a.flags|=128,h=!0,mu(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=He(),a.sibling=null,s=fi.current,K(fi,h?s&1|2:s&1),a):($r(a),null);case 22:case 23:return Ha(a),Eg(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&($r(a),a.subtreeFlags&6&&(a.flags|=8192)):$r(a),c=a.updateQueue,c!==null&&Eh(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&H(co),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),za(ui),$r(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function rC(s,a){switch(ug(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return za(ui),Je(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return pn(a),null;case 13:if(Ha(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));eu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return H(fi),null;case 4:return Je(),null;case 10:return za(a.type),null;case 22:case 23:return Ha(a),Eg(),s!==null&&H(co),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return za(ui),null;case 25:return null;default:return null}}function Wy(s,a){switch(ug(a),a.tag){case 3:za(ui),Je();break;case 26:case 27:case 5:pn(a);break;case 4:Je();break;case 13:Ha(a);break;case 19:H(fi);break;case 10:za(a.type);break;case 22:case 23:Ha(a),Eg(),s!==null&&H(co);break;case 24:za(ui)}}function xu(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&s)===s){h=void 0;var y=c.create,k=c.inst;h=y(),k.destroy=h}c=c.next}while(c!==m)}}catch(B){Ar(a,a.return,B)}}function Sl(s,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&s)===s){var k=h.inst,B=k.destroy;if(B!==void 0){k.destroy=void 0,m=a;var ae=c,Me=B;try{Me()}catch(rt){Ar(m,ae,rt)}}}h=h.next}while(h!==y)}}catch(rt){Ar(a,a.return,rt)}}function Vy(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{Mv(a,c)}catch(h){Ar(s,s.return,h)}}}function Yy(s,a,c){c.props=fo(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){Ar(s,a,h)}}function vu(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(m){Ar(s,a,m)}}function ma(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){Ar(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Ar(s,a,m)}else c.current=null}function Gy(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){Ar(s,s.return,m)}}function Zg(s,a,c){try{var h=s.stateNode;EC(h,s.type,c,a),h[Cn]=a}catch(m){Ar(s,s.return,m)}}function qy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Al(s.type)||s.tag===4}function Qg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Al(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ep(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ih));else if(h!==4&&(h===27&&Al(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(ep(s,a,c),s=s.sibling;s!==null;)ep(s,a,c),s=s.sibling}function Th(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Al(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Th(s,a,c),s=s.sibling;s!==null;)Th(s,a,c),s=s.sibling}function Xy(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);ki(a,h,c),a[En]=s,a[Cn]=c}catch(y){Ar(s,s.return,y)}}var Wa=!1,Kr=!1,tp=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,xi=null;function iC(s,a){if(s=s.containerInfo,Tp=$h,s=lv(s),Q0(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var k=0,B=-1,ae=-1,Me=0,rt=0,ut=s,Re=null;t:for(;;){for(var je;ut!==c||m!==0&&ut.nodeType!==3||(B=k+m),ut!==y||h!==0&&ut.nodeType!==3||(ae=k+h),ut.nodeType===3&&(k+=ut.nodeValue.length),(je=ut.firstChild)!==null;)Re=ut,ut=je;for(;;){if(ut===s)break t;if(Re===c&&++Me===m&&(B=k),Re===y&&++rt===h&&(ae=k),(je=ut.nextSibling)!==null)break;ut=Re,Re=ut.parentNode}ut=je}c=B===-1||ae===-1?null:{start:B,end:ae}}else c=null}c=c||{start:0,end:0}}else c=null;for(kp={focusedElem:s,selectionRange:c},$h=!1,xi=a;xi!==null;)if(a=xi,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,xi=s;else for(;xi!==null;){switch(a=xi,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,m=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Tn=fo(c.type,m,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(Tn,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(bn){Ar(c,c.return,bn)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)Op(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Op(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,xi=s;break}xi=a.return}}function Ky(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:wl(s,c),h&4&&xu(5,c);break;case 1:if(wl(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(k){Ar(c,c.return,k)}else{var m=fo(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){Ar(c,c.return,k)}}h&64&&Vy(c),h&512&&vu(c,c.return);break;case 3:if(wl(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Mv(s,a)}catch(k){Ar(c,c.return,k)}}break;case 27:a===null&&h&4&&Xy(c);case 26:case 5:wl(s,c),a===null&&h&4&&Gy(c),h&512&&vu(c,c.return);break;case 12:wl(s,c);break;case 13:wl(s,c),h&4&&eb(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=dC.bind(null,c),DC(s,c))));break;case 22:if(h=c.memoizedState!==null||Wa,!h){a=a!==null&&a.memoizedState!==null||Kr,m=Wa;var y=Kr;Wa=h,(Kr=a)&&!y?El(s,c,(c.subtreeFlags&8772)!==0):wl(s,c),Wa=m,Kr=y}break;case 30:break;default:wl(s,c)}}function Zy(s){var a=s.alternate;a!==null&&(s.alternate=null,Zy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&M(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var zr=null,es=!1;function Va(s,a,c){for(c=c.child;c!==null;)Qy(s,a,c),c=c.sibling}function Qy(s,a,c){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Ee,c)}catch{}switch(c.tag){case 26:Kr||ma(c,a),Va(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Kr||ma(c,a);var h=zr,m=es;Al(c.type)&&(zr=c.stateNode,es=!1),Va(s,a,c),Cu(c.stateNode),zr=h,es=m;break;case 5:Kr||ma(c,a);case 6:if(h=zr,m=es,zr=null,Va(s,a,c),zr=h,es=m,zr!==null)if(es)try{(zr.nodeType===9?zr.body:zr.nodeName==="HTML"?zr.ownerDocument.body:zr).removeChild(c.stateNode)}catch(y){Ar(c,a,y)}else try{zr.removeChild(c.stateNode)}catch(y){Ar(c,a,y)}break;case 18:zr!==null&&(es?(s=zr,Hb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Lu(s)):Hb(zr,c.stateNode));break;case 4:h=zr,m=es,zr=c.stateNode.containerInfo,es=!0,Va(s,a,c),zr=h,es=m;break;case 0:case 11:case 14:case 15:Kr||Sl(2,c,a),Kr||Sl(4,c,a),Va(s,a,c);break;case 1:Kr||(ma(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Yy(c,a,h)),Va(s,a,c);break;case 21:Va(s,a,c);break;case 22:Kr=(h=Kr)||c.memoizedState!==null,Va(s,a,c),Kr=h;break;default:Va(s,a,c)}}function eb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Lu(s)}catch(c){Ar(a,a.return,c)}}function sC(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Jy),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Jy),a;default:throw Error(r(435,s.tag))}}function np(s,a){var c=sC(s);a.forEach(function(h){var m=gC.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}function hs(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],y=s,k=a,B=k;e:for(;B!==null;){switch(B.tag){case 27:if(Al(B.type)){zr=B.stateNode,es=!1;break e}break;case 5:zr=B.stateNode,es=!1;break e;case 3:case 4:zr=B.stateNode.containerInfo,es=!0;break e}B=B.return}if(zr===null)throw Error(r(160));Qy(y,k,m),zr=null,es=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)tb(a,s),a=a.sibling}var Ks=null;function tb(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:hs(a,s),ds(s),h&4&&(Sl(3,s,s.return),xu(3,s),Sl(5,s,s.return));break;case 1:hs(a,s),ds(s),h&512&&(Kr||c===null||ma(c,c.return)),h&64&&Wa&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Ks;if(hs(a,s),ds(s),h&512&&(Kr||c===null||ma(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[R]||y[En]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),ki(y,h,c),y[En]=s,he(y),h=y;break e;case"link":var k=Xb("link","href",m).get(h+(c.href||""));if(k){for(var B=0;B<k.length;B++)if(y=k[B],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(B,1);break t}}y=m.createElement(h),ki(y,h,c),m.head.appendChild(y);break;case"meta":if(k=Xb("meta","content",m).get(h+(c.content||""))){for(B=0;B<k.length;B++)if(y=k[B],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(B,1);break t}}y=m.createElement(h),ki(y,h,c),m.head.appendChild(y);break;default:throw Error(r(468,h))}y[En]=s,he(y),h=y}s.stateNode=h}else Jb(m,s.type,s.stateNode);else s.stateNode=qb(m,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?Jb(m,s.type,s.stateNode):qb(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Zg(s,s.memoizedProps,c.memoizedProps)}break;case 27:hs(a,s),ds(s),h&512&&(Kr||c===null||ma(c,c.return)),c!==null&&h&4&&Zg(s,s.memoizedProps,c.memoizedProps);break;case 5:if(hs(a,s),ds(s),h&512&&(Kr||c===null||ma(c,c.return)),s.flags&32){m=s.stateNode;try{Or(m,"")}catch(je){Ar(s,s.return,je)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,Zg(s,m,c!==null?c.memoizedProps:m)),h&1024&&(tp=!0);break;case 6:if(hs(a,s),ds(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(je){Ar(s,s.return,je)}}break;case 3:if(Bh=null,m=Ks,Ks=Fh(a.containerInfo),hs(a,s),Ks=m,ds(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Lu(a.containerInfo)}catch(je){Ar(s,s.return,je)}tp&&(tp=!1,nb(s));break;case 4:h=Ks,Ks=Fh(s.stateNode.containerInfo),hs(a,s),ds(s),Ks=h;break;case 12:hs(a,s),ds(s);break;case 13:hs(a,s),ds(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(op=He()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,np(s,h)));break;case 22:m=s.memoizedState!==null;var ae=c!==null&&c.memoizedState!==null,Me=Wa,rt=Kr;if(Wa=Me||m,Kr=rt||ae,hs(a,s),Kr=rt,Wa=Me,ds(s),h&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||ae||Wa||Kr||ho(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){ae=c=a;try{if(y=ae.stateNode,m)k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{B=ae.stateNode;var ut=ae.memoizedProps.style,Re=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;B.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(je){Ar(ae,ae.return,je)}}}else if(a.tag===6){if(c===null){ae=a;try{ae.stateNode.nodeValue=m?"":ae.memoizedProps}catch(je){Ar(ae,ae.return,je)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,np(s,c))));break;case 19:hs(a,s),ds(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,np(s,h)));break;case 30:break;case 21:break;default:hs(a,s),ds(s)}}function ds(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(qy(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,y=Qg(s);Th(s,y,m);break;case 5:var k=c.stateNode;c.flags&32&&(Or(k,""),c.flags&=-33);var B=Qg(s);Th(s,B,k);break;case 3:case 4:var ae=c.stateNode.containerInfo,Me=Qg(s);ep(s,Me,ae);break;default:throw Error(r(161))}}catch(rt){Ar(s,s.return,rt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function nb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;nb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function wl(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ky(s,a.alternate,a),a=a.sibling}function ho(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Sl(4,a,a.return),ho(a);break;case 1:ma(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Yy(a,a.return,c),ho(a);break;case 27:Cu(a.stateNode);case 26:case 5:ma(a,a.return),ho(a);break;case 22:a.memoizedState===null&&ho(a);break;case 30:ho(a);break;default:ho(a)}s=s.sibling}}function El(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,y=a,k=y.flags;switch(y.tag){case 0:case 11:case 15:El(m,y,c),xu(4,y);break;case 1:if(El(m,y,c),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Me){Ar(h,h.return,Me)}if(h=y,m=h.updateQueue,m!==null){var B=h.stateNode;try{var ae=m.shared.hiddenCallbacks;if(ae!==null)for(m.shared.hiddenCallbacks=null,m=0;m<ae.length;m++)Dv(ae[m],B)}catch(Me){Ar(h,h.return,Me)}}c&&k&64&&Vy(y),vu(y,y.return);break;case 27:Xy(y);case 26:case 5:El(m,y,c),c&&h===null&&k&4&&Gy(y),vu(y,y.return);break;case 12:El(m,y,c);break;case 13:El(m,y,c),c&&k&4&&eb(m,y);break;case 22:y.memoizedState===null&&El(m,y,c),vu(y,y.return);break;case 30:break;default:El(m,y,c)}a=a.sibling}}function rp(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&ru(c))}function ip(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ru(s))}function xa(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rb(s,a,c,h),a=a.sibling}function rb(s,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:xa(s,a,c,h),m&2048&&xu(9,a);break;case 1:xa(s,a,c,h);break;case 3:xa(s,a,c,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ru(s)));break;case 12:if(m&2048){xa(s,a,c,h),s=a.stateNode;try{var y=a.memoizedProps,k=y.id,B=y.onPostCommit;typeof B=="function"&&B(k,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ae){Ar(a,a.return,ae)}}else xa(s,a,c,h);break;case 13:xa(s,a,c,h);break;case 23:break;case 22:y=a.stateNode,k=a.alternate,a.memoizedState!==null?y._visibility&2?xa(s,a,c,h):yu(s,a):y._visibility&2?xa(s,a,c,h):(y._visibility|=2,tc(s,a,c,h,(a.subtreeFlags&10256)!==0)),m&2048&&rp(k,a);break;case 24:xa(s,a,c,h),m&2048&&ip(a.alternate,a);break;default:xa(s,a,c,h)}}function tc(s,a,c,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,k=a,B=c,ae=h,Me=k.flags;switch(k.tag){case 0:case 11:case 15:tc(y,k,B,ae,m),xu(8,k);break;case 23:break;case 22:var rt=k.stateNode;k.memoizedState!==null?rt._visibility&2?tc(y,k,B,ae,m):yu(y,k):(rt._visibility|=2,tc(y,k,B,ae,m)),m&&Me&2048&&rp(k.alternate,k);break;case 24:tc(y,k,B,ae,m),m&&Me&2048&&ip(k.alternate,k);break;default:tc(y,k,B,ae,m)}a=a.sibling}}function yu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,m=h.flags;switch(h.tag){case 22:yu(c,h),m&2048&&rp(h.alternate,h);break;case 24:yu(c,h),m&2048&&ip(h.alternate,h);break;default:yu(c,h)}a=a.sibling}}var bu=8192;function nc(s){if(s.subtreeFlags&bu)for(s=s.child;s!==null;)ib(s),s=s.sibling}function ib(s){switch(s.tag){case 26:nc(s),s.flags&bu&&s.memoizedState!==null&&WC(Ks,s.memoizedState,s.memoizedProps);break;case 5:nc(s);break;case 3:case 4:var a=Ks;Ks=Fh(s.stateNode.containerInfo),nc(s),Ks=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=bu,bu=16777216,nc(s),bu=a):nc(s));break;default:nc(s)}}function sb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function _u(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];xi=h,lb(h,s)}sb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ab(s),s=s.sibling}function ab(s){switch(s.tag){case 0:case 11:case 15:_u(s),s.flags&2048&&Sl(9,s,s.return);break;case 3:_u(s);break;case 12:_u(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,kh(s)):_u(s);break;default:_u(s)}}function kh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];xi=h,lb(h,s)}sb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Sl(8,a,a.return),kh(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,kh(a));break;default:kh(a)}s=s.sibling}}function lb(s,a){for(;xi!==null;){var c=xi;switch(c.tag){case 0:case 11:case 15:Sl(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ru(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,xi=h;else e:for(c=s;xi!==null;){h=xi;var m=h.sibling,y=h.return;if(Zy(h),h===c){xi=null;break e}if(m!==null){m.return=y,xi=m;break e}xi=y}}}var aC={getCacheForType:function(s){var a=Pi(ui),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c}},lC=typeof WeakMap=="function"?WeakMap:Map,gr=0,Mr=null,Vn=null,Zn=0,pr=0,gs=null,Tl=!1,rc=!1,sp=!1,Ya=0,Gr=0,kl=0,go=0,ap=0,js=0,ic=0,Su=null,ts=null,lp=!1,op=0,Ch=1/0,Nh=null,Cl=null,Ti=0,Nl=null,sc=null,ac=0,cp=0,up=null,ob=null,wu=0,fp=null;function ps(){if((gr&2)!==0&&Zn!==0)return Zn&-Zn;if(ee.T!==null){var s=Go;return s!==0?s:vp()}return fn()}function cb(){js===0&&(js=(Zn&536870912)===0||lr?_t():536870912);var s=Rs.current;return s!==null&&(s.flags|=32),js}function ms(s,a,c){(s===Mr&&(pr===2||pr===9)||s.cancelPendingCommit!==null)&&(lc(s,0),Ol(s,Zn,js,!1)),$t(s,c),((gr&2)===0||s!==Mr)&&(s===Mr&&((gr&2)===0&&(go|=c),Gr===4&&Ol(s,Zn,js,!1)),va(s))}function ub(s,a,c){if((gr&6)!==0)throw Error(r(327));var h=!c&&(a&124)===0&&(a&s.expiredLanes)===0||Dt(s,a),m=h?uC(s,a):gp(s,a,!0),y=h;do{if(m===0){rc&&!h&&Ol(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!oC(c)){m=gp(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){a=k;e:{var B=s;m=Su;var ae=B.current.memoizedState.isDehydrated;if(ae&&(lc(B,k).flags|=256),k=gp(B,k,!1),k!==2){if(sp&&!ae){B.errorRecoveryDisabledLanes|=y,go|=y,m=4;break e}y=ts,ts=m,y!==null&&(ts===null?ts=y:ts.push.apply(ts,y))}m=k}if(y=!1,m!==2)continue}}if(m===1){lc(s,0),Ol(s,a,0,!0);break}e:{switch(h=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ol(h,a,js,!Tl);break e;case 2:ts=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=op+300-He(),10<m)){if(Ol(h,a,js,!Tl),ot(h,0,!0)!==0)break e;h.timeoutHandle=zb(fb.bind(null,h,c,ts,Nh,lp,a,js,go,ic,Tl,y,2,-0,0),m);break e}fb(h,c,ts,Nh,lp,a,js,go,ic,Tl,y,0,-0,0)}}break}while(!0);va(s)}function fb(s,a,c,h,m,y,k,B,ae,Me,rt,ut,Re,je){if(s.timeoutHandle=-1,ut=a.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:$C},ib(a),ut=VC(),ut!==null)){s.cancelPendingCommit=ut(vb.bind(null,s,a,y,c,h,m,k,B,ae,rt,1,Re,je)),Ol(s,y,k,!Me);return}vb(s,a,y,c,h,m,k,B,ae)}function oC(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!us(y(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ol(s,a,c,h){a&=~ap,a&=~go,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var y=31-Ge(m),k=1<<y;h[y]=-1,m&=~k}c!==0&&qn(s,c,a)}function Oh(){return(gr&6)===0?(Eu(0),!1):!0}function hp(){if(Vn!==null){if(pr===0)var s=Vn.return;else s=Vn,Fa=lo=null,Og(s),Qo=null,gu=0,s=Vn;for(;s!==null;)Wy(s.alternate,s),s=s.return;Vn=null}}function lc(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,kC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),hp(),Mr=s,Vn=c=La(s.current,null),Zn=a,pr=0,gs=null,Tl=!1,rc=Dt(s,a),sp=!1,ic=js=ap=go=kl=Gr=0,ts=Su=null,lp=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-Ge(h),y=1<<m;a|=s[m],h&=~y}return Ya=a,Kf(),c}function hb(s,a){zn=null,ee.H=mh,a===su||a===ah?(a=Ov(),pr=3):a===kv?(a=Ov(),pr=4):pr=a===Ay?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gs=a,Vn===null&&(Gr=1,_h(s,Os(a,s.current)))}function db(){var s=ee.H;return ee.H=mh,s===null?mh:s}function gb(){var s=ee.A;return ee.A=aC,s}function dp(){Gr=4,Tl||(Zn&4194048)!==Zn&&Rs.current!==null||(rc=!0),(kl&134217727)===0&&(go&134217727)===0||Mr===null||Ol(Mr,Zn,js,!1)}function gp(s,a,c){var h=gr;gr|=2;var m=db(),y=gb();(Mr!==s||Zn!==a)&&(Nh=null,lc(s,a)),a=!1;var k=Gr;e:do try{if(pr!==0&&Vn!==null){var B=Vn,ae=gs;switch(pr){case 8:hp(),k=6;break e;case 3:case 2:case 9:case 6:Rs.current===null&&(a=!0);var Me=pr;if(pr=0,gs=null,oc(s,B,ae,Me),c&&rc){k=0;break e}break;default:Me=pr,pr=0,gs=null,oc(s,B,ae,Me)}}cC(),k=Gr;break}catch(rt){hb(s,rt)}while(!0);return a&&s.shellSuspendCounter++,Fa=lo=null,gr=h,ee.H=m,ee.A=y,Vn===null&&(Mr=null,Zn=0,Kf()),k}function cC(){for(;Vn!==null;)pb(Vn)}function uC(s,a){var c=gr;gr|=2;var h=db(),m=gb();Mr!==s||Zn!==a?(Nh=null,Ch=He()+500,lc(s,a)):rc=Dt(s,a);e:do try{if(pr!==0&&Vn!==null){a=Vn;var y=gs;t:switch(pr){case 1:pr=0,gs=null,oc(s,a,y,1);break;case 2:case 9:if(Cv(y)){pr=0,gs=null,mb(a);break}a=function(){pr!==2&&pr!==9||Mr!==s||(pr=7),va(s)},y.then(a,a);break e;case 3:pr=7;break e;case 4:pr=5;break e;case 7:Cv(y)?(pr=0,gs=null,mb(a)):(pr=0,gs=null,oc(s,a,y,7));break;case 5:var k=null;switch(Vn.tag){case 26:k=Vn.memoizedState;case 5:case 27:var B=Vn;if(!k||Kb(k)){pr=0,gs=null;var ae=B.sibling;if(ae!==null)Vn=ae;else{var Me=B.return;Me!==null?(Vn=Me,Ah(Me)):Vn=null}break t}}pr=0,gs=null,oc(s,a,y,5);break;case 6:pr=0,gs=null,oc(s,a,y,6);break;case 8:hp(),Gr=6;break e;default:throw Error(r(462))}}fC();break}catch(rt){hb(s,rt)}while(!0);return Fa=lo=null,ee.H=h,ee.A=m,gr=c,Vn!==null?0:(Mr=null,Zn=0,Kf(),Gr)}function fC(){for(;Vn!==null&&!Bn();)pb(Vn)}function pb(s){var a=Uy(s.alternate,s,Ya);s.memoizedProps=s.pendingProps,a===null?Ah(s):Vn=a}function mb(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=Iy(c,a,a.pendingProps,a.type,void 0,Zn);break;case 11:a=Iy(c,a,a.pendingProps,a.type.render,a.ref,Zn);break;case 5:Og(a);default:Wy(c,a),a=Vn=xv(a,Ya),a=Uy(c,a,Ya)}s.memoizedProps=s.pendingProps,a===null?Ah(s):Vn=a}function oc(s,a,c,h){Fa=lo=null,Og(a),Qo=null,gu=0;var m=a.return;try{if(eC(s,m,a,c,Zn)){Gr=1,_h(s,Os(c,s.current)),Vn=null;return}}catch(y){if(m!==null)throw Vn=m,y;Gr=1,_h(s,Os(c,s.current)),Vn=null;return}a.flags&32768?(lr||h===1?s=!0:rc||(Zn&536870912)!==0?s=!1:(Tl=s=!0,(h===2||h===9||h===3||h===6)&&(h=Rs.current,h!==null&&h.tag===13&&(h.flags|=16384))),xb(a,s)):Ah(a)}function Ah(s){var a=s;do{if((a.flags&32768)!==0){xb(a,Tl);return}s=a.return;var c=nC(a.alternate,a,Ya);if(c!==null){Vn=c;return}if(a=a.sibling,a!==null){Vn=a;return}Vn=a=s}while(a!==null);Gr===0&&(Gr=5)}function xb(s,a){do{var c=rC(s.alternate,s);if(c!==null){c.flags&=32767,Vn=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Vn=s;return}Vn=s=c}while(s!==null);Gr=6,Vn=null}function vb(s,a,c,h,m,y,k,B,ae){s.cancelPendingCommit=null;do Dh();while(Ti!==0);if((gr&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=ig,rn(s,c,y,k,B,ae),s===Mr&&(Vn=Mr=null,Zn=0),sc=a,Nl=s,ac=c,cp=y,up=m,ob=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,pC(Gn,function(){return wb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ee.T,ee.T=null,m=Pe.p,Pe.p=2,k=gr,gr|=4;try{iC(s,a,c)}finally{gr=k,Pe.p=m,ee.T=h}}Ti=1,yb(),bb(),_b()}}function yb(){if(Ti===1){Ti=0;var s=Nl,a=sc,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null;var h=Pe.p;Pe.p=2;var m=gr;gr|=4;try{tb(a,s);var y=kp,k=lv(s.containerInfo),B=y.focusedElem,ae=y.selectionRange;if(k!==B&&B&&B.ownerDocument&&av(B.ownerDocument.documentElement,B)){if(ae!==null&&Q0(B)){var Me=ae.start,rt=ae.end;if(rt===void 0&&(rt=Me),"selectionStart"in B)B.selectionStart=Me,B.selectionEnd=Math.min(rt,B.value.length);else{var ut=B.ownerDocument||document,Re=ut&&ut.defaultView||window;if(Re.getSelection){var je=Re.getSelection(),Tn=B.textContent.length,bn=Math.min(ae.start,Tn),kr=ae.end===void 0?bn:Math.min(ae.end,Tn);!je.extend&&bn>kr&&(k=kr,kr=bn,bn=k);var _e=sv(B,bn),pe=sv(B,kr);if(_e&&pe&&(je.rangeCount!==1||je.anchorNode!==_e.node||je.anchorOffset!==_e.offset||je.focusNode!==pe.node||je.focusOffset!==pe.offset)){var ke=ut.createRange();ke.setStart(_e.node,_e.offset),je.removeAllRanges(),bn>kr?(je.addRange(ke),je.extend(pe.node,pe.offset)):(ke.setEnd(pe.node,pe.offset),je.addRange(ke))}}}}for(ut=[],je=B;je=je.parentNode;)je.nodeType===1&&ut.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<ut.length;B++){var at=ut[B];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}$h=!!Tp,kp=Tp=null}finally{gr=m,Pe.p=h,ee.T=c}}s.current=a,Ti=2}}function bb(){if(Ti===2){Ti=0;var s=Nl,a=sc,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=ee.T,ee.T=null;var h=Pe.p;Pe.p=2;var m=gr;gr|=4;try{Ky(s,a.alternate,a)}finally{gr=m,Pe.p=h,ee.T=c}}Ti=3}}function _b(){if(Ti===4||Ti===3){Ti=0,ft();var s=Nl,a=sc,c=ac,h=ob;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ti=5:(Ti=0,sc=Nl=null,Sb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Cl=null),qt(c),a=a.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Ee,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ee.T,m=Pe.p,Pe.p=2,ee.T=null;try{for(var y=s.onRecoverableError,k=0;k<h.length;k++){var B=h[k];y(B.value,{componentStack:B.stack})}}finally{ee.T=a,Pe.p=m}}(ac&3)!==0&&Dh(),va(s),m=s.pendingLanes,(c&4194090)!==0&&(m&42)!==0?s===fp?wu++:(wu=0,fp=s):wu=0,Eu(0)}}function Sb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ru(a)))}function Dh(s){return yb(),bb(),_b(),wb()}function wb(){if(Ti!==5)return!1;var s=Nl,a=cp;cp=0;var c=qt(ac),h=ee.T,m=Pe.p;try{Pe.p=32>c?32:c,ee.T=null,c=up,up=null;var y=Nl,k=ac;if(Ti=0,sc=Nl=null,ac=0,(gr&6)!==0)throw Error(r(331));var B=gr;if(gr|=4,ab(y.current),rb(y,y.current,k,c),gr=B,Eu(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Ee,y)}catch{}return!0}finally{Pe.p=m,ee.T=h,Sb(s,a)}}function Eb(s,a,c){a=Os(c,a),a=$g(s.stateNode,a,2),s=vl(s,a,2),s!==null&&($t(s,2),va(s))}function Ar(s,a,c){if(s.tag===3)Eb(s,s,c);else for(;a!==null;){if(a.tag===3){Eb(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cl===null||!Cl.has(h))){s=Os(c,s),c=Ny(2),h=vl(a,c,2),h!==null&&(Oy(c,h,a,s),$t(h,2),va(h));break}}a=a.return}}function pp(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new lC;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(sp=!0,m.add(c),s=hC.bind(null,s,a,c),a.then(s,s))}function hC(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Mr===s&&(Zn&c)===c&&(Gr===4||Gr===3&&(Zn&62914560)===Zn&&300>He()-op?(gr&2)===0&&lc(s,0):ap|=c,ic===Zn&&(ic=0)),va(s)}function Tb(s,a){a===0&&(a=jt()),s=$o(s,a),s!==null&&($t(s,a),va(s))}function dC(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Tb(s,c)}function gC(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),Tb(s,c)}function pC(s,a){return un(s,a)}var Mh=null,cc=null,mp=!1,Rh=!1,xp=!1,po=0;function va(s){s!==cc&&s.next===null&&(cc===null?Mh=cc=s:cc=cc.next=s),Rh=!0,mp||(mp=!0,xC())}function Eu(s,a){if(!xp&&Rh){xp=!0;do for(var c=!1,h=Mh;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var k=h.suspendedLanes,B=h.pingedLanes;y=(1<<31-Ge(42|s)+1)-1,y&=m&~(k&~B),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Ob(h,y))}else y=Zn,y=ot(h,h===Mr?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Dt(h,y)||(c=!0,Ob(h,y));h=h.next}while(c);xp=!1}}function mC(){kb()}function kb(){Rh=mp=!1;var s=0;po!==0&&(TC()&&(s=po),po=0);for(var a=He(),c=null,h=Mh;h!==null;){var m=h.next,y=Cb(h,a);y===0?(h.next=null,c===null?Mh=m:c.next=m,m===null&&(cc=c)):(c=h,(s!==0||(y&3)!==0)&&(Rh=!0)),h=m}Eu(s)}function Cb(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var k=31-Ge(y),B=1<<k,ae=m[k];ae===-1?((B&c)===0||(B&h)!==0)&&(m[k]=ht(B,a)):ae<=a&&(s.expiredLanes|=B),y&=~B}if(a=Mr,c=Zn,c=ot(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(pr===2||pr===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Zt(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Dt(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Zt(h),qt(c)){case 2:case 8:c=mn;break;case 32:c=Gn;break;case 268435456:c=ge;break;default:c=Gn}return h=Nb.bind(null,s),c=un(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Zt(h),s.callbackPriority=2,s.callbackNode=null,2}function Nb(s,a){if(Ti!==0&&Ti!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Dh()&&s.callbackNode!==c)return null;var h=Zn;return h=ot(s,s===Mr?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(ub(s,h,a),Cb(s,He()),s.callbackNode!=null&&s.callbackNode===c?Nb.bind(null,s):null)}function Ob(s,a){if(Dh())return null;ub(s,a,!0)}function xC(){CC(function(){(gr&6)!==0?un(yn,mC):kb()})}function vp(){return po===0&&(po=_t()),po}function Ab(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ki(""+s)}function Db(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function vC(s,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var y=Ab((m[Cn]||null).action),k=h.submitter;k&&(a=(a=k[Cn]||null)?Ab(a.formAction):k.getAttribute("formAction"),a!==null&&(y=a,k=null));var B=new Cs("action","action",null,h,m);s.push({event:B,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(po!==0){var ae=k?Db(m,k):new FormData(m);Fg(c,{pending:!0,data:ae,method:m.method,action:y},null,ae)}}else typeof y=="function"&&(B.preventDefault(),ae=k?Db(m,k):new FormData(m),Fg(c,{pending:!0,data:ae,method:m.method,action:y},y,ae))},currentTarget:m}]})}}for(var yp=0;yp<rg.length;yp++){var bp=rg[yp],yC=bp.toLowerCase(),bC=bp[0].toUpperCase()+bp.slice(1);Js(yC,"on"+bC)}Js(uv,"onAnimationEnd"),Js(fv,"onAnimationIteration"),Js(hv,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(P4,"onTransitionRun"),Js(F4,"onTransitionStart"),Js(z4,"onTransitionCancel"),Js(dv,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function Mb(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var k=h.length-1;0<=k;k--){var B=h[k],ae=B.instance,Me=B.currentTarget;if(B=B.listener,ae!==y&&m.isPropagationStopped())break e;y=B,m.currentTarget=Me;try{y(m)}catch(rt){bh(rt)}m.currentTarget=null,y=ae}else for(k=0;k<h.length;k++){if(B=h[k],ae=B.instance,Me=B.currentTarget,B=B.listener,ae!==y&&m.isPropagationStopped())break e;y=B,m.currentTarget=Me;try{y(m)}catch(rt){bh(rt)}m.currentTarget=null,y=ae}}}}function Yn(s,a){var c=a[_n];c===void 0&&(c=a[_n]=new Set);var h=s+"__bubble";c.has(h)||(Rb(a,s,2,!1),c.add(h))}function _p(s,a,c){var h=0;a&&(h|=4),Rb(c,s,h,a)}var jh="_reactListening"+Math.random().toString(36).slice(2);function Sp(s){if(!s[jh]){s[jh]=!0,be.forEach(function(c){c!=="selectionchange"&&(_C.has(c)||_p(c,!1,s),_p(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[jh]||(a[jh]=!0,_p("selectionchange",!1,a))}}function Rb(s,a,c,h){switch(r_(a)){case 2:var m=qC;break;case 8:m=XC;break;default:m=Ip}c=m.bind(null,a,c,s),m=void 0,!Li||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function wp(s,a,c,h,m){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var B=h.stateNode.containerInfo;if(B===m)break;if(k===4)for(k=h.return;k!==null;){var ae=k.tag;if((ae===3||ae===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;B!==null;){if(k=F(B),k===null)return;if(ae=k.tag,ae===5||ae===6||ae===26||ae===27){h=y=k;continue e}B=B.parentNode}}h=h.return}Nt(function(){var Me=y,rt=$i(c),ut=[];e:{var Re=gv.get(s);if(Re!==void 0){var je=Cs,Tn=s;switch(s){case"keypress":if(ks(c)===0)break e;case"keydown":case"keyup":je=on;break;case"focusin":Tn="focus",je=Vt;break;case"focusout":Tn="blur",je=Vt;break;case"beforeblur":case"afterblur":je=Vt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=ye;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=N;break;case uv:case fv:case hv:je=an;break;case dv:je=ce;break;case"scroll":case"scrollend":je=Vi;break;case"wheel":je=tt;break;case"copy":case"cut":case"paste":je=C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Kn;break;case"toggle":case"beforetoggle":je=lt}var bn=(a&4)!==0,kr=!bn&&(s==="scroll"||s==="scrollend"),_e=bn?Re!==null?Re+"Capture":null:Re;bn=[];for(var pe=Me,ke;pe!==null;){var at=pe;if(ke=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||ke===null||_e===null||(at=gi(pe,_e),at!=null&&bn.push(ku(pe,at,ke))),kr)break;pe=pe.return}0<bn.length&&(Re=new je(Re,Tn,null,c,rt),ut.push({event:Re,listeners:bn}))}}if((a&7)===0){e:{if(Re=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",Re&&c!==tn&&(Tn=c.relatedTarget||c.fromElement)&&(F(Tn)||Tn[hr]))break e;if((je||Re)&&(Re=rt.window===rt?rt:(Re=rt.ownerDocument)?Re.defaultView||Re.parentWindow:window,je?(Tn=c.relatedTarget||c.toElement,je=Me,Tn=Tn?F(Tn):null,Tn!==null&&(kr=l(Tn),bn=Tn.tag,Tn!==kr||bn!==5&&bn!==27&&bn!==6)&&(Tn=null)):(je=null,Tn=Me),je!==Tn)){if(bn=ye,at="onMouseLeave",_e="onMouseEnter",pe="mouse",(s==="pointerout"||s==="pointerover")&&(bn=Kn,at="onPointerLeave",_e="onPointerEnter",pe="pointer"),kr=je==null?Re:se(je),ke=Tn==null?Re:se(Tn),Re=new bn(at,pe+"leave",je,c,rt),Re.target=kr,Re.relatedTarget=ke,at=null,F(rt)===Me&&(bn=new bn(_e,pe+"enter",Tn,c,rt),bn.target=ke,bn.relatedTarget=kr,at=bn),kr=at,je&&Tn)t:{for(bn=je,_e=Tn,pe=0,ke=bn;ke;ke=uc(ke))pe++;for(ke=0,at=_e;at;at=uc(at))ke++;for(;0<pe-ke;)bn=uc(bn),pe--;for(;0<ke-pe;)_e=uc(_e),ke--;for(;pe--;){if(bn===_e||_e!==null&&bn===_e.alternate)break t;bn=uc(bn),_e=uc(_e)}bn=null}else bn=null;je!==null&&jb(ut,Re,je,bn,!1),Tn!==null&&kr!==null&&jb(ut,kr,Tn,bn,!0)}}e:{if(Re=Me?se(Me):window,je=Re.nodeName&&Re.nodeName.toLowerCase(),je==="select"||je==="input"&&Re.type==="file")var nn=Q1;else if(wr(Re))if(ev)nn=j4;else{nn=M4;var $n=D4}else je=Re.nodeName,!je||je.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Me&&ji(Me.elementType)&&(nn=Q1):nn=R4;if(nn&&(nn=nn(s,Me))){ja(ut,nn,c,rt);break e}$n&&$n(s,Re,Me),s==="focusout"&&Me&&Re.type==="number"&&Me.memoizedProps.value!=null&&sn(Re,"number",Re.value)}switch($n=Me?se(Me):window,s){case"focusin":(wr($n)||$n.contentEditable==="true")&&(Bo=$n,eg=Me,Zc=null);break;case"focusout":Zc=eg=Bo=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,ov(ut,c,rt);break;case"selectionchange":if(I4)break;case"keydown":case"keyup":ov(ut,c,rt)}var gn;if(wt)e:{switch(s){case"compositionstart":var Sn="onCompositionStart";break e;case"compositionend":Sn="onCompositionEnd";break e;case"compositionupdate":Sn="onCompositionUpdate";break e}Sn=void 0}else Xs?Ii(s,c)&&(Sn="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Sn="onCompositionStart");Sn&&(An&&c.locale!=="ko"&&(Xs||Sn!=="onCompositionStart"?Sn==="onCompositionEnd"&&Xs&&(gn=Kl()):(pi=rt,ei="value"in pi?pi.value:pi.textContent,Xs=!0)),$n=Lh(Me,Sn),0<$n.length&&(Sn=new ne(Sn,s,null,c,rt),ut.push({event:Sn,listeners:$n}),gn?Sn.data=gn:(gn=ur(c),gn!==null&&(Sn.data=gn)))),(gn=On?X0(s,c):J0(s,c))&&(Sn=Lh(Me,"onBeforeInput"),0<Sn.length&&($n=new ne("onBeforeInput","beforeinput",null,c,rt),ut.push({event:$n,listeners:Sn}),$n.data=gn)),vC(ut,s,Me,c,rt)}Mb(ut,a)})}function ku(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Lh(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=gi(s,c),m!=null&&h.unshift(ku(s,m,y)),m=gi(s,a),m!=null&&h.push(ku(s,m,y))),s.tag===3)return h;s=s.return}return[]}function uc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function jb(s,a,c,h,m){for(var y=a._reactName,k=[];c!==null&&c!==h;){var B=c,ae=B.alternate,Me=B.stateNode;if(B=B.tag,ae!==null&&ae===h)break;B!==5&&B!==26&&B!==27||Me===null||(ae=Me,m?(Me=gi(c,y),Me!=null&&k.unshift(ku(c,Me,ae))):m||(Me=gi(c,y),Me!=null&&k.push(ku(c,Me,ae)))),c=c.return}k.length!==0&&s.push({event:a,listeners:k})}var SC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function Lb(s){return(typeof s=="string"?s:""+s).replace(SC,`
`).replace(wC,"")}function Ib(s,a){return a=Lb(a),Lb(s)===a}function Ih(){}function Tr(s,a,c,h,m,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Or(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Or(s,""+h);break;case"className":hn(s,"class",h);break;case"tabIndex":hn(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(s,c,h);break;case"style":li(s,h,y);break;case"data":if(a!=="object"){hn(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ki(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&Tr(s,a,"name",m.name,m,null),Tr(s,a,"formEncType",m.formEncType,m,null),Tr(s,a,"formMethod",m.formMethod,m,null),Tr(s,a,"formTarget",m.formTarget,m,null)):(Tr(s,a,"encType",m.encType,m,null),Tr(s,a,"method",m.method,m,null),Tr(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ki(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Ih);break;case"onScroll":h!=null&&Yn("scroll",s);break;case"onScrollEnd":h!=null&&Yn("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Ki(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Yn("beforetoggle",s),Yn("toggle",s),en(s,"popover",h);break;case"xlinkActuate":dn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":dn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":dn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":dn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":dn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":dn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":dn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":dn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":dn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":en(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=cs.get(c)||c,en(s,c,h))}}function Ep(s,a,c,h,m,y){switch(c){case"style":li(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Or(s,h):(typeof h=="number"||typeof h=="bigint")&&Or(s,""+h);break;case"onScroll":h!=null&&Yn("scroll",s);break;case"onScrollEnd":h!=null&&Yn("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ve.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),y=s[Cn]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,m);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):en(s,c,h)}}}function ki(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yn("error",s),Yn("load",s);var h=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var k=c[y];if(k!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tr(s,a,y,k,c,null)}}m&&Tr(s,a,"srcSet",c.srcSet,c,null),h&&Tr(s,a,"src",c.src,c,null);return;case"input":Yn("invalid",s);var B=y=k=m=null,ae=null,Me=null;for(h in c)if(c.hasOwnProperty(h)){var rt=c[h];if(rt!=null)switch(h){case"name":m=rt;break;case"type":k=rt;break;case"checked":ae=rt;break;case"defaultChecked":Me=rt;break;case"value":y=rt;break;case"defaultValue":B=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,a));break;default:Tr(s,a,h,rt,c,null)}}Yt(s,y,B,ae,Me,k,m,!1),Ce(s);return;case"select":Yn("invalid",s),h=k=y=null;for(m in c)if(c.hasOwnProperty(m)&&(B=c[m],B!=null))switch(m){case"value":y=B;break;case"defaultValue":k=B;break;case"multiple":h=B;default:Tr(s,a,m,B,c,null)}a=y,c=k,s.multiple=!!h,a!=null?Fr(s,!!h,a,!1):c!=null&&Fr(s,!!h,c,!0);return;case"textarea":Yn("invalid",s),y=m=h=null;for(k in c)if(c.hasOwnProperty(k)&&(B=c[k],B!=null))switch(k){case"value":h=B;break;case"defaultValue":m=B;break;case"children":y=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Tr(s,a,k,B,c,null)}dr(s,h,m,y),Ce(s);return;case"option":for(ae in c)if(c.hasOwnProperty(ae)&&(h=c[ae],h!=null))switch(ae){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tr(s,a,ae,h,c,null)}return;case"dialog":Yn("beforetoggle",s),Yn("toggle",s),Yn("cancel",s),Yn("close",s);break;case"iframe":case"object":Yn("load",s);break;case"video":case"audio":for(h=0;h<Tu.length;h++)Yn(Tu[h],s);break;case"image":Yn("error",s),Yn("load",s);break;case"details":Yn("toggle",s);break;case"embed":case"source":case"link":Yn("error",s),Yn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in c)if(c.hasOwnProperty(Me)&&(h=c[Me],h!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tr(s,a,Me,h,c,null)}return;default:if(ji(a)){for(rt in c)c.hasOwnProperty(rt)&&(h=c[rt],h!==void 0&&Ep(s,a,rt,h,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(h=c[B],h!=null&&Tr(s,a,B,h,c,null))}function EC(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,k=null,B=null,ae=null,Me=null,rt=null;for(je in c){var ut=c[je];if(c.hasOwnProperty(je)&&ut!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ae=ut;default:h.hasOwnProperty(je)||Tr(s,a,je,null,h,ut)}}for(var Re in h){var je=h[Re];if(ut=c[Re],h.hasOwnProperty(Re)&&(je!=null||ut!=null))switch(Re){case"type":y=je;break;case"name":m=je;break;case"checked":Me=je;break;case"defaultChecked":rt=je;break;case"value":k=je;break;case"defaultValue":B=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,a));break;default:je!==ut&&Tr(s,a,Re,je,h,ut)}}Ut(s,k,B,ae,Me,rt,y,m);return;case"select":je=k=B=Re=null;for(y in c)if(ae=c[y],c.hasOwnProperty(y)&&ae!=null)switch(y){case"value":break;case"multiple":je=ae;default:h.hasOwnProperty(y)||Tr(s,a,y,null,h,ae)}for(m in h)if(y=h[m],ae=c[m],h.hasOwnProperty(m)&&(y!=null||ae!=null))switch(m){case"value":Re=y;break;case"defaultValue":B=y;break;case"multiple":k=y;default:y!==ae&&Tr(s,a,m,y,h,ae)}a=B,c=k,h=je,Re!=null?Fr(s,!!c,Re,!1):!!h!=!!c&&(a!=null?Fr(s,!!c,a,!0):Fr(s,!!c,c?[]:"",!1));return;case"textarea":je=Re=null;for(B in c)if(m=c[B],c.hasOwnProperty(B)&&m!=null&&!h.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Tr(s,a,B,null,h,m)}for(k in h)if(m=h[k],y=c[k],h.hasOwnProperty(k)&&(m!=null||y!=null))switch(k){case"value":Re=m;break;case"defaultValue":je=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Tr(s,a,k,m,h,y)}br(s,Re,je);return;case"option":for(var Tn in c)if(Re=c[Tn],c.hasOwnProperty(Tn)&&Re!=null&&!h.hasOwnProperty(Tn))switch(Tn){case"selected":s.selected=!1;break;default:Tr(s,a,Tn,null,h,Re)}for(ae in h)if(Re=h[ae],je=c[ae],h.hasOwnProperty(ae)&&Re!==je&&(Re!=null||je!=null))switch(ae){case"selected":s.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:Tr(s,a,ae,Re,h,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bn in c)Re=c[bn],c.hasOwnProperty(bn)&&Re!=null&&!h.hasOwnProperty(bn)&&Tr(s,a,bn,null,h,Re);for(Me in h)if(Re=h[Me],je=c[Me],h.hasOwnProperty(Me)&&Re!==je&&(Re!=null||je!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,a));break;default:Tr(s,a,Me,Re,h,je)}return;default:if(ji(a)){for(var kr in c)Re=c[kr],c.hasOwnProperty(kr)&&Re!==void 0&&!h.hasOwnProperty(kr)&&Ep(s,a,kr,void 0,h,Re);for(rt in h)Re=h[rt],je=c[rt],!h.hasOwnProperty(rt)||Re===je||Re===void 0&&je===void 0||Ep(s,a,rt,Re,h,je);return}}for(var _e in c)Re=c[_e],c.hasOwnProperty(_e)&&Re!=null&&!h.hasOwnProperty(_e)&&Tr(s,a,_e,null,h,Re);for(ut in h)Re=h[ut],je=c[ut],!h.hasOwnProperty(ut)||Re===je||Re==null&&je==null||Tr(s,a,ut,Re,h,je)}var Tp=null,kp=null;function Ph(s){return s.nodeType===9?s:s.ownerDocument}function Pb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Cp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Np=null;function TC(){var s=window.event;return s&&s.type==="popstate"?s===Np?!1:(Np=s,!0):(Np=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,kC=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(s){return Bb.resolve(null).then(s).catch(NC)}:zb;function NC(s){setTimeout(function(){throw s})}function Al(s){return s==="head"}function Hb(s,a){var c=a,h=0,m=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<h&&8>h){c=h;var k=s.ownerDocument;if(c&1&&Cu(k.documentElement),c&2&&Cu(k.body),c&4)for(c=k.head,Cu(c),k=c.firstChild;k;){var B=k.nextSibling,ae=k.nodeName;k[R]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&k.rel.toLowerCase()==="stylesheet"||c.removeChild(k),k=B}}if(m===0){s.removeChild(y),Lu(a);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:h=c.charCodeAt(0)-48;else h=0;c=y}while(c);Lu(a)}function Op(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Op(c),M(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function OC(s,a,c,h){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[R])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Zs(s.nextSibling),s===null)break}return null}function AC(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Zs(s.nextSibling),s===null))return null;return s}function Ap(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function DC(s,a){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Zs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Dp=null;function Ub(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}function $b(s,a,c){switch(a=Ph(c),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Cu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);M(s)}var Ls=new Map,Wb=new Set;function Fh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ga=Pe.d;Pe.d={f:MC,r:RC,D:jC,C:LC,L:IC,m:PC,X:zC,S:FC,M:BC};function MC(){var s=Ga.f(),a=Oh();return s||a}function RC(s){var a=W(s);a!==null&&a.tag===5&&a.type==="form"?uy(a):Ga.r(s)}var fc=typeof document>"u"?null:document;function Vb(s,a,c){var h=fc;if(h&&typeof a=="string"&&a){var m=bt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Wb.has(m)||(Wb.add(m),s={rel:s,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),ki(a,"link",s),he(a),h.head.appendChild(a)))}}function jC(s){Ga.D(s),Vb("dns-prefetch",s,null)}function LC(s,a){Ga.C(s,a),Vb("preconnect",s,a)}function IC(s,a,c){Ga.L(s,a,c);var h=fc;if(h&&s&&a){var m='link[rel="preload"][as="'+bt(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+bt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+bt(c.imageSizes)+'"]')):m+='[href="'+bt(s)+'"]';var y=m;switch(a){case"style":y=hc(s);break;case"script":y=dc(s)}Ls.has(y)||(s=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ls.set(y,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(Nu(y))||a==="script"&&h.querySelector(Ou(y))||(a=h.createElement("link"),ki(a,"link",s),he(a),h.head.appendChild(a)))}}function PC(s,a){Ga.m(s,a);var c=fc;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+bt(h)+'"][href="'+bt(s)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=dc(s)}if(!Ls.has(y)&&(s=p({rel:"modulepreload",href:s},a),Ls.set(y,s),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ou(y)))return}h=c.createElement("link"),ki(h,"link",s),he(h),c.head.appendChild(h)}}}function FC(s,a,c){Ga.S(s,a,c);var h=fc;if(h&&s){var m=Te(h).hoistableStyles,y=hc(s);a=a||"default";var k=m.get(y);if(!k){var B={loading:0,preload:null};if(k=h.querySelector(Nu(y)))B.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ls.get(y))&&Mp(s,c);var ae=k=h.createElement("link");he(ae),ki(ae,"link",s),ae._p=new Promise(function(Me,rt){ae.onload=Me,ae.onerror=rt}),ae.addEventListener("load",function(){B.loading|=1}),ae.addEventListener("error",function(){B.loading|=2}),B.loading|=4,zh(k,a,h)}k={type:"stylesheet",instance:k,count:1,state:B},m.set(y,k)}}}function zC(s,a){Ga.X(s,a);var c=fc;if(c&&s){var h=Te(c).hoistableScripts,m=dc(s),y=h.get(m);y||(y=c.querySelector(Ou(m)),y||(s=p({src:s,async:!0},a),(a=Ls.get(m))&&Rp(s,a),y=c.createElement("script"),he(y),ki(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function BC(s,a){Ga.M(s,a);var c=fc;if(c&&s){var h=Te(c).hoistableScripts,m=dc(s),y=h.get(m);y||(y=c.querySelector(Ou(m)),y||(s=p({src:s,async:!0,type:"module"},a),(a=Ls.get(m))&&Rp(s,a),y=c.createElement("script"),he(y),ki(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function Yb(s,a,c,h){var m=(m=oe.current)?Fh(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=hc(c.href),c=Te(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=hc(c.href);var y=Te(m).hoistableStyles,k=y.get(s);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,k),(y=m.querySelector(Nu(s)))&&!y._p&&(k.instance=y,k.state.loading=5),Ls.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ls.set(s,c),y||HC(m,s,c,k.state))),a&&h===null)throw Error(r(528,""));return k}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=dc(c),c=Te(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function hc(s){return'href="'+bt(s)+'"'}function Nu(s){return'link[rel="stylesheet"]['+s+"]"}function Gb(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function HC(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),ki(a,"link",c),he(a),s.head.appendChild(a))}function dc(s){return'[src="'+bt(s)+'"]'}function Ou(s){return"script[async]"+s}function qb(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+bt(c.href)+'"]');if(h)return a.instance=h,he(h),h;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),he(h),ki(h,"style",m),zh(h,c.precedence,s),a.instance=h;case"stylesheet":m=hc(c.href);var y=s.querySelector(Nu(m));if(y)return a.state.loading|=4,a.instance=y,he(y),y;h=Gb(c),(m=Ls.get(m))&&Mp(h,m),y=(s.ownerDocument||s).createElement("link"),he(y);var k=y;return k._p=new Promise(function(B,ae){k.onload=B,k.onerror=ae}),ki(y,"link",h),a.state.loading|=4,zh(y,c.precedence,s),a.instance=y;case"script":return y=dc(c.src),(m=s.querySelector(Ou(y)))?(a.instance=m,he(m),m):(h=c,(m=Ls.get(y))&&(h=p({},c),Rp(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),he(m),ki(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,zh(h,c.precedence,s));return a.instance}function zh(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,k=0;k<h.length;k++){var B=h[k];if(B.dataset.precedence===a)y=B;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Mp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Rp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Bh=null;function Xb(s,a,c){if(Bh===null){var h=new Map,m=Bh=new Map;m.set(c,h)}else m=Bh,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var y=c[m];if(!(y[R]||y[En]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var k=y.getAttribute(a)||"";k=s+k;var B=h.get(k);B?B.push(y):h.set(k,[y])}}return h}function Jb(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function UC(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Kb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Au=null;function $C(){}function WC(s,a,c){if(Au===null)throw Error(r(475));var h=Au;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=hc(c.href),y=s.querySelector(Nu(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Hh.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=y,he(y);return}y=s.ownerDocument||s,c=Gb(c),(m=Ls.get(m))&&Mp(c,m),y=y.createElement("link"),he(y);var k=y;k._p=new Promise(function(B,ae){k.onload=B,k.onerror=ae}),ki(y,"link",c),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Hh.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function VC(){if(Au===null)throw Error(r(475));var s=Au;return s.stylesheets&&s.count===0&&jp(s,s.stylesheets),0<s.count?function(a){var c=setTimeout(function(){if(s.stylesheets&&jp(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Hh(){if(this.count--,this.count===0){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Uh=null;function jp(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Uh=new Map,a.forEach(YC,s),Uh=null,Hh.call(s))}function YC(s,a){if(!(a.state.loading&4)){var c=Uh.get(s);if(c)var h=c.get(null);else{c=new Map,Uh.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var k=m[y];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),h=k)}h&&c.set(null,h)}m=a.instance,k=m.getAttribute("data-precedence"),y=c.get(k)||h,y===h&&c.set(null,m),c.set(k,m),this.count++,h=Hh.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Du={$$typeof:I,Provider:null,Consumer:null,_currentValue:Fe,_currentValue2:Fe,_threadCount:0};function GC(s,a,c,h,m,y,k,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Zb(s,a,c,h,m,y,k,B,ae,Me,rt,ut){return s=new GC(s,a,c,k,B,ae,Me,ut),a=1,y===!0&&(a|=24),y=fs(3,null,null,a),s.current=y,y.stateNode=s,a=pg(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},yg(y),s}function Qb(s){return s?(s=Wo,s):Wo}function e_(s,a,c,h,m,y){m=Qb(m),h.context===null?h.context=m:h.pendingContext=m,h=xl(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=vl(s,h,a),c!==null&&(ms(c,s,a),lu(c,s,a))}function t_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Lp(s,a){t_(s,a),(s=s.alternate)&&t_(s,a)}function n_(s){if(s.tag===13){var a=$o(s,67108864);a!==null&&ms(a,s,67108864),Lp(s,67108864)}}var $h=!0;function qC(s,a,c,h){var m=ee.T;ee.T=null;var y=Pe.p;try{Pe.p=2,Ip(s,a,c,h)}finally{Pe.p=y,ee.T=m}}function XC(s,a,c,h){var m=ee.T;ee.T=null;var y=Pe.p;try{Pe.p=8,Ip(s,a,c,h)}finally{Pe.p=y,ee.T=m}}function Ip(s,a,c,h){if($h){var m=Pp(h);if(m===null)wp(s,a,h,Wh,c),i_(s,h);else if(KC(m,s,a,c,h))h.stopPropagation();else if(i_(s,h),a&4&&-1<JC.indexOf(s)){for(;m!==null;){var y=W(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var k=Mt(y.pendingLanes);if(k!==0){var B=y;for(B.pendingLanes|=2,B.entangledLanes|=2;k;){var ae=1<<31-Ge(k);B.entanglements[1]|=ae,k&=~ae}va(y),(gr&6)===0&&(Ch=He()+500,Eu(0))}}break;case 13:B=$o(y,2),B!==null&&ms(B,y,2),Oh(),Lp(y,2)}if(y=Pp(h),y===null&&wp(s,a,h,Wh,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else wp(s,a,h,null,c)}}function Pp(s){return s=$i(s),Fp(s)}var Wh=null;function Fp(s){if(Wh=null,s=F(s),s!==null){var a=l(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=o(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Wh=s,null}function r_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case yn:return 2;case mn:return 8;case Gn:case cr:return 32;case ge:return 268435456;default:return 32}default:return 32}}var zp=!1,Dl=null,Ml=null,Rl=null,Mu=new Map,Ru=new Map,jl=[],JC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(s,a){switch(s){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":Mu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(a.pointerId)}}function ju(s,a,c,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},a!==null&&(a=W(a),a!==null&&n_(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function KC(s,a,c,h,m){switch(a){case"focusin":return Dl=ju(Dl,s,a,c,h,m),!0;case"dragenter":return Ml=ju(Ml,s,a,c,h,m),!0;case"mouseover":return Rl=ju(Rl,s,a,c,h,m),!0;case"pointerover":var y=m.pointerId;return Mu.set(y,ju(Mu.get(y)||null,s,a,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Ru.set(y,ju(Ru.get(y)||null,s,a,c,h,m)),!0}return!1}function s_(s){var a=F(s.target);if(a!==null){var c=l(a);if(c!==null){if(a=c.tag,a===13){if(a=o(c),a!==null){s.blockedOn=a,kn(s.priority,function(){if(c.tag===13){var h=ps();h=wn(h);var m=$o(c,h);m!==null&&ms(m,c,h),Lp(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Pp(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);tn=h,c.target.dispatchEvent(h),tn=null}else return a=W(c),a!==null&&n_(a),s.blockedOn=c,!1;a.shift()}return!0}function a_(s,a,c){Vh(s)&&c.delete(a)}function ZC(){zp=!1,Dl!==null&&Vh(Dl)&&(Dl=null),Ml!==null&&Vh(Ml)&&(Ml=null),Rl!==null&&Vh(Rl)&&(Rl=null),Mu.forEach(a_),Ru.forEach(a_)}function Yh(s,a){s.blockedOn===a&&(s.blockedOn=null,zp||(zp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZC)))}var Gh=null;function l_(s){Gh!==s&&(Gh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gh===s&&(Gh=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(Fp(h||c)===null)continue;break}var y=W(c);y!==null&&(s.splice(a,3),a-=3,Fg(y,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function Lu(s){function a(ae){return Yh(ae,s)}Dl!==null&&Yh(Dl,s),Ml!==null&&Yh(Ml,s),Rl!==null&&Yh(Rl,s),Mu.forEach(a),Ru.forEach(a);for(var c=0;c<jl.length;c++){var h=jl[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<jl.length&&(c=jl[0],c.blockedOn===null);)s_(c),c.blockedOn===null&&jl.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],y=c[h+1],k=m[Cn]||null;if(typeof y=="function")k||l_(c);else if(k){var B=null;if(y&&y.hasAttribute("formAction")){if(m=y,k=y[Cn]||null)B=k.formAction;else if(Fp(m)!==null)continue}else B=k.action;typeof B=="function"?c[h+1]=B:(c.splice(h,3),h-=3),l_(c)}}}function Bp(s){this._internalRoot=s}qh.prototype.render=Bp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,h=ps();e_(c,h,s,a,null,null)},qh.prototype.unmount=Bp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;e_(s.current,2,null,s,null,null),Oh(),a[hr]=null}};function qh(s){this._internalRoot=s}qh.prototype.unstable_scheduleHydration=function(s){if(s){var a=fn();s={blockedOn:null,target:s,priority:a};for(var c=0;c<jl.length&&a!==0&&a<jl[c].priority;c++);jl.splice(c,0,s),c===0&&s_(s)}};var o_=e.version;if(o_!=="19.1.0")throw Error(r(527,o_,"19.1.0"));Pe.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var QC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{Ee=Xh.inject(QC),Oe=Xh}catch{}}return Pu.createRoot=function(s,a){if(!i(s))throw Error(r(299));var c=!1,h="",m=Ey,y=Ty,k=ky,B=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(B=a.unstable_transitionCallbacks)),a=Zb(s,1,!1,null,null,c,h,m,y,k,B,null),s[hr]=a.current,Sp(s),new Bp(a)},Pu.hydrateRoot=function(s,a,c){if(!i(s))throw Error(r(299));var h=!1,m="",y=Ey,k=Ty,B=ky,ae=null,Me=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ae=c.unstable_transitionCallbacks),c.formState!==void 0&&(Me=c.formState)),a=Zb(s,1,!0,a,c??null,h,m,y,k,B,ae,Me),a.context=Qb(null),c=a.current,h=ps(),h=wn(h),m=xl(h),m.callback=null,vl(c,m,h),c=h,a.current.lanes=c,$t(a,c),va(a),s[hr]=a.current,Sp(s),new qh(a)},Pu.version="19.1.0",Pu}var v_;function cN(){if(v_)return Up.exports;v_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Up.exports=oN(),Up.exports}var uN=cN(),x=wx();const Ur=Sx(x);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y_="popstate";function fN(t={}){function e(r,i){let{pathname:l,search:o,hash:f}=r.location;return Wm("",{pathname:l,search:o,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gf(i)}return dN(e,n,null,t)}function Wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ca(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hN(){return Math.random().toString(36).substring(2,10)}function b_(t,e){return{usr:t.state,key:t.key,idx:e}}function Wm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pc(e):e,state:n,key:e&&e.key||r||hN()}}function gf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dN(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,o=i.history,f="POP",d=null,g=p();g==null&&(g=0,o.replaceState({...o.state,idx:g},""));function p(){return(o.state||{idx:null}).idx}function v(){f="POP";let T=p(),A=T==null?null:T-g;g=T,d&&d({action:f,location:S.location,delta:A})}function _(T,A){f="PUSH";let j=Wm(S.location,T,A);g=p()+1;let I=b_(j,g),Z=S.createHref(j);try{o.pushState(I,"",Z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(Z)}l&&d&&d({action:f,location:S.location,delta:1})}function b(T,A){f="REPLACE";let j=Wm(S.location,T,A);g=p();let I=b_(j,g),Z=S.createHref(j);o.replaceState(I,"",Z),l&&d&&d({action:f,location:S.location,delta:0})}function w(T){return gN(T)}let S={get action(){return f},get location(){return t(i,o)},listen(T){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(y_,v),d=T,()=>{i.removeEventListener(y_,v),d=null}},createHref(T){return e(i,T)},createURL:w,encodeLocation(T){let A=w(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:b,go(T){return o.go(T)}};return S}function gN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:gf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function vw(t,e,n="/"){return pN(t,e,n,!1)}function pN(t,e,n,r){let i=typeof e=="string"?Pc(e):e,l=ll(i.pathname||"/",n);if(l==null)return null;let o=yw(t);mN(o);let f=null;for(let d=0;f==null&&d<o.length;++d){let g=CN(l);f=TN(o[d],g,r)}return f}function yw(t,e=[],n=[],r=""){let i=(l,o,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};d.relativePath.startsWith("/")&&(Wr(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let g=tl([r,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(Wr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),yw(l.children,e,p,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:wN(g,l.index),routesMeta:p})};return t.forEach((l,o)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))i(l,o);else for(let d of bw(l.path))i(l,o,d)}),e}function bw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let o=bw(r.join("/")),f=[];return f.push(...o.map(d=>d===""?l:[l,d].join("/"))),i&&f.push(...o),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function mN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xN=/^:[\w-]+$/,vN=3,yN=2,bN=1,_N=10,SN=-2,__=t=>t==="*";function wN(t,e){let n=t.split("/"),r=n.length;return n.some(__)&&(r+=SN),e&&(r+=yN),n.filter(i=>!__(i)).reduce((i,l)=>i+(xN.test(l)?vN:l===""?bN:_N),r)}function EN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TN(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",o=[];for(let f=0;f<r.length;++f){let d=r[f],g=f===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",v=jd({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},p),_=d.route;if(!v&&g&&n&&!r[r.length-1].route.index&&(v=jd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),o.push({params:i,pathname:tl([l,v.pathname]),pathnameBase:DN(tl([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=tl([l,v.pathnameBase]))}return o}function jd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],o=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:v},_)=>{if(p==="*"){let w=f[_]||"";o=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=f[_];return v&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:o,pattern:t}}function kN(t,e=!1,n=!0){Ca(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ca(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ll(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NN(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Pc(t):t;return{pathname:n?n.startsWith("/")?n:ON(n,e):e,search:MN(r),hash:RN(i)}}function ON(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _w(t){let e=AN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Sw(t,e,n,r=!1){let i;typeof t=="string"?i=Pc(t):(i={...t},Wr(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let l=t===""||i.pathname==="",o=l?"/":i.pathname,f;if(o==null)f=n;else{let v=e.length-1;if(!r&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}f=v>=0?e[v]:"/"}let d=NN(i,f),g=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||p)&&(d.pathname+="/"),d}var tl=t=>t.join("/").replace(/\/\/+/g,"/"),DN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ww=["POST","PUT","PATCH","DELETE"];new Set(ww);var LN=["GET",...ww];new Set(LN);var Fc=x.createContext(null);Fc.displayName="DataRouter";var c0=x.createContext(null);c0.displayName="DataRouterState";x.createContext(!1);var Ew=x.createContext({isTransitioning:!1});Ew.displayName="ViewTransition";var IN=x.createContext(new Map);IN.displayName="Fetchers";var PN=x.createContext(null);PN.displayName="Await";var Aa=x.createContext(null);Aa.displayName="Navigation";var Rf=x.createContext(null);Rf.displayName="Location";var fl=x.createContext({outlet:null,matches:[],isDataRoute:!1});fl.displayName="Route";var Ex=x.createContext(null);Ex.displayName="RouteError";function FN(t,{relative:e}={}){Wr(jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Aa),{hash:i,pathname:l,search:o}=Lf(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:tl([n,l])),r.createHref({pathname:f,search:o,hash:i})}function jf(){return x.useContext(Rf)!=null}function $s(){return Wr(jf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Rf).location}var Tw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kw(t){x.useContext(Aa).static||x.useLayoutEffect(t)}function zc(){let{isDataRoute:t}=x.useContext(fl);return t?KN():zN()}function zN(){Wr(jf(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(Fc),{basename:e,navigator:n}=x.useContext(Aa),{matches:r}=x.useContext(fl),{pathname:i}=$s(),l=JSON.stringify(_w(r)),o=x.useRef(!1);return kw(()=>{o.current=!0}),x.useCallback((d,g={})=>{if(Ca(o.current,Tw),!o.current)return;if(typeof d=="number"){n.go(d);return}let p=Sw(d,JSON.parse(l),i,g.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:tl([e,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[e,n,l,i,t])}x.createContext(null);function Lf(t,{relative:e}={}){let{matches:n}=x.useContext(fl),{pathname:r}=$s(),i=JSON.stringify(_w(n));return x.useMemo(()=>Sw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function BN(t,e){return Cw(t,e)}function Cw(t,e,n,r){var A;Wr(jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Aa),{matches:l}=x.useContext(fl),o=l[l.length-1],f=o?o.params:{},d=o?o.pathname:"/",g=o?o.pathnameBase:"/",p=o&&o.route;{let j=p&&p.path||"";Nw(d,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=$s(),_;if(e){let j=typeof e=="string"?Pc(e):e;Wr(g==="/"||((A=j.pathname)==null?void 0:A.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),_=j}else _=v;let b=_.pathname||"/",w=b;if(g!=="/"){let j=g.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=vw(t,{pathname:w});Ca(p||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ca(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=VN(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:tl([g,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:tl([g,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,r);return e&&T?x.createElement(Rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function HN(){let t=JN(),e=jN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}var UN=x.createElement(HN,null),$N=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(fl.Provider,{value:this.props.routeContext},x.createElement(Ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WN({routeContext:t,match:e,children:n}){let r=x.useContext(Fc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(fl.Provider,{value:t},n)}function VN(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let d=i.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Wr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,f=-1;if(n)for(let d=0;d<i.length;d++){let g=i[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=d),g.route.id){let{loaderData:p,errors:v}=n,_=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||_){o=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((d,g,p)=>{let v,_=!1,b=null,w=null;n&&(v=l&&g.route.id?l[g.route.id]:void 0,b=g.route.errorElement||UN,o&&(f<0&&p===0?(Nw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):f===p&&(_=!0,w=g.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,p+1)),T=()=>{let A;return v?A=b:_?A=w:g.route.Component?A=x.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=d,x.createElement(WN,{match:g,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?x.createElement($N,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function Tx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YN(t){let e=x.useContext(Fc);return Wr(e,Tx(t)),e}function GN(t){let e=x.useContext(c0);return Wr(e,Tx(t)),e}function qN(t){let e=x.useContext(fl);return Wr(e,Tx(t)),e}function kx(t){let e=qN(t),n=e.matches[e.matches.length-1];return Wr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XN(){return kx("useRouteId")}function JN(){var r;let t=x.useContext(Ex),e=GN("useRouteError"),n=kx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function KN(){let{router:t}=YN("useNavigate"),e=kx("useNavigate"),n=x.useRef(!1);return kw(()=>{n.current=!0}),x.useCallback(async(i,l={})=>{Ca(n.current,Tw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var S_={};function Nw(t,e,n){!e&&!S_[t]&&(S_[t]=!0,Ca(!1,n))}x.memo(ZN);function ZN({routes:t,future:e,state:n}){return Cw(t,void 0,n,e)}function _a(t){Wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){Wr(!jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:o,navigator:i,static:l,future:{}}),[o,i,l]);typeof n=="string"&&(n=Pc(n));let{pathname:d="/",search:g="",hash:p="",state:v=null,key:_="default"}=n,b=x.useMemo(()=>{let w=ll(d,o);return w==null?null:{location:{pathname:w,search:g,hash:p,state:v,key:_},navigationType:r}},[o,d,g,p,v,_,r]);return Ca(b!=null,`<Router basename="${o}"> is not able to match the URL "${d}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Aa.Provider,{value:f},x.createElement(Rf.Provider,{children:e,value:b}))}function e3({children:t,location:e}){return BN(Vm(t),e)}function Vm(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let l=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Vm(r.props.children,l));return}Wr(r.type===_a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vm(r.props.children,l)),n.push(o)}),n}var Ed="get",Td="application/x-www-form-urlencoded";function u0(t){return t!=null&&typeof t.tagName=="string"}function t3(t){return u0(t)&&t.tagName.toLowerCase()==="button"}function n3(t){return u0(t)&&t.tagName.toLowerCase()==="form"}function r3(t){return u0(t)&&t.tagName.toLowerCase()==="input"}function i3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s3(t,e){return t.button===0&&(!e||e==="_self")&&!i3(t)}var Jh=null;function a3(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var l3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qp(t){return t!=null&&!l3.has(t)?(Ca(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):t}function o3(t,e){let n,r,i,l,o;if(n3(t)){let f=t.getAttribute("action");r=f?ll(f,e):null,n=t.getAttribute("method")||Ed,i=qp(t.getAttribute("enctype"))||Td,l=new FormData(t)}else if(t3(t)||r3(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?ll(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Ed,i=qp(t.getAttribute("formenctype"))||qp(f.getAttribute("enctype"))||Td,l=new FormData(f,t),!a3()){let{name:g,type:p,value:v}=t;if(p==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,v)}}else{if(u0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ed,r=null,i=Td,o=t}return l&&i==="text/plain"&&(o=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function c3(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ll(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function u3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function h3(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let o=await u3(l,n);return o.links?o.links():[]}return[]}));return m3(r.flat(1).filter(f3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function w_(t,e,n,r,i,l){let o=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,f=(d,g)=>{var p;return n[g].pathname!==d.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,g)=>o(d,g)||f(d,g)):l==="data"?e.filter((d,g)=>{var v;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,g)||f(d,g))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function d3(t,e,{includeHydrateFallback:n}={}){return g3(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function g3(t){return[...new Set(t)]}function p3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function m3(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(p3(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function Ow(){let t=x.useContext(Fc);return Cx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function x3(){let t=x.useContext(c0);return Cx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Nx=x.createContext(void 0);Nx.displayName="FrameworkContext";function Aw(){let t=x.useContext(Nx);return Cx(t,"You must render this element inside a <HydratedRouter> element"),t}function v3(t,e){let n=x.useContext(Nx),[r,i]=x.useState(!1),[l,o]=x.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:g,onMouseLeave:p,onTouchStart:v}=e,_=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=A=>{A.forEach(j=>{o(j.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[t]),x.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Fu(f,b),onBlur:Fu(d,w),onMouseEnter:Fu(g,b),onMouseLeave:Fu(p,w),onTouchStart:Fu(v,b)}]:[!1,_,{}]}function Fu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function y3({page:t,...e}){let{router:n}=Ow(),r=x.useMemo(()=>vw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(_3,{page:t,matches:r,...e}):null}function b3(t){let{manifest:e,routeModules:n}=Aw(),[r,i]=x.useState([]);return x.useEffect(()=>{let l=!1;return h3(t,e,n).then(o=>{l||i(o)}),()=>{l=!0}},[t,e,n]),r}function _3({page:t,matches:e,...n}){let r=$s(),{manifest:i,routeModules:l}=Aw(),{basename:o}=Ow(),{loaderData:f,matches:d}=x3(),g=x.useMemo(()=>w_(t,e,d,i,r,"data"),[t,e,d,i,r]),p=x.useMemo(()=>w_(t,e,d,i,r,"assets"),[t,e,d,i,r]),v=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(A=>{var I;let j=i.routes[A.route.id];!j||!j.hasLoader||(!g.some(Z=>Z.route.id===A.route.id)&&A.route.id in f&&((I=l[A.route.id])!=null&&I.shouldRevalidate)||j.hasClientLoader?S=!0:w.add(A.route.id))}),w.size===0)return[];let T=c3(t,o,"data");return S&&w.size>0&&T.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[o,f,r,i,g,e,t,l]),_=x.useMemo(()=>d3(p,i),[p,i]),b=b3(p);return x.createElement(x.Fragment,null,v.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),_.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:S})=>x.createElement("link",{key:w,...S})))}function S3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.7.0")}catch{}function w3({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=fN({window:n,v5Compat:!0}));let i=r.current,[l,o]=x.useState({action:i.action,location:i.location}),f=x.useCallback(d=>{x.startTransition(()=>o(d))},[o]);return x.useLayoutEffect(()=>i.listen(f),[i,f]),x.createElement(QN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ox=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:o,state:f,target:d,to:g,preventScrollReset:p,viewTransition:v,..._},b){let{basename:w}=x.useContext(Aa),S=typeof g=="string"&&Mw.test(g),T,A=!1;if(typeof g=="string"&&S&&(T=g,Dw))try{let q=new URL(window.location.href),ie=g.startsWith("//")?new URL(q.protocol+g):new URL(g),xe=ll(ie.pathname,w);ie.origin===q.origin&&xe!=null?g=xe+ie.search+ie.hash:A=!0}catch{Ca(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=FN(g,{relative:i}),[I,Z,Q]=v3(r,_),Y=k3(g,{replace:o,state:f,target:d,preventScrollReset:p,relative:i,viewTransition:v});function L(q){e&&e(q),q.defaultPrevented||Y(q)}let U=x.createElement("a",{..._,...Q,href:T||j,onClick:A||l?e:L,ref:S3(b,Z),target:d,"data-discover":!S&&n==="render"?"true":void 0});return I&&!S?x.createElement(x.Fragment,null,U,x.createElement(y3,{page:j})):U});Ox.displayName="Link";var Rw=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:o,viewTransition:f,children:d,...g},p){let v=Lf(o,{relative:g.relative}),_=$s(),b=x.useContext(c0),{navigator:w,basename:S}=x.useContext(Aa),T=b!=null&&D3(v)&&f===!0,A=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,j=_.pathname,I=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(j=j.toLowerCase(),I=I?I.toLowerCase():null,A=A.toLowerCase()),I&&S&&(I=ll(I,S)||I);const Z=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Q=j===A||!i&&j.startsWith(A)&&j.charAt(Z)==="/",Y=I!=null&&(I===A||!i&&I.startsWith(A)&&I.charAt(A.length)==="/"),L={isActive:Q,isPending:Y,isTransitioning:T},U=Q?e:void 0,q;typeof r=="function"?q=r(L):q=[r,Q?"active":null,Y?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(L):l;return x.createElement(Ox,{...g,"aria-current":U,className:q,ref:p,style:ie,to:o,viewTransition:f},typeof d=="function"?d(L):d)});Rw.displayName="NavLink";var E3=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:o=Ed,action:f,onSubmit:d,relative:g,preventScrollReset:p,viewTransition:v,..._},b)=>{let w=O3(),S=A3(f,{relative:g}),T=o.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&Mw.test(f),j=I=>{if(d&&d(I),I.defaultPrevented)return;I.preventDefault();let Z=I.nativeEvent.submitter,Q=(Z==null?void 0:Z.getAttribute("formmethod"))||o;w(Z||I.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:i,state:l,relative:g,preventScrollReset:p,viewTransition:v})};return x.createElement("form",{ref:b,method:T,action:S,onSubmit:r?d:j,..._,"data-discover":!A&&t==="render"?"true":void 0})});E3.displayName="Form";function T3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(t){let e=x.useContext(Fc);return Wr(e,T3(t)),e}function k3(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:o}={}){let f=zc(),d=$s(),g=Lf(t,{relative:l});return x.useCallback(p=>{if(s3(p,e)){p.preventDefault();let v=n!==void 0?n:gf(d)===gf(g);f(t,{replace:v,state:r,preventScrollReset:i,relative:l,viewTransition:o})}},[d,f,g,n,r,e,t,i,l,o])}var C3=0,N3=()=>`__${String(++C3)}__`;function O3(){let{router:t}=jw("useSubmit"),{basename:e}=x.useContext(Aa),n=XN();return x.useCallback(async(r,i={})=>{let{action:l,method:o,encType:f,formData:d,body:g}=o3(r,e);if(i.navigate===!1){let p=i.fetcherKey||N3();await t.fetch(p,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:g,formMethod:i.method||o,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:g,formMethod:i.method||o,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function A3(t,{relative:e}={}){let{basename:n}=x.useContext(Aa),r=x.useContext(fl);Wr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Lf(t||".",{relative:e})},o=$s();if(t==null){l.search=o.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(p=>p==="")){f.delete("index"),d.filter(v=>v).forEach(v=>f.append("index",v));let p=f.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:tl([n,l.pathname])),gf(l)}function D3(t,e={}){let n=x.useContext(Ew);Wr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jw("useViewTransitionState"),i=Lf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=ll(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ll(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jd(i.pathname,o)!=null||jd(i.pathname,l)!=null}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Lw;function xt(){return Lw.apply(null,arguments)}function M3(t){Lw=t}function la(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function _o(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function rr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ax(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(rr(t,e))return!1;return!0}function ns(t){return t===void 0}function ol(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function If(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Iw(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Hl(t,e){for(var n in e)rr(e,n)&&(t[n]=e[n]);return rr(e,"toString")&&(t.toString=e.toString),rr(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Da(t,e,n,r){return sE(t,e,n,r,!0).utc()}function R3(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function In(t){return t._pf==null&&(t._pf=R3()),t._pf}var Ym;Array.prototype.some?Ym=Array.prototype.some:Ym=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function Dx(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=In(t),n=Ym.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function f0(t){var e=Da(NaN);return t!=null?Hl(In(e),t):In(e).userInvalidated=!0,e}var E_=xt.momentProperties=[],Xp=!1;function Mx(t,e){var n,r,i,l=E_.length;if(ns(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),ns(e._i)||(t._i=e._i),ns(e._f)||(t._f=e._f),ns(e._l)||(t._l=e._l),ns(e._strict)||(t._strict=e._strict),ns(e._tzm)||(t._tzm=e._tzm),ns(e._isUTC)||(t._isUTC=e._isUTC),ns(e._offset)||(t._offset=e._offset),ns(e._pf)||(t._pf=In(e)),ns(e._locale)||(t._locale=e._locale),l>0)for(n=0;n<l;n++)r=E_[n],i=e[r],ns(i)||(t[r]=i);return t}function Pf(t){Mx(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Xp===!1&&(Xp=!0,xt.updateOffset(this),Xp=!1)}function oa(t){return t instanceof Pf||t!=null&&t._isAMomentObject!=null}function Pw(t){xt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ws(t,e){var n=!0;return Hl(function(){if(xt.deprecationHandler!=null&&xt.deprecationHandler(null,t),n){var r=[],i,l,o,f=arguments.length;for(l=0;l<f;l++){if(i="",typeof arguments[l]=="object"){i+=`
[`+l+"] ";for(o in arguments[0])rr(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[l];r.push(i)}Pw(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var T_={};function Fw(t,e){xt.deprecationHandler!=null&&xt.deprecationHandler(t,e),T_[t]||(Pw(e),T_[t]=!0)}xt.suppressDeprecationWarnings=!1;xt.deprecationHandler=null;function Ma(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function j3(t){var e,n;for(n in t)rr(t,n)&&(e=t[n],Ma(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Gm(t,e){var n=Hl({},t),r;for(r in e)rr(e,r)&&(_o(t[r])&&_o(e[r])?(n[r]={},Hl(n[r],t[r]),Hl(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)rr(t,r)&&!rr(e,r)&&_o(t[r])&&(n[r]=Hl({},n[r]));return n}function Rx(t){t!=null&&this.set(t)}var qm;Object.keys?qm=Object.keys:qm=function(t){var e,n=[];for(e in t)rr(t,e)&&n.push(e);return n};var L3={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I3(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Ma(r)?r.call(e,n):r}function Na(t,e,n){var r=""+Math.abs(t),i=e-r.length,l=t>=0;return(l?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var jx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Jp={},kc={};function xn(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(kc[t]=i),e&&(kc[e[0]]=function(){return Na(i.apply(this,arguments),e[1],e[2])}),n&&(kc[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function P3(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function F3(t){var e=t.match(jx),n,r;for(n=0,r=e.length;n<r;n++)kc[e[n]]?e[n]=kc[e[n]]:e[n]=P3(e[n]);return function(i){var l="",o;for(o=0;o<r;o++)l+=Ma(e[o])?e[o].call(i,t):e[o];return l}}function kd(t,e){return t.isValid()?(e=zw(e,t.localeData()),Jp[e]=Jp[e]||F3(e),Jp[e](t)):t.localeData().invalidDate()}function zw(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Kh.lastIndex=0;n>=0&&Kh.test(t);)t=t.replace(Kh,r),Kh.lastIndex=0,n-=1;return t}var z3={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function B3(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(jx).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var H3="Invalid date";function U3(){return this._invalidDate}var $3="%d",W3=/\d{1,2}/;function V3(t){return this._ordinal.replace("%d",t)}var Y3={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function G3(t,e,n,r){var i=this._relativeTime[n];return Ma(i)?i(t,e,n,r):i.replace(/%d/i,t)}function q3(t,e){var n=this._relativeTime[t>0?"future":"past"];return Ma(n)?n(e):n.replace(/%s/i,e)}var k_={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Vs(t){return typeof t=="string"?k_[t]||k_[t.toLowerCase()]:void 0}function Lx(t){var e={},n,r;for(r in t)rr(t,r)&&(n=Vs(r),n&&(e[n]=t[r]));return e}var X3={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function J3(t){var e=[],n;for(n in t)rr(t,n)&&e.push({unit:n,priority:X3[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var Bw=/\d/,ws=/\d\d/,Hw=/\d{3}/,Ix=/\d{4}/,h0=/[+-]?\d{6}/,Pr=/\d\d?/,Uw=/\d\d\d\d?/,$w=/\d\d\d\d\d\d?/,d0=/\d{1,3}/,Px=/\d{1,4}/,g0=/[+-]?\d{1,6}/,Bc=/\d+/,p0=/[+-]?\d+/,K3=/Z|[+-]\d\d:?\d\d/gi,m0=/Z|[+-]\d\d(?::?\d\d)?/gi,Z3=/[+-]?\d+(\.\d{1,3})?/,Ff=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Hc=/^[1-9]\d?/,Fx=/^([1-9]\d|\d)/,Ld;Ld={};function Jt(t,e,n){Ld[t]=Ma(e)?e:function(r,i){return r&&n?n:e}}function Q3(t,e){return rr(Ld,t)?Ld[t](e._strict,e._locale):new RegExp(eO(t))}function eO(t){return nl(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,l){return n||r||i||l}))}function nl(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Hs(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Xn(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Hs(e)),n}var Xm={};function Nr(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),ol(e)&&(r=function(l,o){o[e]=Xn(l)}),i=t.length,n=0;n<i;n++)Xm[t[n]]=r}function zf(t,e){Nr(t,function(n,r,i,l){i._w=i._w||{},e(n,i._w,i,l)})}function tO(t,e,n){e!=null&&rr(Xm,t)&&Xm[t](e,n._a,n,t)}function x0(t){return t%4===0&&t%100!==0||t%400===0}var Bi=0,Ka=1,Ea=2,di=3,ra=4,Za=5,yo=6,nO=7,rO=8;xn("Y",0,0,function(){var t=this.year();return t<=9999?Na(t,4):"+"+t});xn(0,["YY",2],0,function(){return this.year()%100});xn(0,["YYYY",4],0,"year");xn(0,["YYYYY",5],0,"year");xn(0,["YYYYYY",6,!0],0,"year");Jt("Y",p0);Jt("YY",Pr,ws);Jt("YYYY",Px,Ix);Jt("YYYYY",g0,h0);Jt("YYYYYY",g0,h0);Nr(["YYYYY","YYYYYY"],Bi);Nr("YYYY",function(t,e){e[Bi]=t.length===2?xt.parseTwoDigitYear(t):Xn(t)});Nr("YY",function(t,e){e[Bi]=xt.parseTwoDigitYear(t)});Nr("Y",function(t,e){e[Bi]=parseInt(t,10)});function tf(t){return x0(t)?366:365}xt.parseTwoDigitYear=function(t){return Xn(t)+(Xn(t)>68?1900:2e3)};var Ww=Uc("FullYear",!0);function iO(){return x0(this.year())}function Uc(t,e){return function(n){return n!=null?(Vw(this,t,n),xt.updateOffset(this,e),this):pf(this,t)}}function pf(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Vw(t,e,n){var r,i,l,o,f;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}l=n,o=t.month(),f=t.date(),f=f===29&&o===1&&!x0(l)?28:f,i?r.setUTCFullYear(l,o,f):r.setFullYear(l,o,f)}}function sO(t){return t=Vs(t),Ma(this[t])?this[t]():this}function aO(t,e){if(typeof t=="object"){t=Lx(t);var n=J3(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Vs(t),Ma(this[t]))return this[t](e);return this}function lO(t,e){return(t%e+e)%e}var Zr;Array.prototype.indexOf?Zr=Array.prototype.indexOf:Zr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function zx(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=lO(e,12);return t+=(e-n)/12,n===1?x0(t)?29:28:31-n%7%2}xn("M",["MM",2],"Mo",function(){return this.month()+1});xn("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});xn("MMMM",0,0,function(t){return this.localeData().months(this,t)});Jt("M",Pr,Hc);Jt("MM",Pr,ws);Jt("MMM",function(t,e){return e.monthsShortRegex(t)});Jt("MMMM",function(t,e){return e.monthsRegex(t)});Nr(["M","MM"],function(t,e){e[Ka]=Xn(t)-1});Nr(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ka]=i:In(n).invalidMonth=t});var oO="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Yw="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gw=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cO=Ff,uO=Ff;function fO(t,e){return t?la(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Gw).test(e)?"format":"standalone"][t.month()]:la(this._months)?this._months:this._months.standalone}function hO(t,e){return t?la(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Gw.test(e)?"format":"standalone"][t.month()]:la(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dO(t,e,n){var r,i,l,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)l=Da([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(l,"").toLocaleLowerCase();return n?e==="MMM"?(i=Zr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Zr.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Zr.call(this._shortMonthsParse,o),i!==-1?i:(i=Zr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Zr.call(this._longMonthsParse,o),i!==-1?i:(i=Zr.call(this._shortMonthsParse,o),i!==-1?i:null))}function gO(t,e,n){var r,i,l;if(this._monthsParseExact)return dO.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Da([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(l="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(l.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function qw(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Xn(e);else if(e=t.localeData().monthsParse(e),!ol(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,zx(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function Xw(t){return t!=null?(qw(this,t),xt.updateOffset(this,!0),this):pf(this,"Month")}function pO(){return zx(this.year(),this.month())}function mO(t){return this._monthsParseExact?(rr(this,"_monthsRegex")||Jw.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(rr(this,"_monthsShortRegex")||(this._monthsShortRegex=cO),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function xO(t){return this._monthsParseExact?(rr(this,"_monthsRegex")||Jw.call(this),t?this._monthsStrictRegex:this._monthsRegex):(rr(this,"_monthsRegex")||(this._monthsRegex=uO),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Jw(){function t(d,g){return g.length-d.length}var e=[],n=[],r=[],i,l,o,f;for(i=0;i<12;i++)l=Da([2e3,i]),o=nl(this.monthsShort(l,"")),f=nl(this.months(l,"")),e.push(o),n.push(f),r.push(f),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function vO(t,e,n,r,i,l,o){var f;return t<100&&t>=0?(f=new Date(t+400,e,n,r,i,l,o),isFinite(f.getFullYear())&&f.setFullYear(t)):f=new Date(t,e,n,r,i,l,o),f}function mf(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Id(t,e,n){var r=7+e-n,i=(7+mf(t,0,r).getUTCDay()-e)%7;return-i+r-1}function Kw(t,e,n,r,i){var l=(7+n-r)%7,o=Id(t,r,i),f=1+7*(e-1)+l+o,d,g;return f<=0?(d=t-1,g=tf(d)+f):f>tf(t)?(d=t+1,g=f-tf(t)):(d=t,g=f),{year:d,dayOfYear:g}}function xf(t,e,n){var r=Id(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,l,o;return i<1?(o=t.year()-1,l=i+rl(o,e,n)):i>rl(t.year(),e,n)?(l=i-rl(t.year(),e,n),o=t.year()+1):(o=t.year(),l=i),{week:l,year:o}}function rl(t,e,n){var r=Id(t,e,n),i=Id(t+1,e,n);return(tf(t)-r+i)/7}xn("w",["ww",2],"wo","week");xn("W",["WW",2],"Wo","isoWeek");Jt("w",Pr,Hc);Jt("ww",Pr,ws);Jt("W",Pr,Hc);Jt("WW",Pr,ws);zf(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Xn(t)});function yO(t){return xf(t,this._week.dow,this._week.doy).week}var bO={dow:0,doy:6};function _O(){return this._week.dow}function SO(){return this._week.doy}function wO(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function EO(t){var e=xf(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}xn("d",0,"do","day");xn("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});xn("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});xn("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});xn("e",0,0,"weekday");xn("E",0,0,"isoWeekday");Jt("d",Pr);Jt("e",Pr);Jt("E",Pr);Jt("dd",function(t,e){return e.weekdaysMinRegex(t)});Jt("ddd",function(t,e){return e.weekdaysShortRegex(t)});Jt("dddd",function(t,e){return e.weekdaysRegex(t)});zf(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:In(n).invalidWeekday=t});zf(["d","e","E"],function(t,e,n,r){e[r]=Xn(t)});function TO(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function kO(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Bx(t,e){return t.slice(e,7).concat(t.slice(0,e))}var CO="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Zw="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),NO="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),OO=Ff,AO=Ff,DO=Ff;function MO(t,e){var n=la(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Bx(n,this._week.dow):t?n[t.day()]:n}function RO(t){return t===!0?Bx(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function jO(t){return t===!0?Bx(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function LO(t,e,n){var r,i,l,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)l=Da([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(l,"").toLocaleLowerCase();return n?e==="dddd"?(i=Zr.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Zr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Zr.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Zr.call(this._weekdaysParse,o),i!==-1||(i=Zr.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Zr.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Zr.call(this._shortWeekdaysParse,o),i!==-1||(i=Zr.call(this._weekdaysParse,o),i!==-1)?i:(i=Zr.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Zr.call(this._minWeekdaysParse,o),i!==-1||(i=Zr.call(this._weekdaysParse,o),i!==-1)?i:(i=Zr.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function IO(t,e,n){var r,i,l;if(this._weekdaysParseExact)return LO.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Da([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(l.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function PO(t){if(!this.isValid())return t!=null?this:NaN;var e=pf(this,"Day");return t!=null?(t=TO(t,this.localeData()),this.add(t-e,"d")):e}function FO(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function zO(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=kO(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function BO(t){return this._weekdaysParseExact?(rr(this,"_weekdaysRegex")||Hx.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(rr(this,"_weekdaysRegex")||(this._weekdaysRegex=OO),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function HO(t){return this._weekdaysParseExact?(rr(this,"_weekdaysRegex")||Hx.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(rr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=AO),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function UO(t){return this._weekdaysParseExact?(rr(this,"_weekdaysRegex")||Hx.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(rr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=DO),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Hx(){function t(p,v){return v.length-p.length}var e=[],n=[],r=[],i=[],l,o,f,d,g;for(l=0;l<7;l++)o=Da([2e3,1]).day(l),f=nl(this.weekdaysMin(o,"")),d=nl(this.weekdaysShort(o,"")),g=nl(this.weekdays(o,"")),e.push(f),n.push(d),r.push(g),i.push(f),i.push(d),i.push(g);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ux(){return this.hours()%12||12}function $O(){return this.hours()||24}xn("H",["HH",2],0,"hour");xn("h",["hh",2],0,Ux);xn("k",["kk",2],0,$O);xn("hmm",0,0,function(){return""+Ux.apply(this)+Na(this.minutes(),2)});xn("hmmss",0,0,function(){return""+Ux.apply(this)+Na(this.minutes(),2)+Na(this.seconds(),2)});xn("Hmm",0,0,function(){return""+this.hours()+Na(this.minutes(),2)});xn("Hmmss",0,0,function(){return""+this.hours()+Na(this.minutes(),2)+Na(this.seconds(),2)});function Qw(t,e){xn(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Qw("a",!0);Qw("A",!1);function eE(t,e){return e._meridiemParse}Jt("a",eE);Jt("A",eE);Jt("H",Pr,Fx);Jt("h",Pr,Hc);Jt("k",Pr,Hc);Jt("HH",Pr,ws);Jt("hh",Pr,ws);Jt("kk",Pr,ws);Jt("hmm",Uw);Jt("hmmss",$w);Jt("Hmm",Uw);Jt("Hmmss",$w);Nr(["H","HH"],di);Nr(["k","kk"],function(t,e,n){var r=Xn(t);e[di]=r===24?0:r});Nr(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Nr(["h","hh"],function(t,e,n){e[di]=Xn(t),In(n).bigHour=!0});Nr("hmm",function(t,e,n){var r=t.length-2;e[di]=Xn(t.substr(0,r)),e[ra]=Xn(t.substr(r)),In(n).bigHour=!0});Nr("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[di]=Xn(t.substr(0,r)),e[ra]=Xn(t.substr(r,2)),e[Za]=Xn(t.substr(i)),In(n).bigHour=!0});Nr("Hmm",function(t,e,n){var r=t.length-2;e[di]=Xn(t.substr(0,r)),e[ra]=Xn(t.substr(r))});Nr("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[di]=Xn(t.substr(0,r)),e[ra]=Xn(t.substr(r,2)),e[Za]=Xn(t.substr(i))});function WO(t){return(t+"").toLowerCase().charAt(0)==="p"}var VO=/[ap]\.?m?\.?/i,YO=Uc("Hours",!0);function GO(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var tE={calendar:L3,longDateFormat:z3,invalidDate:H3,ordinal:$3,dayOfMonthOrdinalParse:W3,relativeTime:Y3,months:oO,monthsShort:Yw,week:bO,weekdays:CO,weekdaysMin:NO,weekdaysShort:Zw,meridiemParse:VO},Hr={},zu={},vf;function qO(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function C_(t){return t&&t.toLowerCase().replace("_","-")}function XO(t){for(var e=0,n,r,i,l;e<t.length;){for(l=C_(t[e]).split("-"),n=l.length,r=C_(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=v0(l.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&qO(l,r)>=n-1)break;n--}e++}return vf}function JO(t){return!!(t&&t.match("^[^/\\\\]*$"))}function v0(t){var e=null,n;if(Hr[t]===void 0&&typeof module<"u"&&module&&module.exports&&JO(t))try{e=vf._abbr,n=require,n("./locale/"+t),Vl(e)}catch{Hr[t]=null}return Hr[t]}function Vl(t,e){var n;return t&&(ns(e)?n=hl(t):n=$x(t,e),n?vf=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),vf._abbr}function $x(t,e){if(e!==null){var n,r=tE;if(e.abbr=t,Hr[t]!=null)Fw("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Hr[t]._config;else if(e.parentLocale!=null)if(Hr[e.parentLocale]!=null)r=Hr[e.parentLocale]._config;else if(n=v0(e.parentLocale),n!=null)r=n._config;else return zu[e.parentLocale]||(zu[e.parentLocale]=[]),zu[e.parentLocale].push({name:t,config:e}),null;return Hr[t]=new Rx(Gm(r,e)),zu[t]&&zu[t].forEach(function(i){$x(i.name,i.config)}),Vl(t),Hr[t]}else return delete Hr[t],null}function KO(t,e){if(e!=null){var n,r,i=tE;Hr[t]!=null&&Hr[t].parentLocale!=null?Hr[t].set(Gm(Hr[t]._config,e)):(r=v0(t),r!=null&&(i=r._config),e=Gm(i,e),r==null&&(e.abbr=t),n=new Rx(e),n.parentLocale=Hr[t],Hr[t]=n),Vl(t)}else Hr[t]!=null&&(Hr[t].parentLocale!=null?(Hr[t]=Hr[t].parentLocale,t===Vl()&&Vl(t)):Hr[t]!=null&&delete Hr[t]);return Hr[t]}function hl(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return vf;if(!la(t)){if(e=v0(t),e)return e;t=[t]}return XO(t)}function ZO(){return qm(Hr)}function Wx(t){var e,n=t._a;return n&&In(t).overflow===-2&&(e=n[Ka]<0||n[Ka]>11?Ka:n[Ea]<1||n[Ea]>zx(n[Bi],n[Ka])?Ea:n[di]<0||n[di]>24||n[di]===24&&(n[ra]!==0||n[Za]!==0||n[yo]!==0)?di:n[ra]<0||n[ra]>59?ra:n[Za]<0||n[Za]>59?Za:n[yo]<0||n[yo]>999?yo:-1,In(t)._overflowDayOfYear&&(e<Bi||e>Ea)&&(e=Ea),In(t)._overflowWeeks&&e===-1&&(e=nO),In(t)._overflowWeekday&&e===-1&&(e=rO),In(t).overflow=e),t}var QO=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eA=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tA=/Z|[+-]\d\d(?::?\d\d)?/,Zh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Kp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nA=/^\/?Date\((-?\d+)/i,rA=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,iA={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function nE(t){var e,n,r=t._i,i=QO.exec(r)||eA.exec(r),l,o,f,d,g=Zh.length,p=Kp.length;if(i){for(In(t).iso=!0,e=0,n=g;e<n;e++)if(Zh[e][1].exec(i[1])){o=Zh[e][0],l=Zh[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=p;e<n;e++)if(Kp[e][1].exec(i[3])){f=(i[2]||" ")+Kp[e][0];break}if(f==null){t._isValid=!1;return}}if(!l&&f!=null){t._isValid=!1;return}if(i[4])if(tA.exec(i[4]))d="Z";else{t._isValid=!1;return}t._f=o+(f||"")+(d||""),Yx(t)}else t._isValid=!1}function sA(t,e,n,r,i,l){var o=[aA(t),Yw.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return l&&o.push(parseInt(l,10)),o}function aA(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function lA(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function oA(t,e,n){if(t){var r=Zw.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return In(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function cA(t,e,n){if(t)return iA[t];if(e)return 0;var r=parseInt(n,10),i=r%100,l=(r-i)/100;return l*60+i}function rE(t){var e=rA.exec(lA(t._i)),n;if(e){if(n=sA(e[4],e[3],e[2],e[5],e[6],e[7]),!oA(e[1],n,t))return;t._a=n,t._tzm=cA(e[8],e[9],e[10]),t._d=mf.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),In(t).rfc2822=!0}else t._isValid=!1}function uA(t){var e=nA.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(nE(t),t._isValid===!1)delete t._isValid;else return;if(rE(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:xt.createFromInputFallback(t)}xt.createFromInputFallback=Ws("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function bc(t,e,n){return t??e??n}function fA(t){var e=new Date(xt.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Vx(t){var e,n,r=[],i,l,o;if(!t._d){for(i=fA(t),t._w&&t._a[Ea]==null&&t._a[Ka]==null&&hA(t),t._dayOfYear!=null&&(o=bc(t._a[Bi],i[Bi]),(t._dayOfYear>tf(o)||t._dayOfYear===0)&&(In(t)._overflowDayOfYear=!0),n=mf(o,0,t._dayOfYear),t._a[Ka]=n.getUTCMonth(),t._a[Ea]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[di]===24&&t._a[ra]===0&&t._a[Za]===0&&t._a[yo]===0&&(t._nextDay=!0,t._a[di]=0),t._d=(t._useUTC?mf:vO).apply(null,r),l=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[di]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==l&&(In(t).weekdayMismatch=!0)}}function hA(t){var e,n,r,i,l,o,f,d,g;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(l=1,o=4,n=bc(e.GG,t._a[Bi],xf(Lr(),1,4).year),r=bc(e.W,1),i=bc(e.E,1),(i<1||i>7)&&(d=!0)):(l=t._locale._week.dow,o=t._locale._week.doy,g=xf(Lr(),l,o),n=bc(e.gg,t._a[Bi],g.year),r=bc(e.w,g.week),e.d!=null?(i=e.d,(i<0||i>6)&&(d=!0)):e.e!=null?(i=e.e+l,(e.e<0||e.e>6)&&(d=!0)):i=l),r<1||r>rl(n,l,o)?In(t)._overflowWeeks=!0:d!=null?In(t)._overflowWeekday=!0:(f=Kw(n,r,i,l,o),t._a[Bi]=f.year,t._dayOfYear=f.dayOfYear)}xt.ISO_8601=function(){};xt.RFC_2822=function(){};function Yx(t){if(t._f===xt.ISO_8601){nE(t);return}if(t._f===xt.RFC_2822){rE(t);return}t._a=[],In(t).empty=!0;var e=""+t._i,n,r,i,l,o,f=e.length,d=0,g,p;for(i=zw(t._f,t._locale).match(jx)||[],p=i.length,n=0;n<p;n++)l=i[n],r=(e.match(Q3(l,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&In(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),d+=r.length),kc[l]?(r?In(t).empty=!1:In(t).unusedTokens.push(l),tO(l,r,t)):t._strict&&!r&&In(t).unusedTokens.push(l);In(t).charsLeftOver=f-d,e.length>0&&In(t).unusedInput.push(e),t._a[di]<=12&&In(t).bigHour===!0&&t._a[di]>0&&(In(t).bigHour=void 0),In(t).parsedDateParts=t._a.slice(0),In(t).meridiem=t._meridiem,t._a[di]=dA(t._locale,t._a[di],t._meridiem),g=In(t).era,g!==null&&(t._a[Bi]=t._locale.erasConvertYear(g,t._a[Bi])),Vx(t),Wx(t)}function dA(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function gA(t){var e,n,r,i,l,o,f=!1,d=t._f.length;if(d===0){In(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<d;i++)l=0,o=!1,e=Mx({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Yx(e),Dx(e)&&(o=!0),l+=In(e).charsLeftOver,l+=In(e).unusedTokens.length*10,In(e).score=l,f?l<r&&(r=l,n=e):(r==null||l<r||o)&&(r=l,n=e,o&&(f=!0));Hl(t,n||e)}function pA(t){if(!t._d){var e=Lx(t._i),n=e.day===void 0?e.date:e.day;t._a=Iw([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Vx(t)}}function mA(t){var e=new Pf(Wx(iE(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function iE(t){var e=t._i,n=t._f;return t._locale=t._locale||hl(t._l),e===null||n===void 0&&e===""?f0({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),oa(e)?new Pf(Wx(e)):(If(e)?t._d=e:la(n)?gA(t):n?Yx(t):xA(t),Dx(t)||(t._d=null),t))}function xA(t){var e=t._i;ns(e)?t._d=new Date(xt.now()):If(e)?t._d=new Date(e.valueOf()):typeof e=="string"?uA(t):la(e)?(t._a=Iw(e.slice(0),function(n){return parseInt(n,10)}),Vx(t)):_o(e)?pA(t):ol(e)?t._d=new Date(e):xt.createFromInputFallback(t)}function sE(t,e,n,r,i){var l={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(_o(t)&&Ax(t)||la(t)&&t.length===0)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=t,l._f=e,l._strict=r,mA(l)}function Lr(t,e,n,r){return sE(t,e,n,r,!1)}var vA=Ws("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Lr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f0()}),yA=Ws("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Lr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f0()});function aE(t,e){var n,r;if(e.length===1&&la(e[0])&&(e=e[0]),!e.length)return Lr();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function bA(){var t=[].slice.call(arguments,0);return aE("isBefore",t)}function _A(){var t=[].slice.call(arguments,0);return aE("isAfter",t)}var SA=function(){return Date.now?Date.now():+new Date},Bu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wA(t){var e,n=!1,r,i=Bu.length;for(e in t)if(rr(t,e)&&!(Zr.call(Bu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Bu[r]]){if(n)return!1;parseFloat(t[Bu[r]])!==Xn(t[Bu[r]])&&(n=!0)}return!0}function EA(){return this._isValid}function TA(){return ua(NaN)}function y0(t){var e=Lx(t),n=e.year||0,r=e.quarter||0,i=e.month||0,l=e.week||e.isoWeek||0,o=e.day||0,f=e.hour||0,d=e.minute||0,g=e.second||0,p=e.millisecond||0;this._isValid=wA(e),this._milliseconds=+p+g*1e3+d*6e4+f*1e3*60*60,this._days=+o+l*7,this._months=+i+r*3+n*12,this._data={},this._locale=hl(),this._bubble()}function Cd(t){return t instanceof y0}function Jm(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function kA(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),l=0,o;for(o=0;o<r;o++)Xn(t[o])!==Xn(e[o])&&l++;return l+i}function lE(t,e){xn(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Na(~~(n/60),2)+e+Na(~~n%60,2)})}lE("Z",":");lE("ZZ","");Jt("Z",m0);Jt("ZZ",m0);Nr(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Gx(m0,t)});var CA=/([\+\-]|\d\d)/gi;function Gx(t,e){var n=(e||"").match(t),r,i,l;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(CA)||["-",0,0],l=+(i[1]*60)+Xn(i[2]),l===0?0:i[0]==="+"?l:-l)}function qx(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(oa(t)||If(t)?t.valueOf():Lr(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),xt.updateOffset(n,!1),n):Lr(t).local()}function Km(t){return-Math.round(t._d.getTimezoneOffset())}xt.updateOffset=function(){};function NA(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Gx(m0,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Km(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?uE(this,ua(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,xt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Km(this)}function OA(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function AA(t){return this.utcOffset(0,t)}function DA(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Km(this),"m")),this}function MA(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Gx(K3,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function RA(t){return this.isValid()?(t=t?Lr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function jA(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function LA(){if(!ns(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Mx(t,this),t=iE(t),t._a?(e=t._isUTC?Da(t._a):Lr(t._a),this._isDSTShifted=this.isValid()&&kA(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function IA(){return this.isValid()?!this._isUTC:!1}function PA(){return this.isValid()?this._isUTC:!1}function oE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var FA=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zA=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ua(t,e){var n=t,r=null,i,l,o;return Cd(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ol(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=FA.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Xn(r[Ea])*i,h:Xn(r[di])*i,m:Xn(r[ra])*i,s:Xn(r[Za])*i,ms:Xn(Jm(r[yo]*1e3))*i}):(r=zA.exec(t))?(i=r[1]==="-"?-1:1,n={y:mo(r[2],i),M:mo(r[3],i),w:mo(r[4],i),d:mo(r[5],i),h:mo(r[6],i),m:mo(r[7],i),s:mo(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=BA(Lr(n.from),Lr(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),l=new y0(n),Cd(t)&&rr(t,"_locale")&&(l._locale=t._locale),Cd(t)&&rr(t,"_isValid")&&(l._isValid=t._isValid),l}ua.fn=y0.prototype;ua.invalid=TA;function mo(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function N_(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function BA(t,e){var n;return t.isValid()&&e.isValid()?(e=qx(e,t),t.isBefore(e)?n=N_(t,e):(n=N_(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function cE(t,e){return function(n,r){var i,l;return r!==null&&!isNaN(+r)&&(Fw(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=n,n=r,r=l),i=ua(n,r),uE(this,i,t),this}}function uE(t,e,n,r){var i=e._milliseconds,l=Jm(e._days),o=Jm(e._months);t.isValid()&&(r=r??!0,o&&qw(t,pf(t,"Month")+o*n),l&&Vw(t,"Date",pf(t,"Date")+l*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&xt.updateOffset(t,l||o))}var HA=cE(1,"add"),UA=cE(-1,"subtract");function fE(t){return typeof t=="string"||t instanceof String}function $A(t){return oa(t)||If(t)||fE(t)||ol(t)||VA(t)||WA(t)||t===null||t===void 0}function WA(t){var e=_o(t)&&!Ax(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,l,o=r.length;for(i=0;i<o;i+=1)l=r[i],n=n||rr(t,l);return e&&n}function VA(t){var e=la(t),n=!1;return e&&(n=t.filter(function(r){return!ol(r)&&fE(t)}).length===0),e&&n}function YA(t){var e=_o(t)&&!Ax(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,l;for(i=0;i<r.length;i+=1)l=r[i],n=n||rr(t,l);return e&&n}function GA(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qA(t,e){arguments.length===1&&(arguments[0]?$A(arguments[0])?(t=arguments[0],e=void 0):YA(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Lr(),r=qx(n,this).startOf("day"),i=xt.calendarFormat(this,r)||"sameElse",l=e&&(Ma(e[i])?e[i].call(this,n):e[i]);return this.format(l||this.localeData().calendar(i,this,Lr(n)))}function XA(){return new Pf(this)}function JA(t,e){var n=oa(t)?t:Lr(t);return this.isValid()&&n.isValid()?(e=Vs(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function KA(t,e){var n=oa(t)?t:Lr(t);return this.isValid()&&n.isValid()?(e=Vs(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function ZA(t,e,n,r){var i=oa(t)?t:Lr(t),l=oa(e)?e:Lr(e);return this.isValid()&&i.isValid()&&l.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(l,n):!this.isAfter(l,n))):!1}function QA(t,e){var n=oa(t)?t:Lr(t),r;return this.isValid()&&n.isValid()?(e=Vs(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function eD(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function tD(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function nD(t,e,n){var r,i,l;if(!this.isValid())return NaN;if(r=qx(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Vs(e),e){case"year":l=Nd(this,r)/12;break;case"month":l=Nd(this,r);break;case"quarter":l=Nd(this,r)/3;break;case"second":l=(this-r)/1e3;break;case"minute":l=(this-r)/6e4;break;case"hour":l=(this-r)/36e5;break;case"day":l=(this-r-i)/864e5;break;case"week":l=(this-r-i)/6048e5;break;default:l=this-r}return n?l:Hs(l)}function Nd(t,e){if(t.date()<e.date())return-Nd(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,l;return e-r<0?(i=t.clone().add(n-1,"months"),l=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),l=(e-r)/(i-r)),-(n+l)||0}xt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";xt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function rD(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function iD(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?kd(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ma(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",kd(n,"Z")):kd(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function sD(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,l;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",l=e+'[")]',this.format(n+r+i+l)}function aD(t){t||(t=this.isUtc()?xt.defaultFormatUtc:xt.defaultFormat);var e=kd(this,t);return this.localeData().postformat(e)}function lD(t,e){return this.isValid()&&(oa(t)&&t.isValid()||Lr(t).isValid())?ua({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oD(t){return this.from(Lr(),t)}function cD(t,e){return this.isValid()&&(oa(t)&&t.isValid()||Lr(t).isValid())?ua({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function uD(t){return this.to(Lr(),t)}function hE(t){var e;return t===void 0?this._locale._abbr:(e=hl(t),e!=null&&(this._locale=e),this)}var dE=Ws("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function gE(){return this._locale}var Pd=1e3,Cc=60*Pd,Fd=60*Cc,pE=(365*400+97)*24*Fd;function Nc(t,e){return(t%e+e)%e}function mE(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-pE:new Date(t,e,n).valueOf()}function xE(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-pE:Date.UTC(t,e,n)}function fD(t){var e,n;if(t=Vs(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?xE:mE,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Nc(e+(this._isUTC?0:this.utcOffset()*Cc),Fd);break;case"minute":e=this._d.valueOf(),e-=Nc(e,Cc);break;case"second":e=this._d.valueOf(),e-=Nc(e,Pd);break}return this._d.setTime(e),xt.updateOffset(this,!0),this}function hD(t){var e,n;if(t=Vs(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?xE:mE,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Fd-Nc(e+(this._isUTC?0:this.utcOffset()*Cc),Fd)-1;break;case"minute":e=this._d.valueOf(),e+=Cc-Nc(e,Cc)-1;break;case"second":e=this._d.valueOf(),e+=Pd-Nc(e,Pd)-1;break}return this._d.setTime(e),xt.updateOffset(this,!0),this}function dD(){return this._d.valueOf()-(this._offset||0)*6e4}function gD(){return Math.floor(this.valueOf()/1e3)}function pD(){return new Date(this.valueOf())}function mD(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xD(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function vD(){return this.isValid()?this.toISOString():null}function yD(){return Dx(this)}function bD(){return Hl({},In(this))}function _D(){return In(this).overflow}function SD(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}xn("N",0,0,"eraAbbr");xn("NN",0,0,"eraAbbr");xn("NNN",0,0,"eraAbbr");xn("NNNN",0,0,"eraName");xn("NNNNN",0,0,"eraNarrow");xn("y",["y",1],"yo","eraYear");xn("y",["yy",2],0,"eraYear");xn("y",["yyy",3],0,"eraYear");xn("y",["yyyy",4],0,"eraYear");Jt("N",Xx);Jt("NN",Xx);Jt("NNN",Xx);Jt("NNNN",RD);Jt("NNNNN",jD);Nr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?In(n).era=i:In(n).invalidEra=t});Jt("y",Bc);Jt("yy",Bc);Jt("yyy",Bc);Jt("yyyy",Bc);Jt("yo",LD);Nr(["y","yy","yyy","yyyy"],Bi);Nr(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Bi]=n._locale.eraYearOrdinalParse(t,i):e[Bi]=parseInt(t,10)});function wD(t,e){var n,r,i,l=this._eras||hl("en")._eras;for(n=0,r=l.length;n<r;++n){switch(typeof l[n].since){case"string":i=xt(l[n].since).startOf("day"),l[n].since=i.valueOf();break}switch(typeof l[n].until){case"undefined":l[n].until=1/0;break;case"string":i=xt(l[n].until).startOf("day").valueOf(),l[n].until=i.valueOf();break}}return l}function ED(t,e,n){var r,i,l=this.eras(),o,f,d;for(t=t.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),f=l[r].abbr.toUpperCase(),d=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(f===t)return l[r];break;case"NNNN":if(o===t)return l[r];break;case"NNNNN":if(d===t)return l[r];break}else if([o,f,d].indexOf(t)>=0)return l[r]}function TD(t,e){var n=t.since<=t.until?1:-1;return e===void 0?xt(t.since).year():xt(t.since).year()+(e-t.offset)*n}function kD(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function CD(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function ND(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function OD(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-xt(i[t].since).year())*n+i[t].offset;return this.year()}function AD(t){return rr(this,"_erasNameRegex")||Jx.call(this),t?this._erasNameRegex:this._erasRegex}function DD(t){return rr(this,"_erasAbbrRegex")||Jx.call(this),t?this._erasAbbrRegex:this._erasRegex}function MD(t){return rr(this,"_erasNarrowRegex")||Jx.call(this),t?this._erasNarrowRegex:this._erasRegex}function Xx(t,e){return e.erasAbbrRegex(t)}function RD(t,e){return e.erasNameRegex(t)}function jD(t,e){return e.erasNarrowRegex(t)}function LD(t,e){return e._eraYearOrdinalRegex||Bc}function Jx(){var t=[],e=[],n=[],r=[],i,l,o,f,d,g=this.eras();for(i=0,l=g.length;i<l;++i)o=nl(g[i].name),f=nl(g[i].abbr),d=nl(g[i].narrow),e.push(o),t.push(f),n.push(d),r.push(o),r.push(f),r.push(d);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}xn(0,["gg",2],0,function(){return this.weekYear()%100});xn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function b0(t,e){xn(0,[t,t.length],0,e)}b0("gggg","weekYear");b0("ggggg","weekYear");b0("GGGG","isoWeekYear");b0("GGGGG","isoWeekYear");Jt("G",p0);Jt("g",p0);Jt("GG",Pr,ws);Jt("gg",Pr,ws);Jt("GGGG",Px,Ix);Jt("gggg",Px,Ix);Jt("GGGGG",g0,h0);Jt("ggggg",g0,h0);zf(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Xn(t)});zf(["gg","GG"],function(t,e,n,r){e[r]=xt.parseTwoDigitYear(t)});function ID(t){return vE.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function PD(t){return vE.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function FD(){return rl(this.year(),1,4)}function zD(){return rl(this.isoWeekYear(),1,4)}function BD(){var t=this.localeData()._week;return rl(this.year(),t.dow,t.doy)}function HD(){var t=this.localeData()._week;return rl(this.weekYear(),t.dow,t.doy)}function vE(t,e,n,r,i){var l;return t==null?xf(this,r,i).year:(l=rl(t,r,i),e>l&&(e=l),UD.call(this,t,e,n,r,i))}function UD(t,e,n,r,i){var l=Kw(t,e,n,r,i),o=mf(l.year,0,l.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}xn("Q",0,"Qo","quarter");Jt("Q",Bw);Nr("Q",function(t,e){e[Ka]=(Xn(t)-1)*3});function $D(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}xn("D",["DD",2],"Do","date");Jt("D",Pr,Hc);Jt("DD",Pr,ws);Jt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Nr(["D","DD"],Ea);Nr("Do",function(t,e){e[Ea]=Xn(t.match(Pr)[0])});var yE=Uc("Date",!0);xn("DDD",["DDDD",3],"DDDo","dayOfYear");Jt("DDD",d0);Jt("DDDD",Hw);Nr(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Xn(t)});function WD(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}xn("m",["mm",2],0,"minute");Jt("m",Pr,Fx);Jt("mm",Pr,ws);Nr(["m","mm"],ra);var VD=Uc("Minutes",!1);xn("s",["ss",2],0,"second");Jt("s",Pr,Fx);Jt("ss",Pr,ws);Nr(["s","ss"],Za);var YD=Uc("Seconds",!1);xn("S",0,0,function(){return~~(this.millisecond()/100)});xn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});xn(0,["SSS",3],0,"millisecond");xn(0,["SSSS",4],0,function(){return this.millisecond()*10});xn(0,["SSSSS",5],0,function(){return this.millisecond()*100});xn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});xn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});xn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});xn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Jt("S",d0,Bw);Jt("SS",d0,ws);Jt("SSS",d0,Hw);var Ul,bE;for(Ul="SSSS";Ul.length<=9;Ul+="S")Jt(Ul,Bc);function GD(t,e){e[yo]=Xn(("0."+t)*1e3)}for(Ul="S";Ul.length<=9;Ul+="S")Nr(Ul,GD);bE=Uc("Milliseconds",!1);xn("z",0,0,"zoneAbbr");xn("zz",0,0,"zoneName");function qD(){return this._isUTC?"UTC":""}function XD(){return this._isUTC?"Coordinated Universal Time":""}var kt=Pf.prototype;kt.add=HA;kt.calendar=qA;kt.clone=XA;kt.diff=nD;kt.endOf=hD;kt.format=aD;kt.from=lD;kt.fromNow=oD;kt.to=cD;kt.toNow=uD;kt.get=sO;kt.invalidAt=_D;kt.isAfter=JA;kt.isBefore=KA;kt.isBetween=ZA;kt.isSame=QA;kt.isSameOrAfter=eD;kt.isSameOrBefore=tD;kt.isValid=yD;kt.lang=dE;kt.locale=hE;kt.localeData=gE;kt.max=yA;kt.min=vA;kt.parsingFlags=bD;kt.set=aO;kt.startOf=fD;kt.subtract=UA;kt.toArray=mD;kt.toObject=xD;kt.toDate=pD;kt.toISOString=iD;kt.inspect=sD;typeof Symbol<"u"&&Symbol.for!=null&&(kt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});kt.toJSON=vD;kt.toString=rD;kt.unix=gD;kt.valueOf=dD;kt.creationData=SD;kt.eraName=kD;kt.eraNarrow=CD;kt.eraAbbr=ND;kt.eraYear=OD;kt.year=Ww;kt.isLeapYear=iO;kt.weekYear=ID;kt.isoWeekYear=PD;kt.quarter=kt.quarters=$D;kt.month=Xw;kt.daysInMonth=pO;kt.week=kt.weeks=wO;kt.isoWeek=kt.isoWeeks=EO;kt.weeksInYear=BD;kt.weeksInWeekYear=HD;kt.isoWeeksInYear=FD;kt.isoWeeksInISOWeekYear=zD;kt.date=yE;kt.day=kt.days=PO;kt.weekday=FO;kt.isoWeekday=zO;kt.dayOfYear=WD;kt.hour=kt.hours=YO;kt.minute=kt.minutes=VD;kt.second=kt.seconds=YD;kt.millisecond=kt.milliseconds=bE;kt.utcOffset=NA;kt.utc=AA;kt.local=DA;kt.parseZone=MA;kt.hasAlignedHourOffset=RA;kt.isDST=jA;kt.isLocal=IA;kt.isUtcOffset=PA;kt.isUtc=oE;kt.isUTC=oE;kt.zoneAbbr=qD;kt.zoneName=XD;kt.dates=Ws("dates accessor is deprecated. Use date instead.",yE);kt.months=Ws("months accessor is deprecated. Use month instead",Xw);kt.years=Ws("years accessor is deprecated. Use year instead",Ww);kt.zone=Ws("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",OA);kt.isDSTShifted=Ws("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",LA);function JD(t){return Lr(t*1e3)}function KD(){return Lr.apply(null,arguments).parseZone()}function _E(t){return t}var ir=Rx.prototype;ir.calendar=I3;ir.longDateFormat=B3;ir.invalidDate=U3;ir.ordinal=V3;ir.preparse=_E;ir.postformat=_E;ir.relativeTime=G3;ir.pastFuture=q3;ir.set=j3;ir.eras=wD;ir.erasParse=ED;ir.erasConvertYear=TD;ir.erasAbbrRegex=DD;ir.erasNameRegex=AD;ir.erasNarrowRegex=MD;ir.months=fO;ir.monthsShort=hO;ir.monthsParse=gO;ir.monthsRegex=xO;ir.monthsShortRegex=mO;ir.week=yO;ir.firstDayOfYear=SO;ir.firstDayOfWeek=_O;ir.weekdays=MO;ir.weekdaysMin=jO;ir.weekdaysShort=RO;ir.weekdaysParse=IO;ir.weekdaysRegex=BO;ir.weekdaysShortRegex=HO;ir.weekdaysMinRegex=UO;ir.isPM=WO;ir.meridiem=GO;function zd(t,e,n,r){var i=hl(),l=Da().set(r,e);return i[n](l,t)}function SE(t,e,n){if(ol(t)&&(e=t,t=void 0),t=t||"",e!=null)return zd(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=zd(t,r,n,"month");return i}function Kx(t,e,n,r){typeof t=="boolean"?(ol(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ol(e)&&(n=e,e=void 0),e=e||"");var i=hl(),l=t?i._week.dow:0,o,f=[];if(n!=null)return zd(e,(n+l)%7,r,"day");for(o=0;o<7;o++)f[o]=zd(e,(o+l)%7,r,"day");return f}function ZD(t,e){return SE(t,e,"months")}function QD(t,e){return SE(t,e,"monthsShort")}function e5(t,e,n){return Kx(t,e,n,"weekdays")}function t5(t,e,n){return Kx(t,e,n,"weekdaysShort")}function n5(t,e,n){return Kx(t,e,n,"weekdaysMin")}Vl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Xn(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});xt.lang=Ws("moment.lang is deprecated. Use moment.locale instead.",Vl);xt.langData=Ws("moment.langData is deprecated. Use moment.localeData instead.",hl);var qa=Math.abs;function r5(){var t=this._data;return this._milliseconds=qa(this._milliseconds),this._days=qa(this._days),this._months=qa(this._months),t.milliseconds=qa(t.milliseconds),t.seconds=qa(t.seconds),t.minutes=qa(t.minutes),t.hours=qa(t.hours),t.months=qa(t.months),t.years=qa(t.years),this}function wE(t,e,n,r){var i=ua(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function i5(t,e){return wE(this,t,e,1)}function s5(t,e){return wE(this,t,e,-1)}function O_(t){return t<0?Math.floor(t):Math.ceil(t)}function a5(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,l,o,f,d;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=O_(Zm(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Hs(t/1e3),r.seconds=i%60,l=Hs(i/60),r.minutes=l%60,o=Hs(l/60),r.hours=o%24,e+=Hs(o/24),d=Hs(EE(e)),n+=d,e-=O_(Zm(d)),f=Hs(n/12),n%=12,r.days=e,r.months=n,r.years=f,this}function EE(t){return t*4800/146097}function Zm(t){return t*146097/4800}function l5(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Vs(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+EE(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Zm(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function dl(t){return function(){return this.as(t)}}var TE=dl("ms"),o5=dl("s"),c5=dl("m"),u5=dl("h"),f5=dl("d"),h5=dl("w"),d5=dl("M"),g5=dl("Q"),p5=dl("y"),m5=TE;function x5(){return ua(this)}function v5(t){return t=Vs(t),this.isValid()?this[t+"s"]():NaN}function jo(t){return function(){return this.isValid()?this._data[t]:NaN}}var y5=jo("milliseconds"),b5=jo("seconds"),_5=jo("minutes"),S5=jo("hours"),w5=jo("days"),E5=jo("months"),T5=jo("years");function k5(){return Hs(this.days()/7)}var Xa=Math.round,Sc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function C5(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function N5(t,e,n,r){var i=ua(t).abs(),l=Xa(i.as("s")),o=Xa(i.as("m")),f=Xa(i.as("h")),d=Xa(i.as("d")),g=Xa(i.as("M")),p=Xa(i.as("w")),v=Xa(i.as("y")),_=l<=n.ss&&["s",l]||l<n.s&&["ss",l]||o<=1&&["m"]||o<n.m&&["mm",o]||f<=1&&["h"]||f<n.h&&["hh",f]||d<=1&&["d"]||d<n.d&&["dd",d];return n.w!=null&&(_=_||p<=1&&["w"]||p<n.w&&["ww",p]),_=_||g<=1&&["M"]||g<n.M&&["MM",g]||v<=1&&["y"]||["yy",v],_[2]=e,_[3]=+t>0,_[4]=r,C5.apply(null,_)}function O5(t){return t===void 0?Xa:typeof t=="function"?(Xa=t,!0):!1}function A5(t,e){return Sc[t]===void 0?!1:e===void 0?Sc[t]:(Sc[t]=e,t==="s"&&(Sc.ss=e-1),!0)}function D5(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Sc,i,l;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Sc,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),l=N5(this,!n,r,i),n&&(l=i.pastFuture(+this,l)),i.postformat(l)}var Zp=Math.abs;function gc(t){return(t>0)-(t<0)||+t}function _0(){if(!this.isValid())return this.localeData().invalidDate();var t=Zp(this._milliseconds)/1e3,e=Zp(this._days),n=Zp(this._months),r,i,l,o,f=this.asSeconds(),d,g,p,v;return f?(r=Hs(t/60),i=Hs(r/60),t%=60,r%=60,l=Hs(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",d=f<0?"-":"",g=gc(this._months)!==gc(f)?"-":"",p=gc(this._days)!==gc(f)?"-":"",v=gc(this._milliseconds)!==gc(f)?"-":"",d+"P"+(l?g+l+"Y":"")+(n?g+n+"M":"")+(e?p+e+"D":"")+(i||r||t?"T":"")+(i?v+i+"H":"")+(r?v+r+"M":"")+(t?v+o+"S":"")):"P0D"}var Qn=y0.prototype;Qn.isValid=EA;Qn.abs=r5;Qn.add=i5;Qn.subtract=s5;Qn.as=l5;Qn.asMilliseconds=TE;Qn.asSeconds=o5;Qn.asMinutes=c5;Qn.asHours=u5;Qn.asDays=f5;Qn.asWeeks=h5;Qn.asMonths=d5;Qn.asQuarters=g5;Qn.asYears=p5;Qn.valueOf=m5;Qn._bubble=a5;Qn.clone=x5;Qn.get=v5;Qn.milliseconds=y5;Qn.seconds=b5;Qn.minutes=_5;Qn.hours=S5;Qn.days=w5;Qn.weeks=k5;Qn.months=E5;Qn.years=T5;Qn.humanize=D5;Qn.toISOString=_0;Qn.toString=_0;Qn.toJSON=_0;Qn.locale=hE;Qn.localeData=gE;Qn.toIsoString=Ws("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_0);Qn.lang=dE;xn("X",0,0,"unix");xn("x",0,0,"valueOf");Jt("x",p0);Jt("X",Z3);Nr("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Nr("x",function(t,e,n){n._d=new Date(Xn(t))});//! moment.js
xt.version="2.30.1";M3(Lr);xt.fn=kt;xt.min=bA;xt.max=_A;xt.now=SA;xt.utc=Da;xt.unix=JD;xt.months=ZD;xt.isDate=If;xt.locale=Vl;xt.invalid=f0;xt.duration=ua;xt.isMoment=oa;xt.weekdays=e5;xt.parseZone=KD;xt.localeData=hl;xt.isDuration=Cd;xt.monthsShort=QD;xt.weekdaysMin=n5;xt.defineLocale=$x;xt.updateLocale=KO;xt.locales=ZO;xt.weekdaysShort=t5;xt.normalizeUnits=Vs;xt.relativeTimeRounding=O5;xt.relativeTimeThreshold=A5;xt.calendarFormat=GA;xt.prototype=kt;xt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Bd={};Bd.version="0.18.5";var kE=1252,M5=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CE=function(t){M5.indexOf(t)!=-1&&(kE=t)};function R5(){CE(1252)}var yf=function(t){CE(t)};function j5(){yf(1200),R5()}var Qh=function(e){return String.fromCharCode(e)},A_=function(e){return String.fromCharCode(e)},Hd,$l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bf(t){for(var e="",n=0,r=0,i=0,l=0,o=0,f=0,d=0,g=0;g<t.length;)n=t.charCodeAt(g++),l=n>>2,r=t.charCodeAt(g++),o=(n&3)<<4|r>>4,i=t.charCodeAt(g++),f=(r&15)<<2|i>>6,d=i&63,isNaN(r)?f=d=64:isNaN(i)&&(d=64),e+=$l.charAt(l)+$l.charAt(o)+$l.charAt(f)+$l.charAt(d);return e}function cl(t){var e="",n=0,r=0,i=0,l=0,o=0,f=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var g=0;g<t.length;)l=$l.indexOf(t.charAt(g++)),o=$l.indexOf(t.charAt(g++)),n=l<<2|o>>4,e+=String.fromCharCode(n),f=$l.indexOf(t.charAt(g++)),r=(o&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(r)),d=$l.indexOf(t.charAt(g++)),i=(f&3)<<6|d,d!==64&&(e+=String.fromCharCode(i));return e}var or=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),gl=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function To(t){return or?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function D_(t){return or?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var na=function(e){return or?gl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function S0(t){if(typeof ArrayBuffer>"u")return na(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function Bf(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function L5(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ai=or?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:gl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function I5(t){for(var e=[],n=0,r=t.length+250,i=To(t.length+255),l=0;l<t.length;++l){var o=t.charCodeAt(l);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var f=t.charCodeAt(++l)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|f>>6&15|(o&3)<<4,i[n++]=128|f&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=To(65535),r=65530)}return e.push(i.slice(0,n)),Ai(e)}var nf=/\u0000/g,ed=/[\u0001-\u0006]/g;function Oc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function ia(t,e){var n=""+t;return n.length>=e?n:qr("0",e-n.length)+n}function Zx(t,e){var n=""+t;return n.length>=e?n:qr(" ",e-n.length)+n}function Ud(t,e){var n=""+t;return n.length>=e?n:n+qr(" ",e-n.length)}function P5(t,e){var n=""+Math.round(t);return n.length>=e?n:qr("0",e-n.length)+n}function F5(t,e){var n=""+t;return n.length>=e?n:qr("0",e-n.length)+n}var M_=Math.pow(2,32);function pc(t,e){if(t>M_||t<-M_)return P5(t,e);var n=Math.round(t);return F5(n,e)}function $d(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var R_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Qp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function z5(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Xr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},B5={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Wd(t,e,n){for(var r=t<0?-1:1,i=t*r,l=0,o=1,f=0,d=1,g=0,p=0,v=Math.floor(i);g<e&&(v=Math.floor(i),f=v*o+l,p=v*g+d,!(i-v<5e-8));)i=1/(i-v),l=o,o=f,d=g,g=p;if(p>e&&(g>e?(p=d,f=l):(p=g,f=o)),!n)return[0,r*f,p];var _=Math.floor(r*f/p);return[_,r*f-_*p,p]}function td(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),l=0,o=[],f={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(r+=1462),f.u>.9999&&(f.u=0,++i==86400&&(f.T=i=0,++r,++f.D)),r===60)o=n?[1317,10,29]:[1900,2,29],l=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],l=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],l=d.getDay(),r<60&&(l=(l+6)%7),n&&(l=G5(d,o))}return f.y=o[0],f.m=o[1],f.d=o[2],f.S=i%60,i=Math.floor(i/60),f.M=i%60,i=Math.floor(i/60),f.H=i,f.q=l,f}var NE=new Date(1899,11,31,0,0,0),H5=NE.getTime(),U5=new Date(1900,2,1,0,0,0);function OE(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=U5&&(n+=24*60*60*1e3),(n-(H5+(t.getTimezoneOffset()-NE.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Qx(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $5(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function W5(t){var e=t<0?12:11,n=Qx(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function V5(t){var e=Qx(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Y5(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=W5(t):e===10?n=t.toFixed(10).substr(0,12):n=V5(t),Qx($5(n.toUpperCase()))}function Qm(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Y5(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Yl(14,OE(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function G5(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function q5(t,e,n,r){var i="",l=0,o=0,f=n.y,d,g=0;switch(t){case 98:f=n.y+543;case 121:switch(e.length){case 1:case 2:d=f%100,g=2;break;default:d=f%1e4,g=4;break}break;case 109:switch(e.length){case 1:case 2:d=n.m,g=e.length;break;case 3:return Qp[n.m-1][1];case 5:return Qp[n.m-1][0];default:return Qp[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=n.d,g=e.length;break;case 3:return R_[n.q][0];default:return R_[n.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(n.H+11)%12,g=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=n.H,g=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=n.M,g=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?ia(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,l=Math.round(o*(n.S+n.u)),l>=60*o&&(l=0),e==="s"?l===0?"0":""+l/o:(i=ia(l,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}g=e.length===3?1:2;break;case 101:d=f,g=1;break}var p=g>0?ia(d,g):"";return p}function Wl(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var AE=/%/g;function X5(t,e,n){var r=e.replace(AE,""),i=e.length-r.length;return il(t,r,n*Math.pow(10,2*i))+qr("%",i)}function J5(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return il(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function DE(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+DE(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%i;if(l<0&&(l+=i),n=(e/Math.pow(10,l)).toPrecision(r+1+(i+l)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+l):n+="E+"+(o-l);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,d,g,p){return d+g+p.substr(0,(i+l)%i)+"."+p.substr(l)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var ME=/# (\?+)( ?)\/( ?)(\d+)/;function K5(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),l=Math.floor(i/r),o=i-l*r,f=r;return n+(l===0?"":""+l)+" "+(o===0?qr(" ",t[1].length+1+t[4].length):Zx(o,t[1].length)+t[2]+"/"+t[3]+ia(f,t[4].length))}function Z5(t,e,n){return n+(e===0?"":""+e)+qr(" ",t[1].length+2+t[4].length)}var RE=/^#*0*\.([0#]+)/,jE=/\).*[0#]/,LE=/\(###\) ###\\?-####/;function Gi(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function L_(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function I_(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Q5(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function eM(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Fs(t,e,n){if(t.charCodeAt(0)===40&&!e.match(jE)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Fs("n",r,n):"("+Fs("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return J5(t,e,n);if(e.indexOf("%")!==-1)return X5(t,e,n);if(e.indexOf("E")!==-1)return DE(e,n);if(e.charCodeAt(0)===36)return"$"+Fs(t,e.substr(e.charAt(1)==" "?2:1),n);var i,l,o,f,d=Math.abs(n),g=n<0?"-":"";if(e.match(/^00+$/))return g+pc(d,e.length);if(e.match(/^[#?]+$/))return i=pc(n,0),i==="0"&&(i=""),i.length>e.length?i:Gi(e.substr(0,e.length-i.length))+i;if(l=e.match(ME))return K5(l,d,g);if(e.match(/^#+0+$/))return g+pc(d,e.length-e.indexOf("0"));if(l=e.match(RE))return i=L_(n,l[1].length).replace(/^([^\.]+)$/,"$1."+Gi(l[1])).replace(/\.$/,"."+Gi(l[1])).replace(/\.(\d*)$/,function(w,S){return"."+S+qr("0",Gi(l[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return g+L_(d,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return g+Wl(pc(d,0));if(l=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Fs(t,e,-n):Wl(""+(Math.floor(n)+Q5(n,l[1].length)))+"."+ia(I_(n,l[1].length),l[1].length);if(l=e.match(/^#,#*,#0/))return Fs(t,e.replace(/^#,#*,/,""),n);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Oc(Fs(t,e.replace(/[\\-]/g,""),n)),o=0,Oc(Oc(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<i.length?i.charAt(o++):w==="0"?"0":""}));if(e.match(LE))return i=Fs(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(l[4].length,7),f=Wd(d,Math.pow(10,o)-1,!1),i=""+g,p=il("n",l[1],f[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+l[2]+"/"+l[3],p=Ud(f[2],o),p.length<l[4].length&&(p=Gi(l[4].substr(l[4].length-p.length))+p),i+=p,i;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(l[1].length,l[4].length),7),f=Wd(d,Math.pow(10,o)-1,!0),g+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Zx(f[1],o)+l[2]+"/"+l[3]+Ud(f[2],o):qr(" ",2*o+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return i=pc(n,0),e.length<=i.length?i:Gi(e.substr(0,e.length-i.length))+i;if(l=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var v=e.indexOf(".")-o,_=e.length-i.length-v;return Gi(e.substr(0,v)+i+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return o=I_(n,l[1].length),n<0?"-"+Fs(t,e,-n):Wl(eM(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?ia(0,3-w.length):"")+w})+"."+ia(o,l[1].length);switch(e){case"###,##0.00":return Fs(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var b=Wl(pc(d,0));return b!=="0"?g+b:"";case"###,###.00":return Fs(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Fs(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function tM(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return il(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function nM(t,e,n){var r=e.replace(AE,""),i=e.length-r.length;return il(t,r,n*Math.pow(10,2*i))+qr("%",i)}function IE(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+IE(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%i;if(l<0&&(l+=i),n=(e/Math.pow(10,l)).toPrecision(r+1+(i+l)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+l):n+="E+"+(o-l),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,d,g,p){return d+g+p.substr(0,(i+l)%i)+"."+p.substr(l)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Sa(t,e,n){if(t.charCodeAt(0)===40&&!e.match(jE)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Sa("n",r,n):"("+Sa("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return tM(t,e,n);if(e.indexOf("%")!==-1)return nM(t,e,n);if(e.indexOf("E")!==-1)return IE(e,n);if(e.charCodeAt(0)===36)return"$"+Sa(t,e.substr(e.charAt(1)==" "?2:1),n);var i,l,o,f,d=Math.abs(n),g=n<0?"-":"";if(e.match(/^00+$/))return g+ia(d,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Gi(e.substr(0,e.length-i.length))+i;if(l=e.match(ME))return Z5(l,d,g);if(e.match(/^#+0+$/))return g+ia(d,e.length-e.indexOf("0"));if(l=e.match(RE))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Gi(l[1])).replace(/\.$/,"."+Gi(l[1])),i=i.replace(/\.(\d*)$/,function(w,S){return"."+S+qr("0",Gi(l[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return g+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return g+Wl(""+d);if(l=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Sa(t,e,-n):Wl(""+n)+"."+qr("0",l[1].length);if(l=e.match(/^#,#*,#0/))return Sa(t,e.replace(/^#,#*,/,""),n);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Oc(Sa(t,e.replace(/[\\-]/g,""),n)),o=0,Oc(Oc(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<i.length?i.charAt(o++):w==="0"?"0":""}));if(e.match(LE))return i=Sa(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(l[4].length,7),f=Wd(d,Math.pow(10,o)-1,!1),i=""+g,p=il("n",l[1],f[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+l[2]+"/"+l[3],p=Ud(f[2],o),p.length<l[4].length&&(p=Gi(l[4].substr(l[4].length-p.length))+p),i+=p,i;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(l[1].length,l[4].length),7),f=Wd(d,Math.pow(10,o)-1,!0),g+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Zx(f[1],o)+l[2]+"/"+l[3]+Ud(f[2],o):qr(" ",2*o+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Gi(e.substr(0,e.length-i.length))+i;if(l=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var v=e.indexOf(".")-o,_=e.length-i.length-v;return Gi(e.substr(0,v)+i+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Sa(t,e,-n):Wl(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?ia(0,3-w.length):"")+w})+"."+ia(0,l[1].length);switch(e){case"###,###":case"##,###":case"#,###":var b=Wl(""+d);return b!=="0"?g+b:"";default:if(e.match(/\.[0#?]*$/))return Sa(t,e.slice(0,e.lastIndexOf(".")),n)+Gi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function il(t,e,n){return(n|0)===n?Sa(t,e,n):Fs(t,e,n)}function rM(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var PE=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function FE(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":$d(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(PE))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function iM(t,e,n,r){for(var i=[],l="",o=0,f="",d="t",g,p,v,_="H";o<t.length;)switch(f=t.charAt(o)){case"G":if(!$d(t,o))throw new Error("unrecognized character "+f+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(l="";(v=t.charCodeAt(++o))!==34&&o<t.length;)l+=String.fromCharCode(v);i[i.length]={t:"t",v:l},++o;break;case"\\":var b=t.charAt(++o),w=b==="("||b===")"?b:"t";i[i.length]={t:w,v:b},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(g==null&&(g=td(e,n,t.charAt(o+1)==="2"),g==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},d=f,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||g==null&&(g=td(e,n),g==null))return"";for(l=f;++o<t.length&&t.charAt(o).toLowerCase()===f;)l+=f;f==="m"&&d.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=_),i[i.length]={t:f,v:l},d=f;break;case"A":case"a":case"":var S={t:f,v:f};if(g==null&&(g=td(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(g!=null&&(S.v=g.H>=12?"P":"A"),S.t="T",_="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(g!=null&&(S.v=g.H>=12?"PM":"AM"),S.t="T",o+=5,_="h"):t.substr(o,5).toUpperCase()==="/"?(g!=null&&(S.v=g.H>=12?"":""),S.t="T",o+=5,_="h"):(S.t="t",++o),g==null&&S.t==="T")return"";i[i.length]=S,d=f;break;case"[":for(l=f;t.charAt(o++)!=="]"&&o<t.length;)l+=t.charAt(o);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(PE)){if(g==null&&(g=td(e,n),g==null))return"";i[i.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",FE(t)||(i[i.length]={t:"t",v:l}));break;case".":if(g!=null){for(l=f;++o<t.length&&(f=t.charAt(o))==="0";)l+=f;i[i.length]={t:"s",v:l};break}case"0":case"#":for(l=f;++o<t.length&&"0#?.,E+-%".indexOf(f=t.charAt(o))>-1;)l+=f;i[i.length]={t:"n",v:l};break;case"?":for(l=f;t.charAt(++o)===f;)l+=f;i[i.length]={t:f,v:l},d=f;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":f,v:f},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=f;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)l+=t.charAt(o);i[i.length]={t:"D",v:l};break;case" ":i[i.length]={t:f,v:f},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+t);i[i.length]={t:"t",v:f},++o;break}var T=0,A=0,j;for(o=i.length-1,d="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=_,d="h",T<1&&(T=1);break;case"s":(j=i[o].v.match(/\.0+$/))&&(A=Math.max(A,j[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":d=i[o].t;break;case"m":d==="s"&&(i[o].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&i[o].v.match(/[Hh]/)&&(T=1),T<2&&i[o].v.match(/[Mm]/)&&(T=2),T<3&&i[o].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M),g.M>=60&&(g.M=0,++g.H);break;case 2:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M);break}var I="",Z;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=q5(i[o].t.charCodeAt(0),i[o].v,g,A),i[o].t="t";break;case"n":case"?":for(Z=o+1;i[Z]!=null&&((f=i[Z].t)==="?"||f==="D"||(f===" "||f==="t")&&i[Z+1]!=null&&(i[Z+1].t==="?"||i[Z+1].t==="t"&&i[Z+1].v==="/")||i[o].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(i[Z].v==="/"||i[Z].v===" "&&i[Z+1]!=null&&i[Z+1].t=="?"));)i[o].v+=i[Z].v,i[Z]={v:"",t:";"},++Z;I+=i[o].v,o=Z-1;break;case"G":i[o].t="t",i[o].v=Qm(e,n);break}var Q="",Y,L;if(I.length>0){I.charCodeAt(0)==40?(Y=e<0&&I.charCodeAt(0)===45?-e:e,L=il("n",I,Y)):(Y=e<0&&r>1?-e:e,L=il("n",I,Y),Y<0&&i[0]&&i[0].t=="t"&&(L=L.substr(1),i[0].v="-"+i[0].v)),Z=L.length-1;var U=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){U=o;break}var q=i.length;if(U===i.length&&L.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(Z>=i[o].v.length-1?(Z-=i[o].v.length,i[o].v=L.substr(Z+1,i[o].v.length)):Z<0?i[o].v="":(i[o].v=L.substr(0,Z+1),Z=-1),i[o].t="t",q=o);Z>=0&&q<i.length&&(i[q].v=L.substr(0,Z+1)+i[q].v)}else if(U!==i.length&&L.indexOf("E")===-1){for(Z=L.indexOf(".")-1,o=U;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(p=i[o].v.indexOf(".")>-1&&o===U?i[o].v.indexOf(".")-1:i[o].v.length-1,Q=i[o].v.substr(p+1);p>=0;--p)Z>=0&&(i[o].v.charAt(p)==="0"||i[o].v.charAt(p)==="#")&&(Q=L.charAt(Z--)+Q);i[o].v=Q,i[o].t="t",q=o}for(Z>=0&&q<i.length&&(i[q].v=L.substr(0,Z+1)+i[q].v),Z=L.indexOf(".")+1,o=U;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==U)){for(p=i[o].v.indexOf(".")>-1&&o===U?i[o].v.indexOf(".")+1:0,Q=i[o].v.substr(0,p);p<i[o].v.length;++p)Z<L.length&&(Q+=L.charAt(Z++));i[o].v=Q,i[o].t="t",q=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(Y=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=il(i[o].t,i[o].v,Y),i[o].t="t");var ie="";for(o=0;o!==i.length;++o)i[o]!=null&&(ie+=i[o].v);return ie}var P_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function F_(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function sM(t,e){var n=rM(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var l=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,l];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(P_),f=n[1].match(P_);return F_(e,o)?[r,n[0]]:F_(e,f)?[r,n[1]]:[r,n[o!=null&&f!=null?2:1]]}return[r,l]}function Yl(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Xr)[t],r==null&&(r=n.table&&n.table[j_[t]]||Xr[j_[t]]),r==null&&(r=B5[t]||"General");break}if($d(r,0))return Qm(e,n);e instanceof Date&&(e=OE(e,n.date1904));var i=sM(r,e);if($d(i[1]))return Qm(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return iM(i[1],e,n,i[0])}function zE(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Xr[n]==null){e<0&&(e=n);continue}if(Xr[n]==t){e=n;break}}e<0&&(e=391)}return Xr[e]=t,e}function w0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&zE(t[e],e)}function E0(){Xr=z5()}var BE=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function aM(t){var e=typeof t=="number"?Xr[t]:t;return e=e.replace(BE,"(\\d+)"),new RegExp("^"+e+"$")}function lM(t,e,n){var r=-1,i=-1,l=-1,o=-1,f=-1,d=-1;(e.match(BE)||[]).forEach(function(v,_){var b=parseInt(n[_+1],10);switch(v.toLowerCase().charAt(0)){case"y":r=b;break;case"d":l=b;break;case"h":o=b;break;case"s":d=b;break;case"m":o>=0?f=b:i=b;break}}),d>=0&&f==-1&&i>=0&&(f=i,i=-1);var g=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);g.length==7&&(g="0"+g),g.length==8&&(g="20"+g);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&f==-1&&d==-1?g:r==-1&&i==-1&&l==-1?p:g+"T"+p}var oM=function(){var t={};t.version="1.2.0";function e(){for(var L=0,U=new Array(256),q=0;q!=256;++q)L=q,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,U[q]=L;return typeof Int32Array<"u"?new Int32Array(U):U}var n=e();function r(L){var U=0,q=0,ie=0,xe=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ie=0;ie!=256;++ie)xe[ie]=L[ie];for(ie=0;ie!=256;++ie)for(q=L[ie],U=256+ie;U<4096;U+=256)q=xe[U]=q>>>8^L[q&255];var ue=[];for(ie=1;ie!=16;++ie)ue[ie-1]=typeof Int32Array<"u"?xe.subarray(ie*256,ie*256+256):xe.slice(ie*256,ie*256+256);return ue}var i=r(n),l=i[0],o=i[1],f=i[2],d=i[3],g=i[4],p=i[5],v=i[6],_=i[7],b=i[8],w=i[9],S=i[10],T=i[11],A=i[12],j=i[13],I=i[14];function Z(L,U){for(var q=U^-1,ie=0,xe=L.length;ie<xe;)q=q>>>8^n[(q^L.charCodeAt(ie++))&255];return~q}function Q(L,U){for(var q=U^-1,ie=L.length-15,xe=0;xe<ie;)q=I[L[xe++]^q&255]^j[L[xe++]^q>>8&255]^A[L[xe++]^q>>16&255]^T[L[xe++]^q>>>24]^S[L[xe++]]^w[L[xe++]]^b[L[xe++]]^_[L[xe++]]^v[L[xe++]]^p[L[xe++]]^g[L[xe++]]^d[L[xe++]]^f[L[xe++]]^o[L[xe++]]^l[L[xe++]]^n[L[xe++]];for(ie+=15;xe<ie;)q=q>>>8^n[(q^L[xe++])&255];return~q}function Y(L,U){for(var q=U^-1,ie=0,xe=L.length,ue=0,De=0;ie<xe;)ue=L.charCodeAt(ie++),ue<128?q=q>>>8^n[(q^ue)&255]:ue<2048?(q=q>>>8^n[(q^(192|ue>>6&31))&255],q=q>>>8^n[(q^(128|ue&63))&255]):ue>=55296&&ue<57344?(ue=(ue&1023)+64,De=L.charCodeAt(ie++)&1023,q=q>>>8^n[(q^(240|ue>>8&7))&255],q=q>>>8^n[(q^(128|ue>>2&63))&255],q=q>>>8^n[(q^(128|De>>6&15|(ue&3)<<4))&255],q=q>>>8^n[(q^(128|De&63))&255]):(q=q>>>8^n[(q^(224|ue>>12&15))&255],q=q>>>8^n[(q^(128|ue>>6&63))&255],q=q>>>8^n[(q^(128|ue&63))&255]);return~q}return t.table=n,t.bstr=Z,t.buf=Q,t.str=Y,t}(),Cr=function(){var e={};e.version="1.2.1";function n(E,O){for(var R=E.split("/"),M=O.split("/"),F=0,W=0,se=Math.min(R.length,M.length);F<se;++F){if(W=R[F].length-M[F].length)return W;if(R[F]!=M[F])return R[F]<M[F]?-1:1}return R.length-M.length}function r(E){if(E.charAt(E.length-1)=="/")return E.slice(0,-1).indexOf("/")===-1?E:r(E.slice(0,-1));var O=E.lastIndexOf("/");return O===-1?E:E.slice(0,O+1)}function i(E){if(E.charAt(E.length-1)=="/")return i(E.slice(0,-1));var O=E.lastIndexOf("/");return O===-1?E:E.slice(O+1)}function l(E,O){typeof O=="string"&&(O=new Date(O));var R=O.getHours();R=R<<6|O.getMinutes(),R=R<<5|O.getSeconds()>>>1,E.write_shift(2,R);var M=O.getFullYear()-1980;M=M<<4|O.getMonth()+1,M=M<<5|O.getDate(),E.write_shift(2,M)}function o(E){var O=E.read_shift(2)&65535,R=E.read_shift(2)&65535,M=new Date,F=R&31;R>>>=5;var W=R&15;R>>>=4,M.setMilliseconds(0),M.setFullYear(R+1980),M.setMonth(W-1),M.setDate(F);var se=O&31;O>>>=5;var Te=O&63;return O>>>=6,M.setHours(O),M.setMinutes(Te),M.setSeconds(se<<1),M}function f(E){ys(E,0);for(var O={},R=0;E.l<=E.length-4;){var M=E.read_shift(2),F=E.read_shift(2),W=E.l+F,se={};switch(M){case 21589:R=E.read_shift(1),R&1&&(se.mtime=E.read_shift(4)),F>5&&(R&2&&(se.atime=E.read_shift(4)),R&4&&(se.ctime=E.read_shift(4))),se.mtime&&(se.mt=new Date(se.mtime*1e3));break}E.l=W,O[M]=se}return O}var d;function g(){return d||(d={})}function p(E,O){if(E[0]==80&&E[1]==75)return jt(E,O);if((E[0]|32)==109&&(E[1]|32)==105)return kn(E,O);if(E.length<512)throw new Error("CFB file size "+E.length+" < 512");var R=3,M=512,F=0,W=0,se=0,Te=0,he=0,be=[],ve=E.slice(0,512);ys(ve,0);var et=v(ve);switch(R=et[0],R){case 3:M=512;break;case 4:M=4096;break;case 0:if(et[1]==0)return jt(E,O);default:throw new Error("Major Version: Expected 3 or 4 saw "+R)}M!==512&&(ve=E.slice(0,M),ys(ve,28));var it=E.slice(0,M);_(ve,R);var dt=ve.read_shift(4,"i");if(R===3&&dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+dt);ve.l+=4,se=ve.read_shift(4,"i"),ve.l+=4,ve.chk("00100000","Mini Stream Cutoff Size: "),Te=ve.read_shift(4,"i"),F=ve.read_shift(4,"i"),he=ve.read_shift(4,"i"),W=ve.read_shift(4,"i");for(var st=-1,mt=0;mt<109&&(st=ve.read_shift(4,"i"),!(st<0));++mt)be[mt]=st;var Xt=b(E,M);T(he,W,Xt,M,be);var en=j(Xt,se,be,M);en[se].name="!Directory",F>0&&Te!==De&&(en[Te].name="!MiniFAT"),en[be[0]].name="!FAT",en.fat_addrs=be,en.ssz=M;var hn={},dn=[],sr=[],Un=[];I(se,en,Xt,dn,F,hn,sr,Te),w(sr,Un,dn),dn.shift();var er={FileIndex:sr,FullPaths:Un};return O&&O.raw&&(er.raw={header:it,sectors:Xt}),er}function v(E){if(E[E.l]==80&&E[E.l+1]==75)return[0,0];E.chk(We,"Header Signature: "),E.l+=16;var O=E.read_shift(2,"u");return[E.read_shift(2,"u"),O]}function _(E,O){var R=9;switch(E.l+=2,R=E.read_shift(2)){case 9:if(O!=3)throw new Error("Sector Shift: Expected 9 saw "+R);break;case 12:if(O!=4)throw new Error("Sector Shift: Expected 12 saw "+R);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+R)}E.chk("0600","Mini Sector Shift: "),E.chk("000000000000","Reserved: ")}function b(E,O){for(var R=Math.ceil(E.length/O)-1,M=[],F=1;F<R;++F)M[F-1]=E.slice(F*O,(F+1)*O);return M[R-1]=E.slice(R*O),M}function w(E,O,R){for(var M=0,F=0,W=0,se=0,Te=0,he=R.length,be=[],ve=[];M<he;++M)be[M]=ve[M]=M,O[M]=R[M];for(;Te<ve.length;++Te)M=ve[Te],F=E[M].L,W=E[M].R,se=E[M].C,be[M]===M&&(F!==-1&&be[F]!==F&&(be[M]=be[F]),W!==-1&&be[W]!==W&&(be[M]=be[W])),se!==-1&&(be[se]=M),F!==-1&&M!=be[M]&&(be[F]=be[M],ve.lastIndexOf(F)<Te&&ve.push(F)),W!==-1&&M!=be[M]&&(be[W]=be[M],ve.lastIndexOf(W)<Te&&ve.push(W));for(M=1;M<he;++M)be[M]===M&&(W!==-1&&be[W]!==W?be[M]=be[W]:F!==-1&&be[F]!==F&&(be[M]=be[F]));for(M=1;M<he;++M)if(E[M].type!==0){if(Te=M,Te!=be[Te])do Te=be[Te],O[M]=O[Te]+"/"+O[M];while(Te!==0&&be[Te]!==-1&&Te!=be[Te]);be[M]=-1}for(O[0]+="/",M=1;M<he;++M)E[M].type!==2&&(O[M]+="/")}function S(E,O,R){for(var M=E.start,F=E.size,W=[],se=M;R&&F>0&&se>=0;)W.push(O.slice(se*ue,se*ue+ue)),F-=ue,se=vo(R,se*4);return W.length===0?Xe(0):Ai(W).slice(0,E.size)}function T(E,O,R,M,F){var W=De;if(E===De){if(O!==0)throw new Error("DIFAT chain shorter than expected")}else if(E!==-1){var se=R[E],Te=(M>>>2)-1;if(!se)return;for(var he=0;he<Te&&(W=vo(se,he*4))!==De;++he)F.push(W);T(vo(se,M-4),O-1,R,M,F)}}function A(E,O,R,M,F){var W=[],se=[];F||(F=[]);var Te=M-1,he=0,be=0;for(he=O;he>=0;){F[he]=!0,W[W.length]=he,se.push(E[he]);var ve=R[Math.floor(he*4/M)];if(be=he*4&Te,M<4+be)throw new Error("FAT boundary crossed: "+he+" 4 "+M);if(!E[ve])break;he=vo(E[ve],be)}return{nodes:W,data:Y_([se])}}function j(E,O,R,M){var F=E.length,W=[],se=[],Te=[],he=[],be=M-1,ve=0,et=0,it=0,dt=0;for(ve=0;ve<F;++ve)if(Te=[],it=ve+O,it>=F&&(it-=F),!se[it]){he=[];var st=[];for(et=it;et>=0;){st[et]=!0,se[et]=!0,Te[Te.length]=et,he.push(E[et]);var mt=R[Math.floor(et*4/M)];if(dt=et*4&be,M<4+dt)throw new Error("FAT boundary crossed: "+et+" 4 "+M);if(!E[mt]||(et=vo(E[mt],dt),st[et]))break}W[it]={nodes:Te,data:Y_([he])}}return W}function I(E,O,R,M,F,W,se,Te){for(var he=0,be=M.length?2:0,ve=O[E].data,et=0,it=0,dt;et<ve.length;et+=128){var st=ve.slice(et,et+128);ys(st,64),it=st.read_shift(2),dt=i1(st,0,it-be),M.push(dt);var mt={name:dt,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Xt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Xt!==0&&(mt.ct=Z(st,st.l-8));var en=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);en!==0&&(mt.mt=Z(st,st.l-8)),mt.start=st.read_shift(4,"i"),mt.size=st.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=De,mt.name=""),mt.type===5?(he=mt.start,F>0&&he!==De&&(O[he].name="!StreamData")):mt.size>=4096?(mt.storage="fat",O[mt.start]===void 0&&(O[mt.start]=A(R,mt.start,O.fat_addrs,O.ssz)),O[mt.start].name=mt.name,mt.content=O[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:he!==De&&mt.start!==De&&O[he]&&(mt.content=S(mt,O[he].data,(O[Te]||{}).data))),mt.content&&ys(mt.content,0),W[dt]=mt,se.push(mt)}}function Z(E,O){return new Date((_s(E,O+4)/1e7*Math.pow(2,32)+_s(E,O)/1e7-11644473600)*1e3)}function Q(E,O){return g(),p(d.readFileSync(E),O)}function Y(E,O){var R=O&&O.type;switch(R||or&&Buffer.isBuffer(E)&&(R="buffer"),R||"base64"){case"file":return Q(E,O);case"base64":return p(na(cl(E)),O);case"binary":return p(na(E),O)}return p(E,O)}function L(E,O){var R=O||{},M=R.root||"Root Entry";if(E.FullPaths||(E.FullPaths=[]),E.FileIndex||(E.FileIndex=[]),E.FullPaths.length!==E.FileIndex.length)throw new Error("inconsistent CFB structure");E.FullPaths.length===0&&(E.FullPaths[0]=M+"/",E.FileIndex[0]={name:M,type:5}),R.CLSID&&(E.FileIndex[0].clsid=R.CLSID),U(E)}function U(E){var O="Sh33tJ5";if(!Cr.find(E,"/"+O)){var R=Xe(4);R[0]=55,R[1]=R[3]=50,R[2]=54,E.FileIndex.push({name:O,type:2,content:R,size:4,L:69,R:69,C:69}),E.FullPaths.push(E.FullPaths[0]+O),q(E)}}function q(E,O){L(E);for(var R=!1,M=!1,F=E.FullPaths.length-1;F>=0;--F){var W=E.FileIndex[F];switch(W.type){case 0:M?R=!0:(E.FileIndex.pop(),E.FullPaths.pop());break;case 1:case 2:case 5:M=!0,isNaN(W.R*W.L*W.C)&&(R=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(R=!0);break;default:R=!0;break}}if(!(!R&&!O)){var se=new Date(1987,1,19),Te=0,he=Object.create?Object.create(null):{},be=[];for(F=0;F<E.FullPaths.length;++F)he[E.FullPaths[F]]=!0,E.FileIndex[F].type!==0&&be.push([E.FullPaths[F],E.FileIndex[F]]);for(F=0;F<be.length;++F){var ve=r(be[F][0]);M=he[ve],M||(be.push([ve,{name:i(ve).replace("/",""),type:1,clsid:ee,ct:se,mt:se,content:null}]),he[ve]=!0)}for(be.sort(function(dt,st){return n(dt[0],st[0])}),E.FullPaths=[],E.FileIndex=[],F=0;F<be.length;++F)E.FullPaths[F]=be[F][0],E.FileIndex[F]=be[F][1];for(F=0;F<be.length;++F){var et=E.FileIndex[F],it=E.FullPaths[F];if(et.name=i(it).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||ee,F===0)et.C=be.length>1?1:-1,et.size=0,et.type=5;else if(it.slice(-1)=="/"){for(Te=F+1;Te<be.length&&r(E.FullPaths[Te])!=it;++Te);for(et.C=Te>=be.length?-1:Te,Te=F+1;Te<be.length&&r(E.FullPaths[Te])!=r(it);++Te);et.R=Te>=be.length?-1:Te,et.type=1}else r(E.FullPaths[F+1]||"")==r(it)&&(et.R=F+1),et.type=2}}}function ie(E,O){var R=O||{};if(R.fileType=="mad")return Hn(E,R);switch(q(E),R.fileType){case"zip":return $t(E,R)}var M=function(dt){for(var st=0,mt=0,Xt=0;Xt<dt.FileIndex.length;++Xt){var en=dt.FileIndex[Xt];if(en.content){var hn=en.content.length;hn>0&&(hn<4096?st+=hn+63>>6:mt+=hn+511>>9)}}for(var dn=dt.FullPaths.length+3>>2,sr=st+7>>3,Un=st+127>>7,er=sr+mt+dn+Un,Jn=er+127>>7,Dr=Jn<=109?0:Math.ceil((Jn-109)/127);er+Jn+Dr+127>>7>Jn;)Dr=++Jn<=109?0:Math.ceil((Jn-109)/127);var de=[1,Dr,Jn,Un,dn,mt,st,0];return dt.FileIndex[0].size=st<<6,de[7]=(dt.FileIndex[0].start=de[0]+de[1]+de[2]+de[3]+de[4]+de[5])+(de[6]+7>>3),de}(E),F=Xe(M[7]<<9),W=0,se=0;{for(W=0;W<8;++W)F.write_shift(1,Ye[W]);for(W=0;W<8;++W)F.write_shift(2,0);for(F.write_shift(2,62),F.write_shift(2,3),F.write_shift(2,65534),F.write_shift(2,9),F.write_shift(2,6),W=0;W<3;++W)F.write_shift(2,0);for(F.write_shift(4,0),F.write_shift(4,M[2]),F.write_shift(4,M[0]+M[1]+M[2]+M[3]-1),F.write_shift(4,0),F.write_shift(4,4096),F.write_shift(4,M[3]?M[0]+M[1]+M[2]-1:De),F.write_shift(4,M[3]),F.write_shift(-4,M[1]?M[0]-1:De),F.write_shift(4,M[1]),W=0;W<109;++W)F.write_shift(-4,W<M[2]?M[1]+W:-1)}if(M[1])for(se=0;se<M[1];++se){for(;W<236+se*127;++W)F.write_shift(-4,W<M[2]?M[1]+W:-1);F.write_shift(-4,se===M[1]-1?De:se+1)}var Te=function(dt){for(se+=dt;W<se-1;++W)F.write_shift(-4,W+1);dt&&(++W,F.write_shift(-4,De))};for(se=W=0,se+=M[1];W<se;++W)F.write_shift(-4,Pe.DIFSECT);for(se+=M[2];W<se;++W)F.write_shift(-4,Pe.FATSECT);Te(M[3]),Te(M[4]);for(var he=0,be=0,ve=E.FileIndex[0];he<E.FileIndex.length;++he)ve=E.FileIndex[he],ve.content&&(be=ve.content.length,!(be<4096)&&(ve.start=se,Te(be+511>>9)));for(Te(M[6]+7>>3);F.l&511;)F.write_shift(-4,Pe.ENDOFCHAIN);for(se=W=0,he=0;he<E.FileIndex.length;++he)ve=E.FileIndex[he],ve.content&&(be=ve.content.length,!(!be||be>=4096)&&(ve.start=se,Te(be+63>>6)));for(;F.l&511;)F.write_shift(-4,Pe.ENDOFCHAIN);for(W=0;W<M[4]<<2;++W){var et=E.FullPaths[W];if(!et||et.length===0){for(he=0;he<17;++he)F.write_shift(4,0);for(he=0;he<3;++he)F.write_shift(4,-1);for(he=0;he<12;++he)F.write_shift(4,0);continue}ve=E.FileIndex[W],W===0&&(ve.start=ve.size?ve.start-1:De);var it=W===0&&R.root||ve.name;if(be=2*(it.length+1),F.write_shift(64,it,"utf16le"),F.write_shift(2,be),F.write_shift(1,ve.type),F.write_shift(1,ve.color),F.write_shift(-4,ve.L),F.write_shift(-4,ve.R),F.write_shift(-4,ve.C),ve.clsid)F.write_shift(16,ve.clsid,"hex");else for(he=0;he<4;++he)F.write_shift(4,0);F.write_shift(4,ve.state||0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,ve.start),F.write_shift(4,ve.size),F.write_shift(4,0)}for(W=1;W<E.FileIndex.length;++W)if(ve=E.FileIndex[W],ve.size>=4096)if(F.l=ve.start+1<<9,or&&Buffer.isBuffer(ve.content))ve.content.copy(F,F.l,0,ve.size),F.l+=ve.size+511&-512;else{for(he=0;he<ve.size;++he)F.write_shift(1,ve.content[he]);for(;he&511;++he)F.write_shift(1,0)}for(W=1;W<E.FileIndex.length;++W)if(ve=E.FileIndex[W],ve.size>0&&ve.size<4096)if(or&&Buffer.isBuffer(ve.content))ve.content.copy(F,F.l,0,ve.size),F.l+=ve.size+63&-64;else{for(he=0;he<ve.size;++he)F.write_shift(1,ve.content[he]);for(;he&63;++he)F.write_shift(1,0)}if(or)F.l=F.length;else for(;F.l<F.length;)F.write_shift(1,0);return F}function xe(E,O){var R=E.FullPaths.map(function(he){return he.toUpperCase()}),M=R.map(function(he){var be=he.split("/");return be[be.length-(he.slice(-1)=="/"?2:1)]}),F=!1;O.charCodeAt(0)===47?(F=!0,O=R[0].slice(0,-1)+O):F=O.indexOf("/")!==-1;var W=O.toUpperCase(),se=F===!0?R.indexOf(W):M.indexOf(W);if(se!==-1)return E.FileIndex[se];var Te=!W.match(ed);for(W=W.replace(nf,""),Te&&(W=W.replace(ed,"!")),se=0;se<R.length;++se)if((Te?R[se].replace(ed,"!"):R[se]).replace(nf,"")==W||(Te?M[se].replace(ed,"!"):M[se]).replace(nf,"")==W)return E.FileIndex[se];return null}var ue=64,De=-2,We="d0cf11e0a1b11ae1",Ye=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",Pe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:De,FREESECT:-1,HEADER_SIGNATURE:We,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Fe(E,O,R){g();var M=ie(E,R);d.writeFileSync(O,M)}function X(E){for(var O=new Array(E.length),R=0;R<E.length;++R)O[R]=String.fromCharCode(E[R]);return O.join("")}function D(E,O){var R=ie(E,O);switch(O&&O.type||"buffer"){case"file":return g(),d.writeFileSync(O.filename,R),R;case"binary":return typeof R=="string"?R:X(R);case"base64":return bf(typeof R=="string"?R:X(R));case"buffer":if(or)return Buffer.isBuffer(R)?R:gl(R);case"array":return typeof R=="string"?na(R):R}return R}var J;function H(E){try{var O=E.InflateRaw,R=new O;if(R._processChunk(new Uint8Array([3,0]),R._finishFlushFlag),R.bytesRead)J=E;else throw new Error("zlib does not expose bytesRead")}catch(M){console.error("cannot use native zlib: "+(M.message||M))}}function K(E,O){if(!J)return ht(E,O);var R=J.InflateRaw,M=new R,F=M._processChunk(E.slice(E.l),M._finishFlushFlag);return E.l+=M.bytesRead,F}function P(E){return J?J.deflateRawSync(E):cn(E)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(E){var O=(E<<1|E<<11)&139536|(E<<5|E<<15)&558144;return(O>>16|O>>8|O)&255}for(var Je=typeof Uint8Array<"u",Ke=Je?new Uint8Array(256):[],pn=0;pn<256;++pn)Ke[pn]=Ie(pn);function Ft(E,O){var R=Ke[E&255];return O<=8?R>>>8-O:(R=R<<8|Ke[E>>8&255],O<=16?R>>>16-O:(R=R<<8|Ke[E>>16&255],R>>>24-O))}function un(E,O){var R=O&7,M=O>>>3;return(E[M]|(R<=6?0:E[M+1]<<8))>>>R&3}function Zt(E,O){var R=O&7,M=O>>>3;return(E[M]|(R<=5?0:E[M+1]<<8))>>>R&7}function Bn(E,O){var R=O&7,M=O>>>3;return(E[M]|(R<=4?0:E[M+1]<<8))>>>R&15}function ft(E,O){var R=O&7,M=O>>>3;return(E[M]|(R<=3?0:E[M+1]<<8))>>>R&31}function He(E,O){var R=O&7,M=O>>>3;return(E[M]|(R<=1?0:E[M+1]<<8))>>>R&127}function Ct(E,O,R){var M=O&7,F=O>>>3,W=(1<<R)-1,se=E[F]>>>M;return R<8-M||(se|=E[F+1]<<8-M,R<16-M)||(se|=E[F+2]<<16-M,R<24-M)||(se|=E[F+3]<<24-M),se&W}function yn(E,O,R){var M=O&7,F=O>>>3;return M<=5?E[F]|=(R&7)<<M:(E[F]|=R<<M&255,E[F+1]=(R&7)>>8-M),O+3}function mn(E,O,R){var M=O&7,F=O>>>3;return R=(R&1)<<M,E[F]|=R,O+1}function Gn(E,O,R){var M=O&7,F=O>>>3;return R<<=M,E[F]|=R&255,R>>>=8,E[F+1]=R,O+8}function cr(E,O,R){var M=O&7,F=O>>>3;return R<<=M,E[F]|=R&255,R>>>=8,E[F+1]=R&255,E[F+2]=R>>>8,O+16}function ge(E,O){var R=E.length,M=2*R>O?2*R:O+5,F=0;if(R>=O)return E;if(or){var W=D_(M);if(E.copy)E.copy(W);else for(;F<E.length;++F)W[F]=E[F];return W}else if(Je){var se=new Uint8Array(M);if(se.set)se.set(E);else for(;F<R;++F)se[F]=E[F];return se}return E.length=M,E}function ze(E){for(var O=new Array(E),R=0;R<E;++R)O[R]=0;return O}function nt(E,O,R){var M=1,F=0,W=0,se=0,Te=0,he=E.length,be=Je?new Uint16Array(32):ze(32);for(W=0;W<32;++W)be[W]=0;for(W=he;W<R;++W)E[W]=0;he=E.length;var ve=Je?new Uint16Array(he):ze(he);for(W=0;W<he;++W)be[F=E[W]]++,M<F&&(M=F),ve[W]=0;for(be[0]=0,W=1;W<=M;++W)be[W+16]=Te=Te+be[W-1]<<1;for(W=0;W<he;++W)Te=E[W],Te!=0&&(ve[W]=be[Te+16]++);var et=0;for(W=0;W<he;++W)if(et=E[W],et!=0)for(Te=Ft(ve[W],M)>>M-et,se=(1<<M+4-et)-1;se>=0;--se)O[Te|se<<et]=et&15|W<<4;return M}var Ee=Je?new Uint16Array(512):ze(512),Oe=Je?new Uint16Array(32):ze(32);if(!Je){for(var me=0;me<512;++me)Ee[me]=0;for(me=0;me<32;++me)Oe[me]=0}(function(){for(var E=[],O=0;O<32;O++)E.push(5);nt(E,Oe,32);var R=[];for(O=0;O<=143;O++)R.push(8);for(;O<=255;O++)R.push(9);for(;O<=279;O++)R.push(7);for(;O<=287;O++)R.push(8);nt(R,Ee,288)})();var Ge=function(){for(var O=Je?new Uint8Array(32768):[],R=0,M=0;R<Ne.length-1;++R)for(;M<Ne[R+1];++M)O[M]=R;for(;M<32768;++M)O[M]=29;var F=Je?new Uint8Array(259):[];for(R=0,M=0;R<oe.length-1;++R)for(;M<oe[R+1];++M)F[M]=R;function W(Te,he){for(var be=0;be<Te.length;){var ve=Math.min(65535,Te.length-be),et=be+ve==Te.length;for(he.write_shift(1,+et),he.write_shift(2,ve),he.write_shift(2,~ve&65535);ve-- >0;)he[he.l++]=Te[be++]}return he.l}function se(Te,he){for(var be=0,ve=0,et=Je?new Uint16Array(32768):[];ve<Te.length;){var it=Math.min(65535,Te.length-ve);if(it<10){for(be=yn(he,be,+(ve+it==Te.length)),be&7&&(be+=8-(be&7)),he.l=be/8|0,he.write_shift(2,it),he.write_shift(2,~it&65535);it-- >0;)he[he.l++]=Te[ve++];be=he.l*8;continue}be=yn(he,be,+(ve+it==Te.length)+2);for(var dt=0;it-- >0;){var st=Te[ve];dt=(dt<<5^st)&32767;var mt=-1,Xt=0;if((mt=et[dt])&&(mt|=ve&-32768,mt>ve&&(mt-=32768),mt<ve))for(;Te[mt+Xt]==Te[ve+Xt]&&Xt<250;)++Xt;if(Xt>2){st=F[Xt],st<=22?be=Gn(he,be,Ke[st+1]>>1)-1:(Gn(he,be,3),be+=5,Gn(he,be,Ke[st-23]>>5),be+=3);var en=st<8?0:st-4>>2;en>0&&(cr(he,be,Xt-oe[st]),be+=en),st=O[ve-mt],be=Gn(he,be,Ke[st]>>3),be-=3;var hn=st<4?0:st-2>>1;hn>0&&(cr(he,be,ve-mt-Ne[st]),be+=hn);for(var dn=0;dn<Xt;++dn)et[dt]=ve&32767,dt=(dt<<5^Te[ve])&32767,++ve;it-=Xt-1}else st<=143?st=st+48:be=mn(he,be,1),be=Gn(he,be,Ke[st]),et[dt]=ve&32767,++ve}be=Gn(he,be,0)-1}return he.l=(be+7)/8|0,he.l}return function(he,be){return he.length<8?W(he,be):se(he,be)}}();function cn(E){var O=Xe(50+Math.floor(E.length*1.1)),R=Ge(E,O);return O.slice(0,R)}var Qt=Je?new Uint16Array(32768):ze(32768),V=Je?new Uint16Array(32768):ze(32768),Se=Je?new Uint16Array(128):ze(128),Be=1,Mt=1;function ot(E,O){var R=ft(E,O)+257;O+=5;var M=ft(E,O)+1;O+=5;var F=Bn(E,O)+4;O+=4;for(var W=0,se=Je?new Uint8Array(19):ze(19),Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,be=Je?new Uint8Array(8):ze(8),ve=Je?new Uint8Array(8):ze(8),et=se.length,it=0;it<F;++it)se[G[it]]=W=Zt(E,O),he<W&&(he=W),be[W]++,O+=3;var dt=0;for(be[0]=0,it=1;it<=he;++it)ve[it]=dt=dt+be[it-1]<<1;for(it=0;it<et;++it)(dt=se[it])!=0&&(Te[it]=ve[dt]++);var st=0;for(it=0;it<et;++it)if(st=se[it],st!=0){dt=Ke[Te[it]]>>8-st;for(var mt=(1<<7-st)-1;mt>=0;--mt)Se[dt|mt<<st]=st&7|it<<3}var Xt=[];for(he=1;Xt.length<R+M;)switch(dt=Se[He(E,O)],O+=dt&7,dt>>>=3){case 16:for(W=3+un(E,O),O+=2,dt=Xt[Xt.length-1];W-- >0;)Xt.push(dt);break;case 17:for(W=3+Zt(E,O),O+=3;W-- >0;)Xt.push(0);break;case 18:for(W=11+He(E,O),O+=7;W-- >0;)Xt.push(0);break;default:Xt.push(dt),he<dt&&(he=dt);break}var en=Xt.slice(0,R),hn=Xt.slice(R);for(it=R;it<286;++it)en[it]=0;for(it=M;it<30;++it)hn[it]=0;return Be=nt(en,Qt,286),Mt=nt(hn,V,30),O}function Dt(E,O){if(E[0]==3&&!(E[1]&3))return[To(O),2];for(var R=0,M=0,F=D_(O||1<<18),W=0,se=F.length>>>0,Te=0,he=0;(M&1)==0;){if(M=Zt(E,R),R+=3,M>>>1)M>>1==1?(Te=9,he=5):(R=ot(E,R),Te=Be,he=Mt);else{R&7&&(R+=8-(R&7));var be=E[R>>>3]|E[(R>>>3)+1]<<8;if(R+=32,be>0)for(!O&&se<W+be&&(F=ge(F,W+be),se=F.length);be-- >0;)F[W++]=E[R>>>3],R+=8;continue}for(;;){!O&&se<W+32767&&(F=ge(F,W+32767),se=F.length);var ve=Ct(E,R,Te),et=M>>>1==1?Ee[ve]:Qt[ve];if(R+=et&15,et>>>=4,(et>>>8&255)===0)F[W++]=et;else{if(et==256)break;et-=257;var it=et<8?0:et-4>>2;it>5&&(it=0);var dt=W+oe[et];it>0&&(dt+=Ct(E,R,it),R+=it),ve=Ct(E,R,he),et=M>>>1==1?Oe[ve]:V[ve],R+=et&15,et>>>=4;var st=et<4?0:et-2>>1,mt=Ne[et];for(st>0&&(mt+=Ct(E,R,st),R+=st),!O&&se<dt&&(F=ge(F,dt+100),se=F.length);W<dt;)F[W]=F[W-mt],++W}}}return O?[F,R+7>>>3]:[F.slice(0,W),R+7>>>3]}function ht(E,O){var R=E.slice(E.l||0),M=Dt(R,O);return E.l+=M[1],M[0]}function _t(E,O){if(E)typeof console<"u"&&console.error(O);else throw new Error(O)}function jt(E,O){var R=E;ys(R,0);var M=[],F=[],W={FileIndex:M,FullPaths:F};L(W,{root:O.root});for(var se=R.length-4;(R[se]!=80||R[se+1]!=75||R[se+2]!=5||R[se+3]!=6)&&se>=0;)--se;R.l=se+4,R.l+=4;var Te=R.read_shift(2);R.l+=6;var he=R.read_shift(4);for(R.l=he,se=0;se<Te;++se){R.l+=20;var be=R.read_shift(4),ve=R.read_shift(4),et=R.read_shift(2),it=R.read_shift(2),dt=R.read_shift(2);R.l+=8;var st=R.read_shift(4),mt=f(R.slice(R.l+et,R.l+et+it));R.l+=et+it+dt;var Xt=R.l;R.l=st+4,Bt(R,be,ve,W,mt),R.l=Xt}return W}function Bt(E,O,R,M,F){E.l+=2;var W=E.read_shift(2),se=E.read_shift(2),Te=o(E);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var he=E.read_shift(4),be=E.read_shift(4),ve=E.read_shift(4),et=E.read_shift(2),it=E.read_shift(2),dt="",st=0;st<et;++st)dt+=String.fromCharCode(E[E.l++]);if(it){var mt=f(E.slice(E.l,E.l+it));(mt[21589]||{}).mt&&(Te=mt[21589].mt),((F||{})[21589]||{}).mt&&(Te=F[21589].mt)}E.l+=it;var Xt=E.slice(E.l,E.l+be);switch(se){case 8:Xt=K(E,ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+se)}var en=!1;W&8&&(he=E.read_shift(4),he==134695760&&(he=E.read_shift(4),en=!0),be=E.read_shift(4),ve=E.read_shift(4)),be!=O&&_t(en,"Bad compressed size: "+O+" != "+be),ve!=R&&_t(en,"Bad uncompressed size: "+R+" != "+ve),Cn(M,dt,Xt,{unsafe:!0,mt:Te})}function $t(E,O){var R=O||{},M=[],F=[],W=Xe(1),se=R.compression?8:0,Te=0,he=0,be=0,ve=0,et=0,it=E.FullPaths[0],dt=it,st=E.FileIndex[0],mt=[],Xt=0;for(he=1;he<E.FullPaths.length;++he)if(dt=E.FullPaths[he].slice(it.length),st=E.FileIndex[he],!(!st.size||!st.content||dt=="Sh33tJ5")){var en=ve,hn=Xe(dt.length);for(be=0;be<dt.length;++be)hn.write_shift(1,dt.charCodeAt(be)&127);hn=hn.slice(0,hn.l),mt[et]=oM.buf(st.content,0);var dn=st.content;se==8&&(dn=P(dn)),W=Xe(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,Te),W.write_shift(2,se),st.mt?l(W,st.mt):W.write_shift(4,0),W.write_shift(-4,mt[et]),W.write_shift(4,dn.length),W.write_shift(4,st.content.length),W.write_shift(2,hn.length),W.write_shift(2,0),ve+=W.length,M.push(W),ve+=hn.length,M.push(hn),ve+=dn.length,M.push(dn),W=Xe(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,Te),W.write_shift(2,se),W.write_shift(4,0),W.write_shift(-4,mt[et]),W.write_shift(4,dn.length),W.write_shift(4,st.content.length),W.write_shift(2,hn.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,en),Xt+=W.l,F.push(W),Xt+=hn.length,F.push(hn),++et}return W=Xe(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,et),W.write_shift(2,et),W.write_shift(4,Xt),W.write_shift(4,ve),W.write_shift(2,0),Ai([Ai(M),Ai(F),W])}var rn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qn(E,O){if(E.ctype)return E.ctype;var R=E.name||"",M=R.match(/\.([^\.]+)$/);return M&&rn[M[1]]||O&&(M=(R=O).match(/[\.\\]([^\.\\])+$/),M&&rn[M[1]])?rn[M[1]]:"application/octet-stream"}function Pn(E){for(var O=bf(E),R=[],M=0;M<O.length;M+=76)R.push(O.slice(M,M+76));return R.join(`\r
`)+`\r
`}function wn(E){var O=E.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var ve=be.charCodeAt(0).toString(16).toUpperCase();return"="+(ve.length==1?"0"+ve:ve)});O=O.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),O.charAt(0)==`
`&&(O="=0D"+O.slice(1)),O=O.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var R=[],M=O.split(`\r
`),F=0;F<M.length;++F){var W=M[F];if(W.length==0){R.push("");continue}for(var se=0;se<W.length;){var Te=76,he=W.slice(se,se+Te);he.charAt(Te-1)=="="?Te--:he.charAt(Te-2)=="="?Te-=2:he.charAt(Te-3)=="="&&(Te-=3),he=W.slice(se,se+Te),se+=Te,se<W.length&&(he+="="),R.push(he)}}return R.join(`\r
`)}function qt(E){for(var O=[],R=0;R<E.length;++R){for(var M=E[R];R<=E.length&&M.charAt(M.length-1)=="=";)M=M.slice(0,M.length-1)+E[++R];O.push(M)}for(var F=0;F<O.length;++F)O[F]=O[F].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return na(O.join(`\r
`))}function fn(E,O,R){for(var M="",F="",W="",se,Te=0;Te<10;++Te){var he=O[Te];if(!he||he.match(/^\s*$/))break;var be=he.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":M=be[2].trim();break;case"content-type":W=be[2].trim();break;case"content-transfer-encoding":F=be[2].trim();break}}switch(++Te,F.toLowerCase()){case"base64":se=na(cl(O.slice(Te).join("")));break;case"quoted-printable":se=qt(O.slice(Te));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+F)}var ve=Cn(E,M.slice(R.length),se,{unsafe:!0});W&&(ve.ctype=W)}function kn(E,O){if(X(E.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var R=O&&O.root||"",M=(or&&Buffer.isBuffer(E)?E.toString("binary"):X(E)).split(`\r
`),F=0,W="";for(F=0;F<M.length;++F)if(W=M[F],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),R||(R=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,R.length)!=R))for(;R.length>0&&(R=R.slice(0,R.length-1),R=R.slice(0,R.lastIndexOf("/")+1),W.slice(0,R.length)!=R););var se=(M[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var Te="--"+(se[1]||""),he=[],be=[],ve={FileIndex:he,FullPaths:be};L(ve);var et,it=0;for(F=0;F<M.length;++F){var dt=M[F];dt!==Te&&dt!==Te+"--"||(it++&&fn(ve,M.slice(et,F),R),et=F)}return ve}function Hn(E,O){var R=O||{},M=R.boundary||"SheetJS";M="------="+M;for(var F=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+M.slice(2)+'"',"","",""],W=E.FullPaths[0],se=W,Te=E.FileIndex[0],he=1;he<E.FullPaths.length;++he)if(se=E.FullPaths[he].slice(W.length),Te=E.FileIndex[he],!(!Te.size||!Te.content||se=="Sh33tJ5")){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xt){return"_x"+Xt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xt){return"_u"+Xt.charCodeAt(0).toString(16)+"_"});for(var be=Te.content,ve=or&&Buffer.isBuffer(be)?be.toString("binary"):X(be),et=0,it=Math.min(1024,ve.length),dt=0,st=0;st<=it;++st)(dt=ve.charCodeAt(st))>=32&&dt<128&&++et;var mt=et>=it*4/5;F.push(M),F.push("Content-Location: "+(R.root||"file:///C:/SheetJS/")+se),F.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),F.push("Content-Type: "+qn(Te,se)),F.push(""),F.push(mt?wn(ve):Pn(ve))}return F.push(M+`--\r
`),F.join(`\r
`)}function En(E){var O={};return L(O,E),O}function Cn(E,O,R,M){var F=M&&M.unsafe;F||L(E);var W=!F&&Cr.find(E,O);if(!W){var se=E.FullPaths[0];O.slice(0,se.length)==se?se=O:(se.slice(-1)!="/"&&(se+="/"),se=(se+O).replace("//","/")),W={name:i(O),type:2},E.FileIndex.push(W),E.FullPaths.push(se),F||Cr.utils.cfb_gc(E)}return W.content=R,W.size=R?R.length:0,M&&(M.CLSID&&(W.clsid=M.CLSID),M.mt&&(W.mt=M.mt),M.ct&&(W.ct=M.ct)),W}function hr(E,O){L(E);var R=Cr.find(E,O);if(R){for(var M=0;M<E.FileIndex.length;++M)if(E.FileIndex[M]==R)return E.FileIndex.splice(M,1),E.FullPaths.splice(M,1),!0}return!1}function _n(E,O,R){L(E);var M=Cr.find(E,O);if(M){for(var F=0;F<E.FileIndex.length;++F)if(E.FileIndex[F]==M)return E.FileIndex[F].name=i(R),E.FullPaths[F]=R,!0}return!1}function we(E){q(E,!0)}return e.find=xe,e.read=Y,e.parse=p,e.write=D,e.writeFile=Fe,e.utils={cfb_new:En,cfb_add:Cn,cfb_del:hr,cfb_mov:_n,cfb_gc:we,ReadShift:sf,CheckField:iT,prep_blob:ys,bconcat:Ai,use_zlib:H,_deflateRaw:cn,_inflateRaw:ht,consts:Pe},e}();function cM(t){return typeof t=="string"?S0(t):Array.isArray(t)?L5(t):t}function Hf(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=S0(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Sf(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([cM(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=l,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var f=File(t);return f.open("w"),f.encoding="binary",Array.isArray(e)&&(e=Bf(e)),f.write(e),f.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Ri(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function z_(t,e){for(var n=[],r=Ri(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function e1(t){for(var e=[],n=Ri(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function T0(t){for(var e=[],n=Ri(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function uM(t){for(var e=[],n=Ri(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var Vd=new Date(1899,11,30,0,0,0);function ls(t,e){var n=t.getTime(),r=Vd.getTime()+(t.getTimezoneOffset()-Vd.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var HE=new Date,fM=Vd.getTime()+(HE.getTimezoneOffset()-Vd.getTimezoneOffset())*6e4,B_=HE.getTimezoneOffset();function UE(t){var e=new Date;return e.setTime(t*24*60*60*1e3+fM),e.getTimezoneOffset()!==B_&&e.setTime(e.getTime()+(e.getTimezoneOffset()-B_)*6e4),e}var H_=new Date("2017-02-19T19:06:09.000Z"),$E=isNaN(H_.getFullYear())?new Date("2/19/17"):H_,hM=$E.getFullYear()==2017;function Xi(t,e){var n=new Date(t);if(hM)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if($E.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function k0(t,e){if(or&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(l){return n[l]||l})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function os(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=os(t[n]));return e}function qr(t,e){for(var n="";n.length<e;)n+=t;return n}function sl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,l){return n=-n,l}),!isNaN(e=Number(r)))?e/n:e}var dM=["january","february","march","april","may","june","july","august","september","october","november","december"];function _f(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),l=e.getDate();if(isNaN(l))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&dM.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||l>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function Fn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return or?r=gl(n):r=I5(n),Cr.utils.cfb_add(t,e,r)}Cr.utils.cfb_add(t,e,n)}else t.file(e,n)}function t1(){return Cr.utils.cfb_new()}var si=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,gM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},n1=e1(gM),r1=/[&<>'"]/g,pM=/[\u0000-\u0008\u000b-\u001f]/g;function vr(t){var e=t+"";return e.replace(r1,function(n){return n1[n]}).replace(pM,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function U_(t){return vr(t).replace(/ /g,"_x0020_")}var WE=/[\u0000-\u001f]/g;function mM(t){var e=t+"";return e.replace(r1,function(n){return n1[n]}).replace(/\n/g,"<br/>").replace(WE,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function xM(t){var e=t+"";return e.replace(r1,function(n){return n1[n]}).replace(WE,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function vM(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function yM(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function em(t){for(var e="",n=0,r=0,i=0,l=0,o=0,f=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(l=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|l&63);continue}o=t.charCodeAt(n++),f=((r&7)<<18|(i&63)<<12|(l&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function $_(t){var e=To(2*t.length),n,r,i=1,l=0,o=0,f;for(r=0;r<t.length;r+=i)i=1,(f=t.charCodeAt(r))<128?n=f:f<224?(n=(f&31)*64+(t.charCodeAt(r+1)&63),i=2):f<240?(n=(f&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(f&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[l++]=o&255,e[l++]=o>>>8,o=0),e[l++]=n%256,e[l++]=n>>>8;return e.slice(0,l).toString("ucs2")}function W_(t){return gl(t,"binary").toString("utf8")}var nd="foo bar baz",rf=or&&(W_(nd)==em(nd)&&W_||$_(nd)==em(nd)&&$_)||em,Sf=or?function(t){return gl(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},bM=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),VE=/(^\s|\s$|\n)/;function Di(t,e){return"<"+t+(e.match(VE)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function wf(t){return Ri(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Rt(t,e,n){return"<"+t+(n!=null?wf(n):"")+(e!=null?(e.match(VE)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function ex(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function _M(t,e){switch(typeof t){case"string":var n=Rt("vt:lpwstr",vr(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Rt((t|0)==t?"vt:i4":"vt:r8",vr(String(t)));case"boolean":return Rt("vt:bool",t?"true":"false")}if(t instanceof Date)return Rt("vt:filetime",ex(t));throw new Error("Unable to serialize "+t)}var bi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$c=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],bs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function SM(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,l=5;l>=0;--l)i=i*256+t[e+l];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function wM(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,l=0,o=r?-e:e;isFinite(o)?o==0?i=l=0:(i=Math.floor(Math.log(o)/Math.LN2),l=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?i=-1022:(l-=Math.pow(2,52),i+=1023)):(i=2047,l=isNaN(e)?26985:0);for(var f=0;f<=5;++f,l/=256)t[n+f]=l&255;t[n+6]=(i&15)<<4|l&15,t[n+7]=i>>4|r}var V_=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,l=t[0][r].length;i<l;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},Y_=or?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:gl(e)})):V_(t)}:V_,G_=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Zu(t,i)));return r.join("").replace(nf,"")},i1=or?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(nf,""):G_(t,e,n)}:G_,q_=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},YE=or?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):q_(t,e,n)}:q_,X_=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(_c(t,i)));return r.join("")},Uf=or?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):X_(e,n,r)}:X_,GE=function(t,e){var n=_s(t,e);return n>0?Uf(t,e+4,e+4+n-1):""},qE=GE,XE=function(t,e){var n=_s(t,e);return n>0?Uf(t,e+4,e+4+n-1):""},JE=XE,KE=function(t,e){var n=2*_s(t,e);return n>0?Uf(t,e+4,e+4+n-1):""},ZE=KE,QE=function(e,n){var r=_s(e,n);return r>0?i1(e,n+4,n+4+r):""},eT=QE,tT=function(t,e){var n=_s(t,e);return n>0?Uf(t,e+4,e+4+n):""},nT=tT,rT=function(t,e){return SM(t,e)},Yd=rT,s1=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};or&&(qE=function(e,n){if(!Buffer.isBuffer(e))return GE(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},JE=function(e,n){if(!Buffer.isBuffer(e))return XE(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},ZE=function(e,n){if(!Buffer.isBuffer(e))return KE(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},eT=function(e,n){if(!Buffer.isBuffer(e))return QE(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},nT=function(e,n){if(!Buffer.isBuffer(e))return tT(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Yd=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):rT(e,n)},s1=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var _c=function(t,e){return t[e]},Zu=function(t,e){return t[e+1]*256+t[e]},EM=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},_s=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},vo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},TM=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function sf(t,e){var n="",r,i,l=[],o,f,d,g;switch(e){case"dbcs":if(g=this.l,or&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)n+=String.fromCharCode(Zu(this,g)),g+=2;t*=2;break;case"utf8":n=Uf(this,this.l,this.l+t);break;case"utf16le":t*=2,n=i1(this,this.l,this.l+t);break;case"wstr":return sf.call(this,t,"dbcs");case"lpstr-ansi":n=qE(this,this.l),t=4+_s(this,this.l);break;case"lpstr-cp":n=JE(this,this.l),t=4+_s(this,this.l);break;case"lpwstr":n=ZE(this,this.l),t=4+2*_s(this,this.l);break;case"lpp4":t=4+_s(this,this.l),n=eT(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+_s(this,this.l),n=nT(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=_c(this,this.l+t++))!==0;)l.push(Qh(o));n=l.join("");break;case"_wstr":for(t=0,n="";(o=Zu(this,this.l+t))!==0;)l.push(Qh(o)),t+=2;t+=2,n=l.join("");break;case"dbcs-cont":for(n="",g=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(g)!==-1)return o=_c(this,g),this.l=g+1,f=sf.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(Qh(Zu(this,g))),g+=2}n=l.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",g=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(g)!==-1)return o=_c(this,g),this.l=g+1,f=sf.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(Qh(_c(this,g))),g+=1}n=l.join("");break;default:switch(t){case 1:return r=_c(this,this.l),this.l++,r;case 2:return r=(e==="i"?EM:Zu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?vo:TM)(this,this.l),this.l+=4,r):(i=_s(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Yd(this,this.l):i=Yd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=YE(this,this.l,t);break}}return this.l+=t,n}var kM=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},CM=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},NM=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function OM(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)NM(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var l=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,kM(this,e,this.l);break;case 8:if(r=8,n==="f"){wM(this,e,this.l);break}case 16:break;case-4:r=4,CM(this,e,this.l);break}return this.l+=r,this}function iT(t,e){var n=YE(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ys(t,e){t.l=e,t.read_shift=sf,t.chk=iT,t.write_shift=OM}function Oa(t,e){t.l+=e}function Xe(t){var e=To(t);return ys(e,0),e}function rs(){var t=[],e=or?256:2048,n=function(g){var p=Xe(g);return ys(p,0),p},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},l=function(g){return r&&g<r.length-r.l?r:(i(),r=n(Math.max(g+1,e)))},o=function(){return i(),Ai(t)},f=function(g){i(),r=g,r.l==null&&(r.l=r.length),l(e)};return{next:l,push:f,end:o,_bufs:t}}function pt(t,e,n,r){var i=+e,l;if(!isNaN(i)){r||(r=SI[i].p||(n||[]).length||0),l=1+(i>=128?1:0)+1,r>=128&&++l,r>=16384&&++l,r>=2097152&&++l;var o=t.next(l);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var f=0;f!=4;++f)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&s1(n)&&t.push(n)}}function af(t,e,n){var r=os(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function J_(t,e,n){var r=os(t);return r.s=af(r.s,e.s,n),r.e=af(r.e,e.s,n),r}function lf(t,e){if(t.cRel&&t.c<0)for(t=os(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=os(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=yr(t);return!t.cRel&&t.cRel!=null&&(n=MM(n)),!t.rRel&&t.rRel!=null&&(n=AM(n)),n}function tm(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Hi(t.s.c)+":"+(t.e.cRel?"":"$")+Hi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Mi(t.s.r)+":"+(t.e.rRel?"":"$")+Mi(t.e.r):lf(t.s,e.biff)+":"+lf(t.e,e.biff)}function a1(t){return parseInt(DM(t),10)-1}function Mi(t){return""+(t+1)}function AM(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function DM(t){return t.replace(/\$(\d+)$/,"$1")}function l1(t){for(var e=RM(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Hi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function MM(t){return t.replace(/^([A-Z])/,"$$$1")}function RM(t){return t.replace(/^\$([A-Z])/,"$1")}function jM(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _i(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function yr(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Ss(t){var e=t.indexOf(":");return e==-1?{s:_i(t),e:_i(t)}:{s:_i(t.slice(0,e)),e:_i(t.slice(e+1))}}function ii(t,e){return typeof e>"u"||typeof e=="number"?ii(t.s,t.e):(typeof t!="string"&&(t=yr(t)),typeof e!="string"&&(e=yr(e)),t==e?t:t+":"+e)}function Ir(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,l=t.length;for(n=0;r<l&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<l&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===l||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=l&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=l&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function K_(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Yl(t.z,n?ls(e):e)}catch{}try{return t.w=Yl((t.XF||{}).numFmtId||(n?14:0),n?ls(e):e)}catch{return""+e}}function ul(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?$f[t.v]||t.v:e==null?K_(t,t.v):K_(t,e))}function Lo(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function sT(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,l=t||(i?[]:{}),o=0,f=0;if(l&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var d=typeof r.origin=="string"?_i(r.origin):r.origin;o=d.r,f=d.c}l["!ref"]||(l["!ref"]="A1:A1")}var g={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var p=Ir(l["!ref"]);g.s.c=p.s.c,g.s.r=p.s.r,g.e.c=Math.max(g.e.c,p.e.c),g.e.r=Math.max(g.e.r,p.e.r),o==-1&&(g.e.r=o=p.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=e[v].length;++_)if(!(typeof e[v][_]>"u")){var b={v:e[v][_]},w=o+v,S=f+_;if(g.s.r>w&&(g.s.r=w),g.s.c>S&&(g.s.c=S),g.e.r<w&&(g.e.r=w),g.e.c<S&&(g.e.c=S),e[v][_]&&typeof e[v][_]=="object"&&!Array.isArray(e[v][_])&&!(e[v][_]instanceof Date))b=e[v][_];else if(Array.isArray(b.v)&&(b.f=e[v][_][1],b.v=b.v[0]),b.v===null)if(b.f)b.t="n";else if(r.nullError)b.t="e",b.v=0;else if(r.sheetStubs)b.t="z";else continue;else typeof b.v=="number"?b.t="n":typeof b.v=="boolean"?b.t="b":b.v instanceof Date?(b.z=r.dateNF||Xr[14],r.cellDates?(b.t="d",b.w=Yl(b.z,ls(b.v))):(b.t="n",b.v=ls(b.v),b.w=Yl(b.z,b.v))):b.t="s";if(i)l[w]||(l[w]=[]),l[w][S]&&l[w][S].z&&(b.z=l[w][S].z),l[w][S]=b;else{var T=yr({c:S,r:w});l[T]&&l[T].z&&(b.z=l[T].z),l[T]=b}}}return g.s.c<1e7&&(l["!ref"]=ii(g)),l}function Wc(t,e){return sT(null,t,e)}function LM(t){return t.read_shift(4,"i")}function aa(t,e){return e||(e=Xe(4)),e.write_shift(4,t),e}function Ui(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Si(t,e){var n=!1;return e==null&&(n=!0,e=Xe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function IM(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function PM(t,e){return e||(e=Xe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function o1(t,e){var n=t.l,r=t.read_shift(1),i=Ui(t),l=[],o={t:i,h:i};if((r&1)!==0){for(var f=t.read_shift(4),d=0;d!=f;++d)l.push(IM(t));o.r=l}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function FM(t,e){var n=!1;return e==null&&(n=!0,e=Xe(15+4*t.t.length)),e.write_shift(1,0),Si(t.t,e),n?e.slice(0,e.l):e}var zM=o1;function BM(t,e){var n=!1;return e==null&&(n=!0,e=Xe(23+4*t.t.length)),e.write_shift(1,1),Si(t.t,e),e.write_shift(4,1),PM({},e),n?e.slice(0,e.l):e}function Ys(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Io(t,e){return e==null&&(e=Xe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Po(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Fo(t,e){return e==null&&(e=Xe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var HM=Ui,aT=Si;function c1(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Gd(t,e){var n=!1;return e==null&&(n=!0,e=Xe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var UM=Ui,tx=c1,u1=Gd;function lT(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Yd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):vo(e,0)>>2;return n?i/100:i}function oT(t,e){e==null&&(e=Xe(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function cT(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function $M(t,e){return e||(e=Xe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var zo=cT,Vc=$M;function Yc(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ko(t,e){return(e||Xe(8)).write_shift(8,t,"f")}function WM(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),l=t.read_shift(2,"i"),o=t.read_shift(1),f=t.read_shift(1),d=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var g=QM[i];g&&(e.rgb=o2(g));break;case 2:e.rgb=o2([o,f,d]);break;case 3:e.theme=i;break}return l!=0&&(e.tint=l>0?l/32767:l/32768),e}function qd(t,e){if(e||(e=Xe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function VM(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function YM(t,e){e||(e=Xe(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var uT=2,xs=3,rd=11,Xd=19,id=64,GM=65,qM=71,XM=4108,JM=4126,Oi=80,Z_={1:{n:"CodePage",t:uT},2:{n:"Category",t:Oi},3:{n:"PresentationFormat",t:Oi},4:{n:"ByteCount",t:xs},5:{n:"LineCount",t:xs},6:{n:"ParagraphCount",t:xs},7:{n:"SlideCount",t:xs},8:{n:"NoteCount",t:xs},9:{n:"HiddenCount",t:xs},10:{n:"MultimediaClipCount",t:xs},11:{n:"ScaleCrop",t:rd},12:{n:"HeadingPairs",t:XM},13:{n:"TitlesOfParts",t:JM},14:{n:"Manager",t:Oi},15:{n:"Company",t:Oi},16:{n:"LinksUpToDate",t:rd},17:{n:"CharacterCount",t:xs},19:{n:"SharedDoc",t:rd},22:{n:"HyperlinksChanged",t:rd},23:{n:"AppVersion",t:xs,p:"version"},24:{n:"DigSig",t:GM},26:{n:"ContentType",t:Oi},27:{n:"ContentStatus",t:Oi},28:{n:"Language",t:Oi},29:{n:"Version",t:Oi},255:{},2147483648:{n:"Locale",t:Xd},2147483651:{n:"Behavior",t:Xd},1919054434:{}},Q_={1:{n:"CodePage",t:uT},2:{n:"Title",t:Oi},3:{n:"Subject",t:Oi},4:{n:"Author",t:Oi},5:{n:"Keywords",t:Oi},6:{n:"Comments",t:Oi},7:{n:"Template",t:Oi},8:{n:"LastAuthor",t:Oi},9:{n:"RevNumber",t:Oi},10:{n:"EditTime",t:id},11:{n:"LastPrinted",t:id},12:{n:"CreatedDate",t:id},13:{n:"ModifiedDate",t:id},14:{n:"PageCount",t:xs},15:{n:"WordCount",t:xs},16:{n:"CharCount",t:xs},17:{n:"Thumbnail",t:qM},18:{n:"Application",t:Oi},19:{n:"DocSecurity",t:xs},255:{},2147483648:{n:"Locale",t:Xd},2147483651:{n:"Behavior",t:Xd},1919054434:{}};function KM(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var ZM=KM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),QM=os(ZM),$f={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},eR={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},sd={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function fT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function hT(t,e){var n=uM(eR),r=[],i;r[r.length]=si,r[r.length]=Rt("Types",null,{xmlns:bi.CT,"xmlns:xsd":bi.xsd,"xmlns:xsi":bi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Rt("Default",null,{Extension:d[0],ContentType:d[1]})}));var l=function(d){t[d]&&t[d].length>0&&(i=t[d][0],r[r.length]=Rt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:sd[d][e.bookType]||sd[d].xlsx}))},o=function(d){(t[d]||[]).forEach(function(g){r[r.length]=Rt("Override",null,{PartName:(g[0]=="/"?"":"/")+g,ContentType:sd[d][e.bookType]||sd[d].xlsx})})},f=function(d){(t[d]||[]).forEach(function(g){r[r.length]=Rt("Override",null,{PartName:(g[0]=="/"?"":"/")+g,ContentType:n[d][0]})})};return l("workbooks"),o("sheets"),o("charts"),f("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),o("metadata"),f("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var nr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function dT(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Ac(t){var e=[si,Rt("Relationships",null,{xmlns:bi.RELS})];return Ri(t["!id"]).forEach(function(n){e[e.length]=Rt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function xr(t,e,n,r,i,l){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[nr.HLINK,nr.XPATH,nr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function tR(t){var e=[si];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function e2(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function nR(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function rR(t){var e=[si];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(e2(t[n][0],t[n][1])),e.push(nR("",t[n][0]));return e.push(e2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function gT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Bd.version+"</meta:generator></office:meta></office:document-meta>"}var So=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function nm(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=vr(e),r[r.length]=n?Rt(t,e,n):Di(t,e))}function pT(t,e){var n=e||{},r=[si,Rt("cp:coreProperties",null,{"xmlns:cp":bi.CORE_PROPS,"xmlns:dc":bi.dc,"xmlns:dcterms":bi.dcterms,"xmlns:dcmitype":bi.dcmitype,"xmlns:xsi":bi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&nm("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:ex(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&nm("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:ex(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var l=0;l!=So.length;++l){var o=So[l],f=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&nm(o[0],f,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Dc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],mT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function xT(t){var e=[],n=Rt;return t||(t={}),t.Application="SheetJS",e[e.length]=si,e[e.length]=Rt("Properties",null,{xmlns:bi.EXT_PROPS,"xmlns:vt":bi.vt}),Dc.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=vr(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+vr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function vT(t){var e=[si,Rt("Properties",null,{xmlns:bi.CUST_PROPS,"xmlns:vt":bi.vt})];if(!t)return e.join("");var n=1;return Ri(t).forEach(function(i){++n,e[e.length]=Rt("property",_M(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:vr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var t2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function iR(t,e){var n=[];return Ri(t2).map(function(r){for(var i=0;i<So.length;++i)if(So[i][1]==r)return So[i];for(i=0;i<Dc.length;++i)if(Dc[i][1]==r)return Dc[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Di(t2[r[1]]||r[1],i))}}),Rt("DocumentProperties",n.join(""),{xmlns:bs.o})}function sR(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Ri(t).forEach(function(l){if(Object.prototype.hasOwnProperty.call(t,l)){for(var o=0;o<So.length;++o)if(l==So[o][1])return;for(o=0;o<Dc.length;++o)if(l==Dc[o][1])return;for(o=0;o<n.length;++o)if(l==n[o])return;var f=t[l],d="string";typeof f=="number"?(d="float",f=String(f)):f===!0||f===!1?(d="boolean",f=f?"1":"0"):f=String(f),i.push(Rt(U_(l),f,{"dt:dt":d}))}}),e&&Ri(e).forEach(function(l){if(Object.prototype.hasOwnProperty.call(e,l)&&!(t&&Object.prototype.hasOwnProperty.call(t,l))){var o=e[l],f="string";typeof o=="number"?(f="float",o=String(o)):o===!0||o===!1?(f="boolean",o=o?"1":"0"):o instanceof Date?(f="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Rt(U_(l),o,{"dt:dt":f}))}}),"<"+r+' xmlns="'+bs.o+'">'+i.join("")+"</"+r+">"}function aR(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var l=r/Math.pow(2,32)|0;l>0&&(r=r%Math.pow(2,32),i+=l);var o=Xe(8);return o.write_shift(4,r),o.write_shift(4,i),o}function n2(t,e){var n=Xe(4),r=Xe(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=Xe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=aR(e);break;case 31:case 80:for(r=Xe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ai([n,r])}var yT=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function lR(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function r2(t,e,n){var r=Xe(8),i=[],l=[],o=8,f=0,d=Xe(8),g=Xe(8);if(d.write_shift(4,2),d.write_shift(4,1200),g.write_shift(4,1),l.push(d),i.push(g),o+=8+d.length,!e){g=Xe(8),g.write_shift(4,0),i.unshift(g);var p=[Xe(4)];for(p[0].write_shift(4,t.length),f=0;f<t.length;++f){var v=t[f][0];for(d=Xe(8+2*(v.length+1)+(v.length%2?0:2)),d.write_shift(4,f+2),d.write_shift(4,v.length+1),d.write_shift(0,v,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=Ai(p),l.unshift(d),o+=8+d.length}for(f=0;f<t.length;++f)if(!(e&&!e[t[f][0]])&&!(yT.indexOf(t[f][0])>-1||mT.indexOf(t[f][0])>-1)&&t[f][1]!=null){var _=t[f][1],b=0;if(e){b=+e[t[f][0]];var w=n[b];if(w.p=="version"&&typeof _=="string"){var S=_.split(".");_=(+S[0]<<16)+(+S[1]||0)}d=n2(w.t,_)}else{var T=lR(_);T==-1&&(T=31,_=String(_)),d=n2(T,_)}l.push(d),g=Xe(8),g.write_shift(4,e?b:2+f),i.push(g),o+=8+d.length}var A=8*(l.length+1);for(f=0;f<l.length;++f)i[f].write_shift(4,A),A+=l[f].length;return r.write_shift(4,o),r.write_shift(4,l.length),Ai([r].concat(i).concat(l))}function i2(t,e,n,r,i,l){var o=Xe(i?68:48),f=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Cr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var d=r2(t,n,r);if(f.push(d),i){var g=r2(i,null,null);o.write_shift(16,l,"hex"),o.write_shift(4,68+d.length),f.push(g)}return Ai(f)}function oR(t,e){e||(e=Xe(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function cR(t,e){return t.read_shift(e)===1}function qi(t,e){return e||(e=Xe(2)),e.write_shift(2,+!!t),e}function bT(t){return t.read_shift(2,"u")}function Bs(t,e){return e||(e=Xe(2)),e.write_shift(2,t),e}function _T(t,e,n){return n||(n=Xe(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function ST(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var l=t.read_shift(1);l&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function uR(t){var e=t.t||"",n=Xe(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=Xe(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Ai(i)}function fR(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function hR(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):fR(t,r,n)}function dR(t,e,n){if(n.biff>5)return hR(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function wT(t,e,n){return n||(n=Xe(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function s2(t,e){e||(e=Xe(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function gR(t){var e=Xe(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),l=i>-1?31:23;switch(r.charAt(0)){case"#":l=28;break;case".":l&=-3;break}e.write_shift(4,2),e.write_shift(4,l);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(l==28)r=r.slice(1),s2(r,e);else if(l&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var f=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(f.length+1)),n=0;n<f.length;++n)e.write_shift(2,f.charCodeAt(n));e.write_shift(2,0),l&8&&s2(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)e.write_shift(1,r.charCodeAt(n+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Co(t,e,n,r){return r||(r=Xe(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function pR(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),l=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,l,o]}function mR(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function ET(t,e){return e||(e=Xe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function f1(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=Xe(i);return l.write_shift(2,r),l.write_shift(2,e),i>4&&l.write_shift(2,29282),i>6&&l.write_shift(2,1997),i>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function xR(t,e){var n=!e||e.biff==8,r=Xe(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function vR(t,e){var n=!e||e.biff>=8?2:1,r=Xe(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function yR(t,e){var n=Xe(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=uR(t[i]);var l=Ai([n].concat(r));return l.parts=[n.length].concat(r.map(function(o){return o.length})),l}function bR(){var t=Xe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function _R(t){var e=Xe(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function SR(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,l=Xe(i);return l.write_shift(2,t.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,n.length),r||l.write_shift(1,1),l.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),l}function wR(t,e,n,r){var i=Xe(10);return Co(t,e,r,i),i.write_shift(4,n),i}function ER(t,e,n,r,i){var l=!i||i.biff==8,o=Xe(8+ +l+(1+l)*n.length);return Co(t,e,r,o),o.write_shift(2,n.length),l&&o.write_shift(1,1),o.write_shift((1+l)*n.length,n,l?"utf16le":"sbcs"),o}function TR(t,e,n,r){var i=n&&n.biff==5;r||(r=Xe(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var l=r.length>r.l?r.slice(0,r.l):r;return l.l==null&&(l.l=l.length),l}function kR(t,e){var n=e.biff==8||!e.biff?4:2,r=Xe(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function a2(t,e,n,r){var i=n&&n.biff==5;r||(r=Xe(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var l=0;return t.numFmtId>0&&i&&(l|=1024),r.write_shift(4,l),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function CR(t){var e=Xe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function NR(t,e,n,r,i,l){var o=Xe(8);return Co(t,e,r,o),_T(n,l,o),o}function OR(t,e,n,r){var i=Xe(14);return Co(t,e,r,i),ko(n,i),i}function AR(t,e,n){if(n.biff<8)return DR(t,e,n);for(var r=[],i=t.l+e,l=t.read_shift(n.biff>8?4:2);l--!==0;)r.push(pR(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function DR(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=ST(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function MR(t){var e=Xe(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)ET(t[n],e);return e}function RR(t){var e=Xe(24),n=_i(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Ai([e,gR(t[1])])}function jR(t){var e=t[1].Tooltip,n=Xe(10+2*(e.length+1));n.write_shift(2,2048);var r=_i(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function LR(t){return t||(t=Xe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function IR(t,e,n){if(!n.cellStyles)return Oa(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),l=t.read_shift(r),o=t.read_shift(r),f=t.read_shift(r),d=t.read_shift(2);r==2&&(t.l+=2);var g={s:i,e:l,w:o,ixfe:f,flags:d};return(n.biff>=5||!n.biff)&&(g.level=d>>8&7),g}function PR(t,e){var n=Xe(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function FR(t){for(var e=Xe(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function zR(t,e,n){var r=Xe(15);return Vf(r,t,e),r.write_shift(8,n,"f"),r}function BR(t,e,n){var r=Xe(9);return Vf(r,t,e),r.write_shift(2,n),r}var HR=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=e1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(f,d){var g=[],p=To(1);switch(d.type){case"base64":p=na(cl(f));break;case"binary":p=na(f);break;case"buffer":case"array":p=f;break}ys(p,0);var v=p.read_shift(1),_=!!(v&136),b=!1,w=!1;switch(v){case 2:break;case 3:break;case 48:b=!0,_=!0;break;case 49:b=!0,_=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var S=0,T=521;v==2&&(S=p.read_shift(2)),p.l+=3,v!=2&&(S=p.read_shift(4)),S>1048576&&(S=1e6),v!=2&&(T=p.read_shift(2));var A=p.read_shift(2),j=d.codepage||1252;v!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(j=t[p[p.l]]),p.l+=1,p.l+=2),w&&(p.l+=36);for(var I=[],Z={},Q=Math.min(p.length,v==2?521:T-10-(b?264:0)),Y=w?32:11;p.l<Q&&p[p.l]!=13;)switch(Z={},Z.name=Hd.utils.decode(j,p.slice(p.l,p.l+Y)).replace(/[\u0000\r\n].*$/g,""),p.l+=Y,Z.type=String.fromCharCode(p.read_shift(1)),v!=2&&!w&&(Z.offset=p.read_shift(4)),Z.len=p.read_shift(1),v==2&&(Z.offset=p.read_shift(2)),Z.dec=p.read_shift(1),Z.name.length&&I.push(Z),v!=2&&(p.l+=w?13:14),Z.type){case"B":(!b||Z.len!=8)&&d.WTF&&console.log("Skipping "+Z.name+":"+Z.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+Z.name+":"+Z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Z.type)}if(p[p.l]!==13&&(p.l=T-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=T;var L=0,U=0;for(g[0]=[],U=0;U!=I.length;++U)g[0][U]=I[U].name;for(;S-- >0;){if(p[p.l]===42){p.l+=A;continue}for(++p.l,g[++L]=[],U=0,U=0;U!=I.length;++U){var q=p.slice(p.l,p.l+I[U].len);p.l+=I[U].len,ys(q,0);var ie=Hd.utils.decode(j,q);switch(I[U].type){case"C":ie.trim().length&&(g[L][U]=ie.replace(/\s+$/,""));break;case"D":ie.length===8?g[L][U]=new Date(+ie.slice(0,4),+ie.slice(4,6)-1,+ie.slice(6,8)):g[L][U]=ie;break;case"F":g[L][U]=parseFloat(ie.trim());break;case"+":case"I":g[L][U]=w?q.read_shift(-4,"i")^2147483648:q.read_shift(4,"i");break;case"L":switch(ie.trim().toUpperCase()){case"Y":case"T":g[L][U]=!0;break;case"N":case"F":g[L][U]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ie+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));g[L][U]="##MEMO##"+(w?parseInt(ie.trim(),10):q.read_shift(4));break;case"N":ie=ie.replace(/\u0000/g,"").trim(),ie&&ie!="."&&(g[L][U]=+ie||0);break;case"@":g[L][U]=new Date(q.read_shift(-8,"f")-621356832e5);break;case"T":g[L][U]=new Date((q.read_shift(4)-2440588)*864e5+q.read_shift(4));break;case"Y":g[L][U]=q.read_shift(4,"i")/1e4+q.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":g[L][U]=-q.read_shift(-8,"f");break;case"B":if(b&&I[U].len==8){g[L][U]=q.read_shift(8,"f");break}case"G":case"P":q.l+=I[U].len;break;case"0":if(I[U].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[U].type)}}}if(v!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(g=g.slice(0,d.sheetRows)),d.DBF=I,g}function r(f,d){var g=d||{};g.dateNF||(g.dateNF="yyyymmdd");var p=Wc(n(f,g),g);return p["!cols"]=g.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete g.DBF,p}function i(f,d){try{return Lo(r(f,d),d)}catch(g){if(d&&d.WTF)throw g}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function o(f,d){var g=d||{};if(+g.codepage>=0&&yf(+g.codepage),g.type=="string")throw new Error("Cannot write DBF to JS string");var p=rs(),v=e0(f,{header:1,raw:!0,cellDates:!0}),_=v[0],b=v.slice(1),w=f["!cols"]||[],S=0,T=0,A=0,j=1;for(S=0;S<_.length;++S){if(((w[S]||{}).DBF||{}).name){_[S]=w[S].DBF.name,++A;continue}if(_[S]!=null){if(++A,typeof _[S]=="number"&&(_[S]=_[S].toString(10)),typeof _[S]!="string")throw new Error("DBF Invalid column name "+_[S]+" |"+typeof _[S]+"|");if(_.indexOf(_[S])!==S){for(T=0;T<1024;++T)if(_.indexOf(_[S]+"_"+T)==-1){_[S]+="_"+T;break}}}}var I=Ir(f["!ref"]),Z=[],Q=[],Y=[];for(S=0;S<=I.e.c-I.s.c;++S){var L="",U="",q=0,ie=[];for(T=0;T<b.length;++T)b[T][S]!=null&&ie.push(b[T][S]);if(ie.length==0||_[S]==null){Z[S]="?";continue}for(T=0;T<ie.length;++T){switch(typeof ie[T]){case"number":U="B";break;case"string":U="C";break;case"boolean":U="L";break;case"object":U=ie[T]instanceof Date?"D":"C";break;default:U="C"}q=Math.max(q,String(ie[T]).length),L=L&&L!=U?"C":U}q>250&&(q=250),U=((w[S]||{}).DBF||{}).type,U=="C"&&w[S].DBF.len>q&&(q=w[S].DBF.len),L=="B"&&U=="N"&&(L="N",Y[S]=w[S].DBF.dec,q=w[S].DBF.len),Q[S]=L=="C"||U=="N"?q:l[L]||0,j+=Q[S],Z[S]=L}var xe=p.next(32);for(xe.write_shift(4,318902576),xe.write_shift(4,b.length),xe.write_shift(2,296+32*A),xe.write_shift(2,j),S=0;S<4;++S)xe.write_shift(4,0);for(xe.write_shift(4,0|(+e[kE]||3)<<8),S=0,T=0;S<_.length;++S)if(_[S]!=null){var ue=p.next(32),De=(_[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);ue.write_shift(1,De,"sbcs"),ue.write_shift(1,Z[S]=="?"?"C":Z[S],"sbcs"),ue.write_shift(4,T),ue.write_shift(1,Q[S]||l[Z[S]]||0),ue.write_shift(1,Y[S]||0),ue.write_shift(1,2),ue.write_shift(4,0),ue.write_shift(1,0),ue.write_shift(4,0),ue.write_shift(4,0),T+=Q[S]||l[Z[S]]||0}var We=p.next(264);for(We.write_shift(4,13),S=0;S<65;++S)We.write_shift(4,0);for(S=0;S<b.length;++S){var Ye=p.next(j);for(Ye.write_shift(1,0),T=0;T<_.length;++T)if(_[T]!=null)switch(Z[T]){case"L":Ye.write_shift(1,b[S][T]==null?63:b[S][T]?84:70);break;case"B":Ye.write_shift(8,b[S][T]||0,"f");break;case"N":var ee="0";for(typeof b[S][T]=="number"&&(ee=b[S][T].toFixed(Y[T]||0)),A=0;A<Q[T]-ee.length;++A)Ye.write_shift(1,32);Ye.write_shift(1,ee,"sbcs");break;case"D":b[S][T]?(Ye.write_shift(4,("0000"+b[S][T].getFullYear()).slice(-4),"sbcs"),Ye.write_shift(2,("00"+(b[S][T].getMonth()+1)).slice(-2),"sbcs"),Ye.write_shift(2,("00"+b[S][T].getDate()).slice(-2),"sbcs")):Ye.write_shift(8,"00000000","sbcs");break;case"C":var Pe=String(b[S][T]!=null?b[S][T]:"").slice(0,Q[T]);for(Ye.write_shift(1,Pe,"sbcs"),A=0;A<Q[T]-Pe.length;++A)Ye.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),UR=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ri(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(_,b){var w=t[b];return typeof w=="number"?A_(w):w},r=function(_,b,w){var S=b.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return S==59?_:A_(S)};t["|"]=254;function i(_,b){switch(b.type){case"base64":return l(cl(_),b);case"binary":return l(_,b);case"buffer":return l(or&&Buffer.isBuffer(_)?_.toString("binary"):Bf(_),b);case"array":return l(k0(_),b)}throw new Error("Unrecognized type "+b.type)}function l(_,b){var w=_.split(/[\n\r]+/),S=-1,T=-1,A=0,j=0,I=[],Z=[],Q=null,Y={},L=[],U=[],q=[],ie=0,xe;for(+b.codepage>=0&&yf(+b.codepage);A!==w.length;++A){ie=0;var ue=w[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),De=ue.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),We=De[0],Ye;if(ue.length>0)switch(We){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":De[1].charAt(0)=="P"&&Z.push(ue.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,Pe=!1,Fe=!1,X=!1,D=-1,J=-1;for(j=1;j<De.length;++j)switch(De[j].charAt(0)){case"A":break;case"X":T=parseInt(De[j].slice(1))-1,Pe=!0;break;case"Y":for(S=parseInt(De[j].slice(1))-1,Pe||(T=0),xe=I.length;xe<=S;++xe)I[xe]=[];break;case"K":Ye=De[j].slice(1),Ye.charAt(0)==='"'?Ye=Ye.slice(1,Ye.length-1):Ye==="TRUE"?Ye=!0:Ye==="FALSE"?Ye=!1:isNaN(sl(Ye))?isNaN(_f(Ye).getDate())||(Ye=Xi(Ye)):(Ye=sl(Ye),Q!==null&&FE(Q)&&(Ye=UE(Ye))),ee=!0;break;case"E":X=!0;var H=Bj(De[j].slice(1),{r:S,c:T});I[S][T]=[I[S][T],H];break;case"S":Fe=!0,I[S][T]=[I[S][T],"S5S"];break;case"G":break;case"R":D=parseInt(De[j].slice(1))-1;break;case"C":J=parseInt(De[j].slice(1))-1;break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+ue)}if(ee&&(I[S][T]&&I[S][T].length==2?I[S][T][0]=Ye:I[S][T]=Ye,Q=null),Fe){if(X)throw new Error("SYLK shared formula cannot have own formula");var K=D>-1&&I[D][J];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");I[S][T][1]=Hj(K[1],{r:S-D,c:T-J})}break;case"F":var P=0;for(j=1;j<De.length;++j)switch(De[j].charAt(0)){case"X":T=parseInt(De[j].slice(1))-1,++P;break;case"Y":for(S=parseInt(De[j].slice(1))-1,xe=I.length;xe<=S;++xe)I[xe]=[];break;case"M":ie=parseInt(De[j].slice(1))/20;break;case"F":break;case"G":break;case"P":Q=Z[parseInt(De[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(q=De[j].slice(1).split(" "),xe=parseInt(q[0],10);xe<=parseInt(q[1],10);++xe)ie=parseInt(q[2],10),U[xe-1]=ie===0?{hidden:!0}:{wch:ie},h1(U[xe-1]);break;case"C":T=parseInt(De[j].slice(1))-1,U[T]||(U[T]={});break;case"R":S=parseInt(De[j].slice(1))-1,L[S]||(L[S]={}),ie>0?(L[S].hpt=ie,L[S].hpx=OT(ie)):ie===0&&(L[S].hidden=!0);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+ue)}P<1&&(Q=null);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+ue)}}return L.length>0&&(Y["!rows"]=L),U.length>0&&(Y["!cols"]=U),b&&b.sheetRows&&(I=I.slice(0,b.sheetRows)),[I,Y]}function o(_,b){var w=i(_,b),S=w[0],T=w[1],A=Wc(S,b);return Ri(T).forEach(function(j){A[j]=T[j]}),A}function f(_,b){return Lo(o(_,b),b)}function d(_,b,w,S){var T="C;Y"+(w+1)+";X"+(S+1)+";K";switch(_.t){case"n":T+=_.v||0,_.f&&!_.F&&(T+=";E"+g1(_.f,{r:w,c:S}));break;case"b":T+=_.v?"TRUE":"FALSE";break;case"e":T+=_.w||_.v;break;case"d":T+='"'+(_.w||_.v)+'"';break;case"s":T+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function g(_,b){b.forEach(function(w,S){var T="F;W"+(S+1)+" "+(S+1)+" ";w.hidden?T+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=Jd(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Kd(w.wpx)),typeof w.wch=="number"&&(T+=Math.round(w.wch))),T.charAt(T.length-1)!=" "&&_.push(T)})}function p(_,b){b.forEach(function(w,S){var T="F;";w.hidden?T+="M0;":w.hpt?T+="M"+20*w.hpt+";":w.hpx&&(T+="M"+20*Zd(w.hpx)+";"),T.length>2&&_.push(T+"R"+(S+1))})}function v(_,b){var w=["ID;PWXL;N;E"],S=[],T=Ir(_["!ref"]),A,j=Array.isArray(_),I=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),_["!cols"]&&g(w,_["!cols"]),_["!rows"]&&p(w,_["!rows"]),w.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var Z=T.s.r;Z<=T.e.r;++Z)for(var Q=T.s.c;Q<=T.e.c;++Q){var Y=yr({r:Z,c:Q});A=j?(_[Z]||[])[Q]:_[Y],!(!A||A.v==null&&(!A.f||A.F))&&S.push(d(A,_,Z,Q))}return w.join(I)+I+S.join(I)+I+"E"+I}return{to_workbook:f,to_sheet:o,from_sheet:v}}(),$R=function(){function t(l,o){switch(o.type){case"base64":return e(cl(l),o);case"binary":return e(l,o);case"buffer":return e(or&&Buffer.isBuffer(l)?l.toString("binary"):Bf(l),o);case"array":return e(k0(l),o)}throw new Error("Unrecognized type "+o.type)}function e(l,o){for(var f=l.split(`
`),d=-1,g=-1,p=0,v=[];p!==f.length;++p){if(f[p].trim()==="BOT"){v[++d]=[],g=0;continue}if(!(d<0)){var _=f[p].trim().split(","),b=_[0],w=_[1];++p;for(var S=f[p]||"";(S.match(/["]/g)||[]).length&1&&p<f.length-1;)S+=`
`+f[++p];switch(S=S.trim(),+b){case-1:if(S==="BOT"){v[++d]=[],g=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?v[d][g]=!0:S==="FALSE"?v[d][g]=!1:isNaN(sl(w))?isNaN(_f(w).getDate())?v[d][g]=w:v[d][g]=Xi(w):v[d][g]=sl(w),++g;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),v[d][g++]=S!==""?S:null;break}if(S==="EOD")break}}return o&&o.sheetRows&&(v=v.slice(0,o.sheetRows)),v}function n(l,o){return Wc(t(l,o),o)}function r(l,o){return Lo(n(l,o),o)}var i=function(){var l=function(d,g,p,v,_){d.push(g),d.push(p+","+v),d.push('"'+_.replace(/"/g,'""')+'"')},o=function(d,g,p,v){d.push(g+","+p),d.push(g==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(d){var g=[],p=Ir(d["!ref"]),v,_=Array.isArray(d);l(g,"TABLE",0,1,"sheetjs"),l(g,"VECTORS",0,p.e.r-p.s.r+1,""),l(g,"TUPLES",0,p.e.c-p.s.c+1,""),l(g,"DATA",0,0,"");for(var b=p.s.r;b<=p.e.r;++b){o(g,-1,0,"BOT");for(var w=p.s.c;w<=p.e.c;++w){var S=yr({r:b,c:w});if(v=_?(d[b]||[])[w]:d[S],!v){o(g,1,0,"");continue}switch(v.t){case"n":var T=v.w;!T&&v.v!=null&&(T=v.v),T==null?v.f&&!v.F?o(g,1,0,"="+v.f):o(g,1,0,""):o(g,0,T,"V");break;case"b":o(g,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":o(g,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Yl(v.z||Xr[14],ls(Xi(v.v)))),o(g,0,v.w,"V");break;default:o(g,1,0,"")}}}o(g,-1,0,"EOD");var A=`\r
`,j=g.join(A);return j}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),TT=function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(v,_){for(var b=v.split(`
`),w=-1,S=-1,T=0,A=[];T!==b.length;++T){var j=b[T].trim().split(":");if(j[0]==="cell"){var I=_i(j[1]);if(A.length<=I.r)for(w=A.length;w<=I.r;++w)A[w]||(A[w]=[]);switch(w=I.r,S=I.c,j[2]){case"t":A[w][S]=t(j[3]);break;case"v":A[w][S]=+j[3];break;case"vtf":var Z=j[j.length-1];case"vtc":switch(j[3]){case"nl":A[w][S]=!!+j[4];break;default:A[w][S]=+j[4];break}j[2]=="vtf"&&(A[w][S]=[A[w][S],Z])}}}return _&&_.sheetRows&&(A=A.slice(0,_.sheetRows)),A}function r(v,_){return Wc(n(v,_),_)}function i(v,_){return Lo(r(v,_),_)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function g(v){if(!v||!v["!ref"])return"";for(var _=[],b=[],w,S="",T=Ss(v["!ref"]),A=Array.isArray(v),j=T.s.r;j<=T.e.r;++j)for(var I=T.s.c;I<=T.e.c;++I)if(S=yr({r:j,c:I}),w=A?(v[j]||[])[I]:v[S],!(!w||w.v==null||w.t==="z")){switch(b=["cell",S,"t"],w.t){case"s":case"str":b.push(e(w.v));break;case"n":w.f?(b[2]="vtf",b[3]="n",b[4]=w.v,b[5]=e(w.f)):(b[2]="v",b[3]=w.v);break;case"b":b[2]="vt"+(w.f?"f":"c"),b[3]="nl",b[4]=w.v?"1":"0",b[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var Z=ls(Xi(w.v));b[2]="vtc",b[3]="nd",b[4]=""+Z,b[5]=w.w||Yl(w.z||Xr[14],Z);break;case"e":continue}_.push(b.join(":"))}return _.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function p(v){return[l,o,f,o,g(v),d].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:p}}(),WR=function(){function t(p,v,_,b,w){w.raw?v[_][b]=p:p===""||(p==="TRUE"?v[_][b]=!0:p==="FALSE"?v[_][b]=!1:isNaN(sl(p))?isNaN(_f(p).getDate())?v[_][b]=p:v[_][b]=Xi(p):v[_][b]=sl(p))}function e(p,v){var _=v||{},b=[];if(!p||p.length===0)return b;for(var w=p.split(/[\r\n]/),S=w.length-1;S>=0&&w[S].length===0;)--S;for(var T=10,A=0,j=0;j<=S;++j)A=w[j].indexOf(" "),A==-1?A=w[j].length:A++,T=Math.max(T,A);for(j=0;j<=S;++j){b[j]=[];var I=0;for(t(w[j].slice(0,T).trim(),b,j,I,_),I=1;I<=(w[j].length-T)/10+1;++I)t(w[j].slice(T+(I-1)*10,T+I*10).trim(),b,j,I,_)}return _.sheetRows&&(b=b.slice(0,_.sheetRows)),b}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(p){for(var v={},_=!1,b=0,w=0;b<p.length;++b)(w=p.charCodeAt(b))==34?_=!_:!_&&w in n&&(v[w]=(v[w]||0)+1);w=[];for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&w.push([v[b],b]);if(!w.length){v=r;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&w.push([v[b],b])}return w.sort(function(S,T){return S[0]-T[0]||r[S[1]]-r[T[1]]}),n[w.pop()[1]]||44}function l(p,v){var _=v||{},b="",w=_.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(b=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(b=p.charAt(4),p=p.slice(6)):b=i(p.slice(0,1024)):_&&_.FS?b=_.FS:b=i(p.slice(0,1024));var T=0,A=0,j=0,I=0,Z=0,Q=b.charCodeAt(0),Y=!1,L=0,U=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var q=_.dateNF!=null?aM(_.dateNF):null;function ie(){var xe=p.slice(I,Z),ue={};if(xe.charAt(0)=='"'&&xe.charAt(xe.length-1)=='"'&&(xe=xe.slice(1,-1).replace(/""/g,'"')),xe.length===0)ue.t="z";else if(_.raw)ue.t="s",ue.v=xe;else if(xe.trim().length===0)ue.t="s",ue.v=xe;else if(xe.charCodeAt(0)==61)xe.charCodeAt(1)==34&&xe.charCodeAt(xe.length-1)==34?(ue.t="s",ue.v=xe.slice(2,-1).replace(/""/g,'"')):Uj(xe)?(ue.t="n",ue.f=xe.slice(1)):(ue.t="s",ue.v=xe);else if(xe=="TRUE")ue.t="b",ue.v=!0;else if(xe=="FALSE")ue.t="b",ue.v=!1;else if(!isNaN(j=sl(xe)))ue.t="n",_.cellText!==!1&&(ue.w=xe),ue.v=j;else if(!isNaN(_f(xe).getDate())||q&&xe.match(q)){ue.z=_.dateNF||Xr[14];var De=0;q&&xe.match(q)&&(xe=lM(xe,_.dateNF,xe.match(q)||[]),De=1),_.cellDates?(ue.t="d",ue.v=Xi(xe,De)):(ue.t="n",ue.v=ls(Xi(xe,De))),_.cellText!==!1&&(ue.w=Yl(ue.z,ue.v instanceof Date?ls(ue.v):ue.v)),_.cellNF||delete ue.z}else ue.t="s",ue.v=xe;if(ue.t=="z"||(_.dense?(w[T]||(w[T]=[]),w[T][A]=ue):w[yr({c:A,r:T})]=ue),I=Z+1,U=p.charCodeAt(I),S.e.c<A&&(S.e.c=A),S.e.r<T&&(S.e.r=T),L==Q)++A;else if(A=0,++T,_.sheetRows&&_.sheetRows<=T)return!0}e:for(;Z<p.length;++Z)switch(L=p.charCodeAt(Z)){case 34:U===34&&(Y=!Y);break;case Q:case 10:case 13:if(!Y&&ie())break e;break}return Z-I>0&&ie(),w["!ref"]=ii(S),w}function o(p,v){return!(v&&v.PRN)||v.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?l(p,v):Wc(e(p,v),v)}function f(p,v){var _="",b=v.type=="string"?[0,0,0,0]:nP(p,v);switch(v.type){case"base64":_=cl(p);break;case"binary":_=p;break;case"buffer":v.codepage==65001?_=p.toString("utf8"):v.codepage&&typeof Hd<"u"||(_=or&&Buffer.isBuffer(p)?p.toString("binary"):Bf(p));break;case"array":_=k0(p);break;case"string":_=p;break;default:throw new Error("Unrecognized type "+v.type)}return b[0]==239&&b[1]==187&&b[2]==191?_=rf(_.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?_=rf(_):v.type=="binary"&&typeof Hd<"u",_.slice(0,19)=="socialcalc:version:"?TT.to_sheet(v.type=="string"?_:rf(_),v):o(_,v)}function d(p,v){return Lo(f(p,v),v)}function g(p){for(var v=[],_=Ir(p["!ref"]),b,w=Array.isArray(p),S=_.s.r;S<=_.e.r;++S){for(var T=[],A=_.s.c;A<=_.e.c;++A){var j=yr({r:S,c:A});if(b=w?(p[S]||[])[A]:p[j],!b||b.v==null){T.push("          ");continue}for(var I=(b.w||(ul(b),b.w)||"").slice(0,10);I.length<10;)I+=" ";T.push(I+(A===0?" ":""))}v.push(T.join(""))}return v.join(`
`)}return{to_workbook:d,to_sheet:f,from_sheet:g}}(),l2=function(){function t(H,K,P){if(H){ys(H,H.l||0);for(var G=P.Enum||D;H.l<H.length;){var oe=H.read_shift(2),Ne=G[oe]||G[65535],Ie=H.read_shift(2),Je=H.l+Ie,Ke=Ne.f&&Ne.f(H,Ie,P);if(H.l=Je,K(Ke,Ne,oe))return}}}function e(H,K){switch(K.type){case"base64":return n(na(cl(H)),K);case"binary":return n(na(H),K);case"buffer":case"array":return n(H,K)}throw"Unsupported type "+K.type}function n(H,K){if(!H)return H;var P=K||{},G=P.dense?[]:{},oe="Sheet1",Ne="",Ie=0,Je={},Ke=[],pn=[],Ft={s:{r:0,c:0},e:{r:0,c:0}},un=P.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)P.Enum=D,t(H,function(He,Ct,yn){switch(yn){case 0:P.vers=He,He>=4096&&(P.qpro=!0);break;case 6:Ft=He;break;case 204:He&&(Ne=He);break;case 222:Ne=He;break;case 15:case 51:P.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:yn==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=P.dateNF||Xr[14],P.cellDates&&(He[1].t="d",He[1].v=UE(He[1].v))),P.qpro&&He[3]>Ie&&(G["!ref"]=ii(Ft),Je[oe]=G,Ke.push(oe),G=P.dense?[]:{},Ft={s:{r:0,c:0},e:{r:0,c:0}},Ie=He[3],oe=Ne||"Sheet"+(Ie+1),Ne="");var mn=P.dense?(G[He[0].r]||[])[He[0].c]:G[yr(He[0])];if(mn){mn.t=He[1].t,mn.v=He[1].v,He[1].z!=null&&(mn.z=He[1].z),He[1].f!=null&&(mn.f=He[1].f);break}P.dense?(G[He[0].r]||(G[He[0].r]=[]),G[He[0].r][He[0].c]=He[1]):G[yr(He[0])]=He[1];break}},P);else if(H[2]==26||H[2]==14)P.Enum=J,H[2]==14&&(P.qpro=!0,H.l=0),t(H,function(He,Ct,yn){switch(yn){case 204:oe=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Ie&&(G["!ref"]=ii(Ft),Je[oe]=G,Ke.push(oe),G=P.dense?[]:{},Ft={s:{r:0,c:0},e:{r:0,c:0}},Ie=He[3],oe="Sheet"+(Ie+1)),un>0&&He[0].r>=un)break;P.dense?(G[He[0].r]||(G[He[0].r]=[]),G[He[0].r][He[0].c]=He[1]):G[yr(He[0])]=He[1],Ft.e.c<He[0].c&&(Ft.e.c=He[0].c),Ft.e.r<He[0].r&&(Ft.e.r=He[0].r);break;case 27:He[14e3]&&(pn[He[14e3][0]]=He[14e3][1]);break;case 1537:pn[He[0]]=He[1],He[0]==Ie&&(oe=He[1]);break}},P);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(G["!ref"]=ii(Ft),Je[Ne||oe]=G,Ke.push(Ne||oe),!pn.length)return{SheetNames:Ke,Sheets:Je};for(var Zt={},Bn=[],ft=0;ft<pn.length;++ft)Je[Ke[ft]]?(Bn.push(pn[ft]||Ke[ft]),Zt[pn[ft]]=Je[pn[ft]]||Je[Ke[ft]]):(Bn.push(pn[ft]),Zt[pn[ft]]={"!ref":"A1"});return{SheetNames:Bn,Sheets:Zt}}function r(H,K){var P=K||{};if(+P.codepage>=0&&yf(+P.codepage),P.type=="string")throw new Error("Cannot write WK1 to JS string");var G=rs(),oe=Ir(H["!ref"]),Ne=Array.isArray(H),Ie=[];Pt(G,0,l(1030)),Pt(G,6,d(oe));for(var Je=Math.min(oe.e.r,8191),Ke=oe.s.r;Ke<=Je;++Ke)for(var pn=Mi(Ke),Ft=oe.s.c;Ft<=oe.e.c;++Ft){Ke===oe.s.r&&(Ie[Ft]=Hi(Ft));var un=Ie[Ft]+pn,Zt=Ne?(H[Ke]||[])[Ft]:H[un];if(!(!Zt||Zt.t=="z"))if(Zt.t=="n")(Zt.v|0)==Zt.v&&Zt.v>=-32768&&Zt.v<=32767?Pt(G,13,b(Ke,Ft,Zt.v)):Pt(G,14,S(Ke,Ft,Zt.v));else{var Bn=ul(Zt);Pt(G,15,v(Ke,Ft,Bn.slice(0,239)))}}return Pt(G,1),G.end()}function i(H,K){var P=K||{};if(+P.codepage>=0&&yf(+P.codepage),P.type=="string")throw new Error("Cannot write WK3 to JS string");var G=rs();Pt(G,0,o(H));for(var oe=0,Ne=0;oe<H.SheetNames.length;++oe)(H.Sheets[H.SheetNames[oe]]||{})["!ref"]&&Pt(G,27,X(H.SheetNames[oe],Ne++));var Ie=0;for(oe=0;oe<H.SheetNames.length;++oe){var Je=H.Sheets[H.SheetNames[oe]];if(!(!Je||!Je["!ref"])){for(var Ke=Ir(Je["!ref"]),pn=Array.isArray(Je),Ft=[],un=Math.min(Ke.e.r,8191),Zt=Ke.s.r;Zt<=un;++Zt)for(var Bn=Mi(Zt),ft=Ke.s.c;ft<=Ke.e.c;++ft){Zt===Ke.s.r&&(Ft[ft]=Hi(ft));var He=Ft[ft]+Bn,Ct=pn?(Je[Zt]||[])[ft]:Je[He];if(!(!Ct||Ct.t=="z"))if(Ct.t=="n")Pt(G,23,ie(Zt,ft,Ie,Ct.v));else{var yn=ul(Ct);Pt(G,22,L(Zt,ft,Ie,yn.slice(0,239)))}}++Ie}}return Pt(G,1),G.end()}function l(H){var K=Xe(2);return K.write_shift(2,H),K}function o(H){var K=Xe(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var P=0,G=0,oe=0,Ne=0;Ne<H.SheetNames.length;++Ne){var Ie=H.SheetNames[Ne],Je=H.Sheets[Ie];if(!(!Je||!Je["!ref"])){++oe;var Ke=Ss(Je["!ref"]);P<Ke.e.r&&(P=Ke.e.r),G<Ke.e.c&&(G=Ke.e.c)}}return P>8191&&(P=8191),K.write_shift(2,P),K.write_shift(1,oe),K.write_shift(1,G),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function f(H,K,P){var G={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&P.qpro?(G.s.c=H.read_shift(1),H.l++,G.s.r=H.read_shift(2),G.e.c=H.read_shift(1),H.l++,G.e.r=H.read_shift(2),G):(G.s.c=H.read_shift(2),G.s.r=H.read_shift(2),K==12&&P.qpro&&(H.l+=2),G.e.c=H.read_shift(2),G.e.r=H.read_shift(2),K==12&&P.qpro&&(H.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function d(H){var K=Xe(8);return K.write_shift(2,H.s.c),K.write_shift(2,H.s.r),K.write_shift(2,H.e.c),K.write_shift(2,H.e.r),K}function g(H,K,P){var G=[{c:0,r:0},{t:"n",v:0},0,0];return P.qpro&&P.vers!=20768?(G[0].c=H.read_shift(1),G[3]=H.read_shift(1),G[0].r=H.read_shift(2),H.l+=2):(G[2]=H.read_shift(1),G[0].c=H.read_shift(2),G[0].r=H.read_shift(2)),G}function p(H,K,P){var G=H.l+K,oe=g(H,K,P);if(oe[1].t="s",P.vers==20768){H.l++;var Ne=H.read_shift(1);return oe[1].v=H.read_shift(Ne,"utf8"),oe}return P.qpro&&H.l++,oe[1].v=H.read_shift(G-H.l,"cstr"),oe}function v(H,K,P){var G=Xe(7+P.length);G.write_shift(1,255),G.write_shift(2,K),G.write_shift(2,H),G.write_shift(1,39);for(var oe=0;oe<G.length;++oe){var Ne=P.charCodeAt(oe);G.write_shift(1,Ne>=128?95:Ne)}return G.write_shift(1,0),G}function _(H,K,P){var G=g(H,K,P);return G[1].v=H.read_shift(2,"i"),G}function b(H,K,P){var G=Xe(7);return G.write_shift(1,255),G.write_shift(2,K),G.write_shift(2,H),G.write_shift(2,P,"i"),G}function w(H,K,P){var G=g(H,K,P);return G[1].v=H.read_shift(8,"f"),G}function S(H,K,P){var G=Xe(13);return G.write_shift(1,255),G.write_shift(2,K),G.write_shift(2,H),G.write_shift(8,P,"f"),G}function T(H,K,P){var G=H.l+K,oe=g(H,K,P);if(oe[1].v=H.read_shift(8,"f"),P.qpro)H.l=G;else{var Ne=H.read_shift(2);Z(H.slice(H.l,H.l+Ne),oe),H.l+=Ne}return oe}function A(H,K,P){var G=K&32768;return K&=-32769,K=(G?H:0)+(K>=8192?K-16384:K),(G?"":"$")+(P?Hi(K):Mi(K))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Z(H,K){ys(H,0);for(var P=[],G=0,oe="",Ne="",Ie="",Je="";H.l<H.length;){var Ke=H[H.l++];switch(Ke){case 0:P.push(H.read_shift(8,"f"));break;case 1:Ne=A(K[0].c,H.read_shift(2),!0),oe=A(K[0].r,H.read_shift(2),!1),P.push(Ne+oe);break;case 2:{var pn=A(K[0].c,H.read_shift(2),!0),Ft=A(K[0].r,H.read_shift(2),!1);Ne=A(K[0].c,H.read_shift(2),!0),oe=A(K[0].r,H.read_shift(2),!1),P.push(pn+Ft+":"+Ne+oe)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:P.push("("+P.pop()+")");break;case 5:P.push(H.read_shift(2));break;case 6:{for(var un="";Ke=H[H.l++];)un+=String.fromCharCode(Ke);P.push('"'+un.replace(/"/g,'""')+'"')}break;case 8:P.push("-"+P.pop());break;case 23:P.push("+"+P.pop());break;case 22:P.push("NOT("+P.pop()+")");break;case 20:case 21:Je=P.pop(),Ie=P.pop(),P.push(["AND","OR"][Ke-20]+"("+Ie+","+Je+")");break;default:if(Ke<32&&I[Ke])Je=P.pop(),Ie=P.pop(),P.push(Ie+I[Ke]+Je);else if(j[Ke]){if(G=j[Ke][1],G==69&&(G=H[H.l++]),G>P.length){console.error("WK1 bad formula parse 0x"+Ke.toString(16)+":|"+P.join("|")+"|");return}var Zt=P.slice(-G);P.length-=G,P.push(j[Ke][0]+"("+Zt.join(",")+")")}else return Ke<=7?console.error("WK1 invalid opcode "+Ke.toString(16)):Ke<=24?console.error("WK1 unsupported op "+Ke.toString(16)):Ke<=30?console.error("WK1 invalid opcode "+Ke.toString(16)):Ke<=115?console.error("WK1 unsupported function opcode "+Ke.toString(16)):console.error("WK1 unrecognized opcode "+Ke.toString(16))}}P.length==1?K[1].f=""+P[0]:console.error("WK1 bad formula parse |"+P.join("|")+"|")}function Q(H){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=H.read_shift(2),K[3]=H[H.l++],K[0].c=H[H.l++],K}function Y(H,K){var P=Q(H);return P[1].t="s",P[1].v=H.read_shift(K-4,"cstr"),P}function L(H,K,P,G){var oe=Xe(6+G.length);oe.write_shift(2,H),oe.write_shift(1,P),oe.write_shift(1,K),oe.write_shift(1,39);for(var Ne=0;Ne<G.length;++Ne){var Ie=G.charCodeAt(Ne);oe.write_shift(1,Ie>=128?95:Ie)}return oe.write_shift(1,0),oe}function U(H,K){var P=Q(H);P[1].v=H.read_shift(2);var G=P[1].v>>1;if(P[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return P[1].v=G,P}function q(H,K){var P=Q(H),G=H.read_shift(4),oe=H.read_shift(4),Ne=H.read_shift(2);if(Ne==65535)return G===0&&oe===3221225472?(P[1].t="e",P[1].v=15):G===0&&oe===3489660928?(P[1].t="e",P[1].v=42):P[1].v=0,P;var Ie=Ne&32768;return Ne=(Ne&32767)-16446,P[1].v=(1-Ie*2)*(oe*Math.pow(2,Ne+32)+G*Math.pow(2,Ne)),P}function ie(H,K,P,G){var oe=Xe(14);if(oe.write_shift(2,H),oe.write_shift(1,P),oe.write_shift(1,K),G==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Ne=0,Ie=0,Je=0,Ke=0;return G<0&&(Ne=1,G=-G),Ie=Math.log2(G)|0,G/=Math.pow(2,Ie-31),Ke=G>>>0,(Ke&2147483648)==0&&(G/=2,++Ie,Ke=G>>>0),G-=Ke,Ke|=2147483648,Ke>>>=0,G*=Math.pow(2,32),Je=G>>>0,oe.write_shift(4,Je),oe.write_shift(4,Ke),Ie+=16383+(Ne?32768:0),oe.write_shift(2,Ie),oe}function xe(H,K){var P=q(H);return H.l+=K-14,P}function ue(H,K){var P=Q(H),G=H.read_shift(4);return P[1].v=G>>6,P}function De(H,K){var P=Q(H),G=H.read_shift(8,"f");return P[1].v=G,P}function We(H,K){var P=De(H);return H.l+=K-10,P}function Ye(H,K){return H[H.l+K-1]==0?H.read_shift(K,"cstr"):""}function ee(H,K){var P=H[H.l++];P>K-1&&(P=K-1);for(var G="";G.length<P;)G+=String.fromCharCode(H[H.l++]);return G}function Pe(H,K,P){if(!(!P.qpro||K<21)){var G=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var oe=H.read_shift(K-21,"cstr");return[G,oe]}}function Fe(H,K){for(var P={},G=H.l+K;H.l<G;){var oe=H.read_shift(2);if(oe==14e3){for(P[oe]=[0,""],P[oe][0]=H.read_shift(2);H[H.l];)P[oe][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return P}function X(H,K){var P=Xe(5+H.length);P.write_shift(2,14e3),P.write_shift(2,K);for(var G=0;G<H.length;++G){var oe=H.charCodeAt(G);P[P.l++]=oe>127?95:oe}return P[P.l++]=0,P}var D={0:{n:"BOF",f:bT},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ye},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Y},23:{n:"NUMBER17",f:q},24:{n:"NUMBER18",f:U},25:{n:"FORMULA19",f:xe},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Fe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:ue},38:{n:"??"},39:{n:"NUMBER27",f:De},40:{n:"FORMULA28",f:We},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ye},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Pe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),VR=/^\s|\s$|[\t\n\r]/;function kT(t,e){if(!e.bookSST)return"";var n=[si];n[n.length]=Rt("sst",null,{xmlns:$c[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],l="<si>";i.r?l+=i.r:(l+="<t",i.t||(i.t=""),i.t.match(VR)&&(l+=' xml:space="preserve"'),l+=">"+vr(i.t)+"</t>"),l+="</si>",n[n.length]=l}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function YR(t){return[t.read_shift(4),t.read_shift(4)]}function GR(t,e){return e||(e=Xe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var qR=FM;function XR(t){var e=rs();pt(e,159,GR(t));for(var n=0;n<t.length;++n)pt(e,19,qR(t[n]));return pt(e,160),e.end()}function JR(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function CT(t){var e=0,n,r=JR(t),i=r.length+1,l,o,f,d,g;for(n=To(i),n[0]=r.length,l=1;l!=i;++l)n[l]=r[l-1];for(l=i-1;l>=0;--l)o=n[l],f=(e&16384)===0?0:1,d=e<<1&32767,g=f|d,e=g^o;return e^52811}var KR=function(){function t(i,l){switch(l.type){case"base64":return e(cl(i),l);case"binary":return e(i,l);case"buffer":return e(or&&Buffer.isBuffer(i)?i.toString("binary"):Bf(i),l);case"array":return e(k0(i),l)}throw new Error("Unrecognized type "+l.type)}function e(i,l){var o=l||{},f=o.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var g={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,v){Array.isArray(f)&&(f[v]=[]);for(var _=/\\\w+\b/g,b=0,w,S=-1;w=_.exec(p);){switch(w[0]){case"\\cell":var T=p.slice(b,_.lastIndex-w[0].length);if(T[0]==" "&&(T=T.slice(1)),++S,T.length){var A={v:T,t:"s"};Array.isArray(f)?f[v][S]=A:f[yr({r:v,c:S})]=A}break}b=_.lastIndex}S>g.e.c&&(g.e.c=S)}),f["!ref"]=ii(g),f}function n(i,l){return Lo(t(i,l),l)}function r(i){for(var l=["{\\rtf1\\ansi"],o=Ir(i["!ref"]),f,d=Array.isArray(i),g=o.s.r;g<=o.e.r;++g){l.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)l.push("\\cellx"+(p+1));for(l.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var v=yr({r:g,c:p});f=d?(i[g]||[])[p]:i[v],!(!f||f.v==null&&(!f.f||f.F))&&(l.push(" "+(f.w||(ul(f),f.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function o2(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var ZR=6,al=ZR;function Jd(t){return Math.floor((t+Math.round(128/al)/256)*al)}function Kd(t){return Math.floor((t-5)/al*100+.5)/100}function nx(t){return Math.round((t*al+5)/al*256)/256}function h1(t){t.width?(t.wpx=Jd(t.width),t.wch=Kd(t.wpx),t.MDW=al):t.wpx?(t.wch=Kd(t.wpx),t.width=nx(t.wch),t.MDW=al):typeof t.wch=="number"&&(t.width=nx(t.wch),t.wpx=Jd(t.width),t.MDW=al),t.customWidth&&delete t.customWidth}var QR=96,NT=QR;function Zd(t){return t*96/NT}function OT(t){return t*NT/96}function ej(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Rt("numFmt",null,{numFmtId:r,formatCode:vr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Rt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function tj(t){var e=[];return e[e.length]=Rt("cellXfs",null),t.forEach(function(n){e[e.length]=Rt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Rt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function AT(t,e){var n=[si,Rt("styleSheet",null,{xmlns:$c[0],"xmlns:vt":bi.vt})],r;return t.SSF&&(r=ej(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=tj(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function nj(t,e){var n=t.read_shift(2),r=Ui(t);return[n,r]}function rj(t,e,n){n||(n=Xe(6+4*e.length)),n.write_shift(2,t),Si(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function ij(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=VM(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var l=t.read_shift(2);switch(l===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var f=t.read_shift(1);f>0&&(r.family=f);var d=t.read_shift(1);switch(d>0&&(r.charset=d),t.l++,r.color=WM(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ui(t),r}function sj(t,e){e||(e=Xe(25+4*32)),e.write_shift(2,t.sz*20),YM(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),qd(t.color,e);var r=0;return r=2,e.write_shift(1,r),Si(t.name,e),e.length>e.l?e.slice(0,e.l):e}var aj=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rm,lj=Oa;function c2(t,e){e||(e=Xe(4*3+8*7+16*1)),rm||(rm=e1(aj));var n=rm[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(qd({auto:1},e),qd({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function oj(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function DT(t,e,n){n||(n=Xe(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Hu(t,e){return e||(e=Xe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var cj=Oa;function uj(t,e){return e||(e=Xe(51)),e.write_shift(1,0),Hu(null,e),Hu(null,e),Hu(null,e),Hu(null,e),Hu(null,e),e.length>e.l?e.slice(0,e.l):e}function fj(t,e){return e||(e=Xe(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Gd(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function hj(t,e,n){var r=Xe(2052);return r.write_shift(4,t),Gd(e,r),Gd(n,r),r.length>r.l?r.slice(0,r.l):r}function dj(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(pt(t,615,aa(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&pt(t,44,rj(i,e[i]))}),pt(t,616))}}function gj(t){var e=1;pt(t,611,aa(e)),pt(t,43,sj({sz:12,color:{theme:1},name:"Calibri",family:2})),pt(t,612)}function pj(t){var e=2;pt(t,603,aa(e)),pt(t,45,c2({patternType:"none"})),pt(t,45,c2({patternType:"gray125"})),pt(t,604)}function mj(t){var e=1;pt(t,613,aa(e)),pt(t,46,uj()),pt(t,614)}function xj(t){var e=1;pt(t,626,aa(e)),pt(t,47,DT({numFmtId:0},65535)),pt(t,627)}function vj(t,e){pt(t,617,aa(e.length)),e.forEach(function(n){pt(t,47,DT(n,0))}),pt(t,618)}function yj(t){var e=1;pt(t,619,aa(e)),pt(t,48,fj({xfId:0,name:"Normal"})),pt(t,620)}function bj(t){var e=0;pt(t,505,aa(e)),pt(t,506)}function _j(t){var e=0;pt(t,508,hj(e,"TableStyleMedium9","PivotStyleMedium4")),pt(t,509)}function Sj(t,e){var n=rs();return pt(n,278),dj(n,t.SSF),gj(n),pj(n),mj(n),xj(n),vj(n,e.cellXfs),yj(n),bj(n),_j(n),pt(n,279),n.end()}function MT(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[si];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function wj(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ui(t)}}function Ej(t){var e=Xe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Si(t.name,e),e.slice(0,e.l)}function Tj(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function kj(t){var e=Xe(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function Cj(t,e){var n=Xe(8+2*e.length);return n.write_shift(4,t),Si(e,n),n.slice(0,n.l)}function Nj(t){return t.l+=4,t.read_shift(4)!=0}function Oj(t,e){var n=Xe(8);return n.write_shift(4,t),n.write_shift(4,1),n}function Aj(){var t=rs();return pt(t,332),pt(t,334,aa(1)),pt(t,335,Ej({name:"XLDAPR",version:12e4,flags:3496657072})),pt(t,336),pt(t,339,Cj(1,"XLDAPR")),pt(t,52),pt(t,35,aa(514)),pt(t,4096,aa(0)),pt(t,4097,Bs(1)),pt(t,36),pt(t,53),pt(t,340),pt(t,337,Oj(1)),pt(t,51,kj([[1,0]])),pt(t,338),pt(t,333),t.end()}function RT(){var t=[si];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Dj(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=yr(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var wc=1024;function jT(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Rt("xml",null,{"xmlns:v":bs.v,"xmlns:o":bs.o,"xmlns:x":bs.x,"xmlns:mv":bs.mv}).replace(/\/>/,">"),Rt("o:shapelayout",Rt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Rt("v:shapetype",[Rt("v:stroke",null,{joinstyle:"miter"}),Rt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];wc<t*1e3;)wc+=1e3;return e.forEach(function(l){var o=_i(l[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var d=f.type=="gradient"?Rt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,g=Rt("v:fill",d,f),p={on:"t",obscured:"t"};++wc,i=i.concat(["<v:shape"+wf({id:"_x0000_s"+wc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",g,Rt("v:shadow",null,p),Rt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Di("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Di("x:AutoFill","False"),Di("x:Row",String(o.r)),Di("x:Column",String(o.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function LT(t){var e=[si,Rt("comments",null,{xmlns:$c[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var l=vr(i.a);n.indexOf(l)==-1&&(n.push(l),e.push("<author>"+l+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,l=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(i=n.indexOf(vr(d.a))),l.push(d.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),l.length<=1)e.push(Di("t",vr(l[0]||"")));else{for(var o=`Comment:
    `+l[0]+`
`,f=1;f<l.length;++f)o+=`Reply:
    `+l[f]+`
`;e.push(Di("t",vr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Mj(t,e,n){var r=[si,Rt("ThreadedComments",null,{xmlns:bi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var l="";(i[1]||[]).forEach(function(o,f){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};f==0?l=d.id:d.parentId=l,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Rt("threadedComment",Di("text",o.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function Rj(t){var e=[si,Rt("personList",null,{xmlns:bi.TCMNT,"xmlns:x":$c[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Rt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function jj(t){var e={};e.iauthor=t.read_shift(4);var n=zo(t);return e.rfx=n.s,e.ref=yr(n.s),t.l+=16,e}function Lj(t,e){return e==null&&(e=Xe(36)),e.write_shift(4,t[1].iauthor),Vc(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Ij=Ui;function Pj(t){return Si(t.slice(0,54))}function Fj(t){var e=rs(),n=[];return pt(e,628),pt(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),pt(e,632,Pj(i.a)))})}),pt(e,631),pt(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var l={s:_i(r[0]),e:_i(r[0])};pt(e,635,Lj([l,i])),i.t&&i.t.length>0&&pt(e,637,BM(i)),pt(e,636),delete i.iauthor})}),pt(e,634),pt(e,629),e.end()}function zj(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Cr.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var IT=["xlsb","xlsm","xlam","biff8","xla"],Bj=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,l,o){var f=!1,d=!1;l.length==0?d=!0:l.charAt(0)=="["&&(d=!0,l=l.slice(1,-1)),o.length==0?f=!0:o.charAt(0)=="["&&(f=!0,o=o.slice(1,-1));var g=l.length>0?parseInt(l,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return f?p+=e.c:--p,d?g+=e.r:--g,i+(f?"":"$")+Hi(p)+(d?"":"$")+Mi(g)}return function(i,l){return e=l,i.replace(t,n)}}(),d1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,g1=function(){return function(e,n){return e.replace(d1,function(r,i,l,o,f,d){var g=l1(o)-(l?0:n.c),p=a1(d)-(f?0:n.r),v=p==0?"":f?p+1:"["+p+"]",_=g==0?"":l?g+1:"["+g+"]";return i+"R"+v+"C"+_})}}();function Hj(t,e){return t.replace(d1,function(n,r,i,l,o,f){return r+(i=="$"?i+l:Hi(l1(l)+e.c))+(o=="$"?o+f:Mi(a1(f)+e.r))})}function Uj(t){return t.length!=1}function ri(t){t.l+=1}function Gl(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function PT(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return FT(t);n.biff==12&&(r=4)}var i=t.read_shift(r),l=t.read_shift(r),o=Gl(t),f=Gl(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:l,c:f[0],cRel:f[1],rRel:f[2]}}}function FT(t){var e=Gl(t),n=Gl(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function $j(t,e,n){if(n.biff<8)return FT(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),l=Gl(t),o=Gl(t);return{s:{r,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function zT(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return Wj(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Gl(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Wj(t){var e=Gl(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function Vj(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Yj(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Gj(t);var i=t.read_shift(r>=12?4:2),l=t.read_shift(2),o=(l&16384)>>14,f=(l&32768)>>15;if(l&=16383,f==1)for(;i>524287;)i-=1048576;if(o==1)for(;l>8191;)l=l-16384;return{r:i,c:l,cRel:o,rRel:f}}function Gj(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function qj(t,e,n){var r=(t[t.l++]&96)>>5,i=PT(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Xj(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),l=8;if(n)switch(n.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}var o=PT(t,l,n);return[r,i,o]}function Jj(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Kj(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),l=8;if(n)switch(n.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}return t.l+=l,[r,i]}function Zj(t,e,n){var r=(t[t.l++]&96)>>5,i=$j(t,e-1,n);return[r,i]}function Qj(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function u2(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function e8(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],l=0;l<=r;++l)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function t8(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function n8(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function r8(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function i8(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function BT(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function s8(t){return t.read_shift(2),BT(t)}function a8(t){return t.read_shift(2),BT(t)}function l8(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=zT(t,0,n);return[r,i]}function o8(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=Yj(t,0,n);return[r,i]}function c8(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var l=zT(t,0,n);return[r,i,l]}function u8(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[uL[i],$T[i],r]}function f8(t,e,n){var r=t[t.l++],i=t.read_shift(1),l=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:h8(t);return[i,(l[0]===0?$T:cL)[l[1]]]}function h8(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function d8(t,e,n){t.l+=n&&n.biff==2?3:4}function g8(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function p8(t){return t.l++,$f[t.read_shift(1)]}function m8(t){return t.l++,t.read_shift(2)}function x8(t){return t.l++,t.read_shift(1)!==0}function v8(t){return t.l++,Yc(t)}function y8(t,e,n){return t.l++,ST(t,e-1,n)}function b8(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=cR(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=$f[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Yc(t);break;case 2:n[1]=dR(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function _8(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],l=0;l!=r;++l)i.push((n.biff==12?zo:mR)(t));return i}function S8(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var l=0,o=[];l!=r&&(o[l]=[]);++l)for(var f=0;f!=i;++f)o[l][f]=b8(t,n.biff);return o}function w8(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,l=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,l]}function E8(t,e,n){if(n.biff==5)return T8(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),l=t.read_shift(4);return[r,i,l]}function T8(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function k8(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function C8(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function N8(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function O8(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),l=4;if(n)switch(n.biff){case 5:l=15;break;case 12:l=6;break}return t.l+=l,[r,i]}var A8=Oa,D8=Oa,M8=Oa;function Wf(t,e,n){return t.l+=2,[Vj(t)]}function p1(t){return t.l+=6,[]}var R8=Wf,j8=p1,L8=p1,I8=Wf;function HT(t){return t.l+=2,[bT(t),t.read_shift(2)&1]}var P8=Wf,F8=HT,z8=p1,B8=Wf,H8=Wf,U8=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $8(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),l=t.read_shift(2),o=U8[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:l}}function W8(t){return t.l+=2,[t.read_shift(4)]}function V8(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function Y8(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function G8(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function q8(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function X8(t){return t.l+=4,[0,0]}var f2={1:{n:"PtgExp",f:g8},2:{n:"PtgTbl",f:M8},3:{n:"PtgAdd",f:ri},4:{n:"PtgSub",f:ri},5:{n:"PtgMul",f:ri},6:{n:"PtgDiv",f:ri},7:{n:"PtgPower",f:ri},8:{n:"PtgConcat",f:ri},9:{n:"PtgLt",f:ri},10:{n:"PtgLe",f:ri},11:{n:"PtgEq",f:ri},12:{n:"PtgGe",f:ri},13:{n:"PtgGt",f:ri},14:{n:"PtgNe",f:ri},15:{n:"PtgIsect",f:ri},16:{n:"PtgUnion",f:ri},17:{n:"PtgRange",f:ri},18:{n:"PtgUplus",f:ri},19:{n:"PtgUminus",f:ri},20:{n:"PtgPercent",f:ri},21:{n:"PtgParen",f:ri},22:{n:"PtgMissArg",f:ri},23:{n:"PtgStr",f:y8},26:{n:"PtgSheet",f:V8},27:{n:"PtgEndSheet",f:Y8},28:{n:"PtgErr",f:p8},29:{n:"PtgBool",f:x8},30:{n:"PtgInt",f:m8},31:{n:"PtgNum",f:v8},32:{n:"PtgArray",f:Qj},33:{n:"PtgFunc",f:u8},34:{n:"PtgFuncVar",f:f8},35:{n:"PtgName",f:w8},36:{n:"PtgRef",f:l8},37:{n:"PtgArea",f:qj},38:{n:"PtgMemArea",f:k8},39:{n:"PtgMemErr",f:A8},40:{n:"PtgMemNoMem",f:D8},41:{n:"PtgMemFunc",f:C8},42:{n:"PtgRefErr",f:N8},43:{n:"PtgAreaErr",f:Jj},44:{n:"PtgRefN",f:o8},45:{n:"PtgAreaN",f:Zj},46:{n:"PtgMemAreaN",f:G8},47:{n:"PtgMemNoMemN",f:q8},57:{n:"PtgNameX",f:E8},58:{n:"PtgRef3d",f:c8},59:{n:"PtgArea3d",f:Xj},60:{n:"PtgRefErr3d",f:O8},61:{n:"PtgAreaErr3d",f:Kj},255:{}},J8={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},K8={1:{n:"PtgElfLel",f:HT},2:{n:"PtgElfRw",f:B8},3:{n:"PtgElfCol",f:R8},6:{n:"PtgElfRwV",f:H8},7:{n:"PtgElfColV",f:I8},10:{n:"PtgElfRadical",f:P8},11:{n:"PtgElfRadicalS",f:z8},13:{n:"PtgElfColS",f:j8},15:{n:"PtgElfColSV",f:L8},16:{n:"PtgElfRadicalLel",f:F8},25:{n:"PtgList",f:$8},29:{n:"PtgSxName",f:W8},255:{}},Z8={0:{n:"PtgAttrNoop",f:X8},1:{n:"PtgAttrSemi",f:i8},2:{n:"PtgAttrIf",f:n8},4:{n:"PtgAttrChoose",f:e8},8:{n:"PtgAttrGoto",f:t8},16:{n:"PtgAttrSum",f:d8},32:{n:"PtgAttrBaxcel",f:u2},33:{n:"PtgAttrBaxcel",f:u2},64:{n:"PtgAttrSpace",f:s8},65:{n:"PtgAttrSpaceSemi",f:a8},128:{n:"PtgAttrIfError",f:r8},255:{}};function Q8(t,e,n,r){if(r.biff<8)return Oa(t,e);for(var i=t.l+e,l=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=S8(t,0,r),l.push(n[o][1]);break;case"PtgMemArea":n[o][2]=_8(t,n[o][1],r),l.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),l.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&l.push(Oa(t,e)),l}function eL(t,e,n){for(var r=t.l+e,i,l,o=[];r!=t.l;)e=r-t.l,l=t[t.l],i=f2[l]||f2[J8[l]],(l===24||l===25)&&(i=(l===24?K8:Z8)[t[t.l+1]]),!i||!i.f?Oa(t,e):o.push([i.n,i.f(t,e,n)]);return o}function tL(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],l=0;l<r.length;++l){var o=r[l];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var nL={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function rL(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function UT(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function h2(t,e,n){var r=UT(t,e,n);return r=="#REF"?r:rL(r,n)}function jc(t,e,n,r,i){var l=i&&i.biff||8,o={s:{c:0,r:0}},f=[],d,g,p,v=0,_=0,b,w="";if(!t[0]||!t[0][0])return"";for(var S=-1,T="",A=0,j=t[0].length;A<j;++A){var I=t[0][A];switch(I[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=f.pop(),g=f.pop(),S>=0){switch(t[0][S][1][0]){case 0:T=qr(" ",t[0][S][1][1]);break;case 1:T=qr("\r",t[0][S][1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}g=g+T,S=-1}f.push(g+nL[I[0]]+d);break;case"PtgIsect":d=f.pop(),g=f.pop(),f.push(g+" "+d);break;case"PtgUnion":d=f.pop(),g=f.pop(),f.push(g+","+d);break;case"PtgRange":d=f.pop(),g=f.pop(),f.push(g+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=af(I[1][1],o,i),f.push(lf(p,l));break;case"PtgRefN":p=n?af(I[1][1],n,i):I[1][1],f.push(lf(p,l));break;case"PtgRef3d":v=I[1][1],p=af(I[1][2],o,i),w=h2(r,v,i),f.push(w+"!"+lf(p,l));break;case"PtgFunc":case"PtgFuncVar":var Z=I[1][0],Q=I[1][1];Z||(Z=0),Z&=127;var Y=Z==0?[]:f.slice(-Z);f.length-=Z,Q==="User"&&(Q=Y.shift()),f.push(Q+"("+Y.join(",")+")");break;case"PtgBool":f.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(I[1]);break;case"PtgNum":f.push(String(I[1]));break;case"PtgStr":f.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(I[1]);break;case"PtgAreaN":b=J_(I[1][1],n?{s:n}:o,i),f.push(tm(b,i));break;case"PtgArea":b=J_(I[1][1],o,i),f.push(tm(b,i));break;case"PtgArea3d":v=I[1][1],b=I[1][2],w=h2(r,v,i),f.push(w+"!"+tm(b,i));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=I[1][2];var L=(r.names||[])[_-1]||(r[0]||[])[_],U=L?L.Name:"SH33TJSNAME"+String(_);U&&U.slice(0,6)=="_xlfn."&&!i.xlfn&&(U=U.slice(6)),f.push(U);break;case"PtgNameX":var q=I[1][1];_=I[1][2];var ie;if(i.biff<=5)q<0&&(q=-q),r[q]&&(ie=r[q][_]);else{var xe="";if(((r[q]||[])[0]||[])[0]==14849||(((r[q]||[])[0]||[])[0]==1025?r[q][_]&&r[q][_].itab>0&&(xe=r.SheetNames[r[q][_].itab-1]+"!"):xe=r.SheetNames[_-1]+"!"),r[q]&&r[q][_])xe+=r[q][_].Name;else if(r[0]&&r[0][_])xe+=r[0][_].Name;else{var ue=(UT(r,q,i)||"").split(";;");ue[_-1]?xe=ue[_-1]:xe+="SH33TJSERRX"}f.push(xe);break}ie||(ie={Name:"SH33TJSERRY"}),f.push(ie.Name);break;case"PtgParen":var De="(",We=")";if(S>=0){switch(T="",t[0][S][1][0]){case 2:De=qr(" ",t[0][S][1][1])+De;break;case 3:De=qr("\r",t[0][S][1][1])+De;break;case 4:We=qr(" ",t[0][S][1][1])+We;break;case 5:We=qr("\r",t[0][S][1][1])+We;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}f.push(De+f.pop()+We);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":p={c:I[1][1],r:I[1][0]};var Ye={c:n.c,r:n.r};if(r.sharedf[yr(p)]){var ee=r.sharedf[yr(p)];f.push(jc(ee,o,Ye,r,i))}else{var Pe=!1;for(d=0;d!=r.arrayf.length;++d)if(g=r.arrayf[d],!(p.c<g[0].s.c||p.c>g[0].e.c)&&!(p.r<g[0].s.r||p.r>g[0].e.r)){f.push(jc(g[1],o,Ye,r,i)),Pe=!0;break}Pe||f.push(I[1])}break;case"PtgArray":f.push("{"+tL(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var Fe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&S>=0&&Fe.indexOf(t[0][A][0])==-1){I=t[0][S];var X=!0;switch(I[1][0]){case 4:X=!1;case 0:T=qr(" ",I[1][1]);break;case 5:X=!1;case 1:T=qr("\r",I[1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}f.push((X?T:"")+f.pop()+(X?"":T)),S=-1}}if(f.length>1&&i.WTF)throw new Error("bad formula stack");return f[0]}function iL(t){if(t==null){var e=Xe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ko(t);return ko(0)}function sL(t,e,n,r,i){var l=Co(e,n,i),o=iL(t.v),f=Xe(6),d=33;f.write_shift(2,d),f.write_shift(4,0);for(var g=Xe(t.bf.length),p=0;p<t.bf.length;++p)g[p]=t.bf[p];var v=Ai([l,o,f,g]);return v}function C0(t,e,n){var r=t.read_shift(4),i=eL(t,r,n),l=t.read_shift(4),o=l>0?Q8(t,l,i,n):null;return[i,o]}var aL=C0,N0=C0,lL=C0,oL=C0,cL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$T={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},uL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function fL(t){var e="of:="+t.replace(d1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function hL(t){return t.replace(/\./,"!")}var of=typeof Map<"u";function m1(t,e,n){var r=0,i=t.length;if(n){if(of?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var l=of?n.get(e):n[e];r<l.length;++r)if(t[l[r]].t===e)return t.Count++,l[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(of?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function O0(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(al=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Kd(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=nx(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function WT(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Jl(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,l=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){zE(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=l;++i)if(t[i].numFmtId===r)return i;return t[l]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function dL(t,e,n){if(t&&t["!ref"]){var r=Ir(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function gL(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+ii(t[n])+'"/>';return e+"</mergeCells>"}function pL(t,e,n,r,i){var l=!1,o={},f=null;if(r.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[n];try{e.Workbook&&(d=e.Workbook.Sheets[n].CodeName||d)}catch{}l=!0,o.codeName=Sf(vr(d))}if(t&&t["!outline"]){var g={summaryBelow:1,summaryRight:1};t["!outline"].above&&(g.summaryBelow=0),t["!outline"].left&&(g.summaryRight=0),f=(f||"")+Rt("outlinePr",null,g)}!l&&!f||(i[i.length]=Rt("sheetPr",f,o))}var mL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],xL=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function vL(t){var e={sheet:1};return mL.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),xL.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=CT(t.password).toString(16).toUpperCase()),Rt("sheetProtection",null,e)}function yL(t){return WT(t),Rt("pageMargins",null,t)}function bL(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Rt("col",null,O0(i,r)));return n[n.length]="</cols>",n.join("")}function _L(t,e,n,r){var i=typeof t.ref=="string"?t.ref:ii(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,o=Ss(i);o.s.r==o.e.r&&(o.e.r=Ss(e["!ref"]).e.r,i=ii(o));for(var f=0;f<l.length;++f){var d=l[f];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Rt("autoFilter",null,{ref:i})}function SL(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Rt("sheetViews",Rt("sheetView",null,i),{})}function wL(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",l=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=$f[t.v];break;case"d":r&&r.cellDates?i=Xi(t.v,-1).toISOString():(t=os(t),t.t="n",i=""+(t.v=ls(Xi(t.v)))),typeof t.z>"u"&&(t.z=Xr[14]);break;default:i=t.v;break}var f=Di("v",vr(i)),d={r:e},g=Jl(r.cellXfs,t,r);switch(g!==0&&(d.s=g),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){f=Di("v",""+m1(r.Strings,t.v,r.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=l&&(t.t=l,t.v=o),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;f=Rt("f",vr(t.f),p)+(t.v!=null?f:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(d.cm=1),Rt("c",f,d)}function EL(t,e,n,r){var i=[],l=[],o=Ir(t["!ref"]),f="",d,g="",p=[],v=0,_=0,b=t["!rows"],w=Array.isArray(t),S={r:g},T,A=-1;for(_=o.s.c;_<=o.e.c;++_)p[_]=Hi(_);for(v=o.s.r;v<=o.e.r;++v){for(l=[],g=Mi(v),_=o.s.c;_<=o.e.c;++_){d=p[_]+g;var j=w?(t[v]||[])[_]:t[d];j!==void 0&&(f=wL(j,d,t,e))!=null&&l.push(f)}(l.length>0||b&&b[v])&&(S={r:g},b&&b[v]&&(T=b[v],T.hidden&&(S.hidden=1),A=-1,T.hpx?A=Zd(T.hpx):T.hpt&&(A=T.hpt),A>-1&&(S.ht=A,S.customHeight=1),T.level&&(S.outlineLevel=T.level)),i[i.length]=Rt("row",l.join(""),S))}if(b)for(;v<b.length;++v)b&&b[v]&&(S={r:v+1},T=b[v],T.hidden&&(S.hidden=1),A=-1,T.hpx?A=Zd(T.hpx):T.hpt&&(A=T.hpt),A>-1&&(S.ht=A,S.customHeight=1),T.level&&(S.outlineLevel=T.level),i[i.length]=Rt("row","",S));return i.join("")}function VT(t,e,n,r){var i=[si,Rt("worksheet",null,{xmlns:$c[0],"xmlns:r":bi.r})],l=n.SheetNames[t],o=0,f="",d=n.Sheets[l];d==null&&(d={});var g=d["!ref"]||"A1",p=Ir(g);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+g+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),g=ii(p)}r||(r={}),d["!comments"]=[];var v=[];pL(d,n,t,e,i),i[i.length]=Rt("dimension",null,{ref:g}),i[i.length]=SL(d,e,t,n),e.sheetFormat&&(i[i.length]=Rt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=bL(d,d["!cols"])),i[o=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(f=EL(d,e),f.length>0&&(i[i.length]=f)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),d["!protect"]&&(i[i.length]=vL(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=_L(d["!autofilter"],d,n,t)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=gL(d["!merges"]));var _=-1,b,w=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(S){S[1].Target&&(b={ref:S[0]},S[1].Target.charAt(0)!="#"&&(w=xr(r,-1,vr(S[1].Target).replace(/#.*$/,""),nr.HLINK),b["r:id"]="rId"+w),(_=S[1].Target.indexOf("#"))>-1&&(b.location=vr(S[1].Target.slice(_+1))),S[1].Tooltip&&(b.tooltip=vr(S[1].Tooltip)),i[i.length]=Rt("hyperlink",null,b))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=yL(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Di("ignoredErrors",Rt("ignoredError",null,{numberStoredAsText:1,sqref:g}))),v.length>0&&(w=xr(r,-1,"../drawings/drawing"+(t+1)+".xml",nr.DRAW),i[i.length]=Rt("drawing",null,{"r:id":"rId"+w}),d["!drawing"]=v),d["!comments"].length>0&&(w=xr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",nr.VML),i[i.length]=Rt("legacyDrawing",null,{"r:id":"rId"+w}),d["!legacy"]=w),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function TL(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var l=t.read_shift(1);return t.l=r,l&7&&(n.level=l&7),l&16&&(n.hidden=!0),l&32&&(n.hpt=i/20),n}function kL(t,e,n){var r=Xe(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var l=320;i.hpx?l=Zd(i.hpx)*20:i.hpt&&(l=i.hpt*20),r.write_shift(2,l),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var f=0,d=r.l;r.l+=4;for(var g={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var v=-1,_=-1,b=p<<10;b<p+1<<10;++b){g.c=b;var w=Array.isArray(n)?(n[g.r]||[])[g.c]:n[yr(g)];w&&(v<0&&(v=b),_=b)}v<0||(++f,r.write_shift(4,v),r.write_shift(4,_))}var S=r.l;return r.l=d,r.write_shift(4,f),r.l=S,r.length>r.l?r.slice(0,r.l):r}function CL(t,e,n,r){var i=kL(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&pt(t,0,i)}var NL=zo,OL=Vc;function AL(){}function DL(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=HM(t),n}function ML(t,e,n){n==null&&(n=Xe(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return qd({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),aT(t,n),n.slice(0,n.l)}function RL(t){var e=Ys(t);return[e]}function jL(t,e,n){return n==null&&(n=Xe(8)),Io(e,n)}function LL(t){var e=Po(t);return[e]}function IL(t,e,n){return n==null&&(n=Xe(4)),Fo(e,n)}function PL(t){var e=Ys(t),n=t.read_shift(1);return[e,n,"b"]}function FL(t,e,n){return n==null&&(n=Xe(9)),Io(e,n),n.write_shift(1,t.v?1:0),n}function zL(t){var e=Po(t),n=t.read_shift(1);return[e,n,"b"]}function BL(t,e,n){return n==null&&(n=Xe(5)),Fo(e,n),n.write_shift(1,t.v?1:0),n}function HL(t){var e=Ys(t),n=t.read_shift(1);return[e,n,"e"]}function UL(t,e,n){return n==null&&(n=Xe(9)),Io(e,n),n.write_shift(1,t.v),n}function $L(t){var e=Po(t),n=t.read_shift(1);return[e,n,"e"]}function WL(t,e,n){return n==null&&(n=Xe(8)),Fo(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function VL(t){var e=Ys(t),n=t.read_shift(4);return[e,n,"s"]}function YL(t,e,n){return n==null&&(n=Xe(12)),Io(e,n),n.write_shift(4,e.v),n}function GL(t){var e=Po(t),n=t.read_shift(4);return[e,n,"s"]}function qL(t,e,n){return n==null&&(n=Xe(8)),Fo(e,n),n.write_shift(4,e.v),n}function XL(t){var e=Ys(t),n=Yc(t);return[e,n,"n"]}function JL(t,e,n){return n==null&&(n=Xe(16)),Io(e,n),ko(t.v,n),n}function KL(t){var e=Po(t),n=Yc(t);return[e,n,"n"]}function ZL(t,e,n){return n==null&&(n=Xe(12)),Fo(e,n),ko(t.v,n),n}function QL(t){var e=Ys(t),n=lT(t);return[e,n,"n"]}function e6(t,e,n){return n==null&&(n=Xe(12)),Io(e,n),oT(t.v,n),n}function t6(t){var e=Po(t),n=lT(t);return[e,n,"n"]}function n6(t,e,n){return n==null&&(n=Xe(8)),Fo(e,n),oT(t.v,n),n}function r6(t){var e=Ys(t),n=o1(t);return[e,n,"is"]}function i6(t){var e=Ys(t),n=Ui(t);return[e,n,"str"]}function s6(t,e,n){return n==null&&(n=Xe(12+4*t.v.length)),Io(e,n),Si(t.v,n),n.length>n.l?n.slice(0,n.l):n}function a6(t){var e=Po(t),n=Ui(t);return[e,n,"str"]}function l6(t,e,n){return n==null&&(n=Xe(8+4*t.v.length)),Fo(e,n),Si(t.v,n),n.length>n.l?n.slice(0,n.l):n}function o6(t,e,n){var r=t.l+e,i=Ys(t);i.r=n["!row"];var l=t.read_shift(1),o=[i,l,"b"];if(n.cellFormula){t.l+=2;var f=N0(t,r-t.l,n);o[3]=jc(f,null,i,n.supbooks,n)}else t.l=r;return o}function c6(t,e,n){var r=t.l+e,i=Ys(t);i.r=n["!row"];var l=t.read_shift(1),o=[i,l,"e"];if(n.cellFormula){t.l+=2;var f=N0(t,r-t.l,n);o[3]=jc(f,null,i,n.supbooks,n)}else t.l=r;return o}function u6(t,e,n){var r=t.l+e,i=Ys(t);i.r=n["!row"];var l=Yc(t),o=[i,l,"n"];if(n.cellFormula){t.l+=2;var f=N0(t,r-t.l,n);o[3]=jc(f,null,i,n.supbooks,n)}else t.l=r;return o}function f6(t,e,n){var r=t.l+e,i=Ys(t);i.r=n["!row"];var l=Ui(t),o=[i,l,"str"];if(n.cellFormula){t.l+=2;var f=N0(t,r-t.l,n);o[3]=jc(f,null,i,n.supbooks,n)}else t.l=r;return o}var h6=zo,d6=Vc;function g6(t,e){return e==null&&(e=Xe(4)),e.write_shift(4,t),e}function p6(t,e){var n=t.l+e,r=zo(t),i=c1(t),l=Ui(t),o=Ui(t),f=Ui(t);t.l=n;var d={rfx:r,relId:i,loc:l,display:f};return o&&(d.Tooltip=o),d}function m6(t,e){var n=Xe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Vc({s:_i(t[0]),e:_i(t[0])},n),u1("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Si(i||"",n),Si(t[1].Tooltip||"",n),Si("",n),n.slice(0,n.l)}function x6(){}function v6(t,e,n){var r=t.l+e,i=cT(t),l=t.read_shift(1),o=[i];if(o[2]=l,n.cellFormula){var f=aL(t,r-t.l,n);o[1]=f}else t.l=r;return o}function y6(t,e,n){var r=t.l+e,i=zo(t),l=[i];if(n.cellFormula){var o=oL(t,r-t.l,n);l[1]=o,t.l=r}else t.l=r;return l}function b6(t,e,n){n==null&&(n=Xe(18));var r=O0(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var YT=["left","right","top","bottom","header","footer"];function _6(t){var e={};return YT.forEach(function(n){e[n]=Yc(t)}),e}function S6(t,e){return e==null&&(e=Xe(6*8)),WT(t),YT.forEach(function(n){ko(t[n],e)}),e}function w6(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function E6(t,e,n){n==null&&(n=Xe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function T6(t){var e=Xe(24);return e.write_shift(4,4),e.write_shift(4,1),Vc(t,e),e}function k6(t,e){return e==null&&(e=Xe(16*4+2)),e.write_shift(2,t.password?CT(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function C6(){}function N6(){}function O6(t,e,n,r,i,l,o){if(e.v===void 0)return!1;var f="";switch(e.t){case"b":f=e.v?"1":"0";break;case"d":e=os(e),e.z=e.z||Xr[14],e.v=ls(Xi(e.v)),e.t="n";break;case"n":case"e":f=""+e.v;break;default:f=e.v;break}var d={r:n,c:r};switch(d.s=Jl(i.cellXfs,e,i),e.l&&l["!links"].push([yr(d),e.l]),e.c&&l["!comments"].push([yr(d),e.c]),e.t){case"s":case"str":return i.bookSST?(f=m1(i.Strings,e.v,i.revStrings),d.t="s",d.v=f,o?pt(t,18,qL(e,d)):pt(t,7,YL(e,d))):(d.t="str",o?pt(t,17,l6(e,d)):pt(t,6,s6(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?pt(t,13,n6(e,d)):pt(t,2,e6(e,d)):o?pt(t,16,ZL(e,d)):pt(t,5,JL(e,d)),!0;case"b":return d.t="b",o?pt(t,15,BL(e,d)):pt(t,4,FL(e,d)),!0;case"e":return d.t="e",o?pt(t,14,WL(e,d)):pt(t,3,UL(e,d)),!0}return o?pt(t,12,IL(e,d)):pt(t,1,jL(e,d)),!0}function A6(t,e,n,r){var i=Ir(e["!ref"]||"A1"),l,o="",f=[];pt(t,145);var d=Array.isArray(e),g=i.e.r;e["!rows"]&&(g=Math.max(i.e.r,e["!rows"].length-1));for(var p=i.s.r;p<=g;++p){o=Mi(p),CL(t,e,i,p);var v=!1;if(p<=i.e.r)for(var _=i.s.c;_<=i.e.c;++_){p===i.s.r&&(f[_]=Hi(_)),l=f[_]+o;var b=d?(e[p]||[])[_]:e[l];if(!b){v=!1;continue}v=O6(t,b,p,_,r,e,v)}}pt(t,146)}function D6(t,e){!e||!e["!merges"]||(pt(t,177,g6(e["!merges"].length)),e["!merges"].forEach(function(n){pt(t,176,d6(n))}),pt(t,178))}function M6(t,e){!e||!e["!cols"]||(pt(t,390),e["!cols"].forEach(function(n,r){n&&pt(t,60,b6(r,n))}),pt(t,391))}function R6(t,e){!e||!e["!ref"]||(pt(t,648),pt(t,649,T6(Ir(e["!ref"]))),pt(t,650))}function j6(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=xr(n,-1,r[1].Target.replace(/#.*$/,""),nr.HLINK);pt(t,494,m6(r,i))}}),delete e["!links"]}function L6(t,e,n,r){if(e["!comments"].length>0){var i=xr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",nr.VML);pt(t,551,u1("rId"+i)),e["!legacy"]=i}}function I6(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],l=typeof i.ref=="string"?i.ref:ii(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,f=Ss(l);f.s.r==f.e.r&&(f.e.r=Ss(e["!ref"]).e.r,l=ii(f));for(var d=0;d<o.length;++d){var g=o[d];if(g.Name=="_xlnm._FilterDatabase"&&g.Sheet==r){g.Ref="'"+n.SheetNames[r]+"'!"+l;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+l}),pt(t,161,Vc(Ir(l))),pt(t,162)}}function P6(t,e,n){pt(t,133),pt(t,137,E6(e,n)),pt(t,138),pt(t,134)}function F6(t,e){e["!protect"]&&pt(t,535,k6(e["!protect"]))}function z6(t,e,n,r){var i=rs(),l=n.SheetNames[t],o=n.Sheets[l]||{},f=l;try{n&&n.Workbook&&(f=n.Workbook.Sheets[t].CodeName||f)}catch{}var d=Ir(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],pt(i,129),(n.vbaraw||o["!outline"])&&pt(i,147,ML(f,o["!outline"])),pt(i,148,OL(d)),P6(i,o,n.Workbook),M6(i,o),A6(i,o,t,e),F6(i,o),I6(i,o,n,t),D6(i,o),j6(i,o,r),o["!margins"]&&pt(i,476,S6(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&R6(i,o),L6(i,o,t,r),pt(i,130),i.end()}function B6(t,e){t.l+=10;var n=Ui(t);return{name:n}}var H6=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function U6(t){return!t.Workbook||!t.Workbook.WBProps?"false":yM(t.Workbook.WBProps.date1904)?"true":"false"}var $6="][*?/\\".split("");function GT(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return $6.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function W6(t,e,n){t.forEach(function(r,i){GT(r);for(var l=0;l<i;++l)if(r==t[l])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function V6(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];W6(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)dL(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function qT(t){var e=[si];e[e.length]=Rt("workbook",null,{xmlns:$c[0],"xmlns:r":bi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(H6.forEach(function(f){t.Workbook.WBProps[f[0]]!=null&&t.Workbook.WBProps[f[0]]!=f[1]&&(r[f[0]]=t.Workbook.WBProps[f[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Rt("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],l=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",l=0;l!=t.SheetNames.length&&!(!i[l]||!i[l].Hidden);++l);l==t.SheetNames.length&&(l=0),e[e.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",l=0;l!=t.SheetNames.length;++l){var o={name:vr(t.SheetNames[l].slice(0,31))};if(o.sheetId=""+(l+1),o["r:id"]="rId"+(l+1),i[l])switch(i[l].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Rt("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(f){var d={name:f.Name};f.Comment&&(d.comment=f.Comment),f.Sheet!=null&&(d.localSheetId=""+f.Sheet),f.Hidden&&(d.hidden="1"),f.Ref&&(e[e.length]=Rt("definedName",vr(f.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Y6(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=tx(t),n.name=Ui(t),n}function G6(t,e){return e||(e=Xe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),u1(t.strRelID,e),Si(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function q6(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Ui(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function X6(t,e){e||(e=Xe(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),aT(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function J6(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),l=UM(t),o=lL(t,0,n),f=c1(t);t.l=r;var d={Name:l,Ptg:o};return i<268435455&&(d.Sheet=i),f&&(d.Comment=f),d}function K6(t,e){pt(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};pt(t,156,G6(i))}pt(t,144)}function Z6(t,e){e||(e=Xe(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Si("SheetJS",e),Si(Bd.version,e),Si(Bd.version,e),Si("7262",e),e.length>e.l?e.slice(0,e.l):e}function Q6(t,e){e||(e=Xe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function eI(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,l=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&l==-1&&(l=r);l>i||(pt(t,135),pt(t,158,Q6(i)),pt(t,136))}}function tI(t,e){var n=rs();return pt(n,131),pt(n,128,Z6()),pt(n,153,X6(t.Workbook&&t.Workbook.WBProps||null)),eI(n,t),K6(n,t),pt(n,132),n.end()}function nI(t,e,n){return(e.slice(-4)===".bin"?tI:qT)(t)}function rI(t,e,n,r,i){return(e.slice(-4)===".bin"?z6:VT)(t,n,r,i)}function iI(t,e,n){return(e.slice(-4)===".bin"?Sj:AT)(t,n)}function sI(t,e,n){return(e.slice(-4)===".bin"?XR:kT)(t,n)}function aI(t,e,n){return(e.slice(-4)===".bin"?Fj:LT)(t)}function lI(t){return(t.slice(-4)===".bin"?Aj:RT)()}function oI(t,e){var n=[];return t.Props&&n.push(iR(t.Props,e)),t.Custprops&&n.push(sR(t.Props,t.Custprops)),n.join("")}function cI(){return""}function uI(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var l=[];l.push(Rt("NumberFormat",null,{"ss:Format":vr(Xr[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(Rt("Style",l.join(""),o))}),Rt("Styles",n.join(""))}function XT(t){return Rt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+g1(t.Ref,{r:0,c:0})})}function fI(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(XT(i)))}return Rt("Names",n.join(""))}function hI(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,l=[],o=0;o<i.length;++o){var f=i[o];f.Sheet==n&&(f.Name.match(/^_xlfn\./)||l.push(XT(f)))}return l.join("")}function dI(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Rt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Rt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Rt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Rt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<n&&!(r.Workbook.Sheets[l]&&!r.Workbook.Sheets[l].Hidden);++l);l==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Di("ProtectContents","True")),t["!protect"].objects&&i.push(Di("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Di("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Di("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Di("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Rt("WorksheetOptions",i.join(""),{xmlns:bs.x})}function gI(t){return t.map(function(e){var n=vM(e.t||""),r=Rt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Rt("Comment",r,{"ss:Author":e.a})}).join("")}function pI(t,e,n,r,i,l,o){if(!t||t.v==null&&t.f==null)return"";var f={};if(t.f&&(f["ss:Formula"]="="+vr(g1(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var d=_i(t.F.slice(e.length+1));f["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(t.l&&t.l.Target&&(f["ss:HRef"]=vr(t.l.Target),t.l.Tooltip&&(f["x:HRefScreenTip"]=vr(t.l.Tooltip))),n["!merges"])for(var g=n["!merges"],p=0;p!=g.length;++p)g[p].s.c!=o.c||g[p].s.r!=o.r||(g[p].e.c>g[p].s.c&&(f["ss:MergeAcross"]=g[p].e.c-g[p].s.c),g[p].e.r>g[p].s.r&&(f["ss:MergeDown"]=g[p].e.r-g[p].s.r));var v="",_="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":v="Number",_=String(t.v);break;case"b":v="Boolean",_=t.v?"1":"0";break;case"e":v="Error",_=$f[t.v];break;case"d":v="DateTime",_=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Xr[14]);break;case"s":v="String",_=xM(t.v||"");break}var b=Jl(r.cellXfs,t,r);f["ss:StyleID"]="s"+(21+b),f["ss:Index"]=o.c+1;var w=t.v!=null?_:"",S=t.t=="z"?"":'<Data ss:Type="'+v+'">'+w+"</Data>";return(t.c||[]).length>0&&(S+=gI(t.c)),Rt("Cell",S,f)}function mI(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=OT(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function xI(t,e,n,r){if(!t["!ref"])return"";var i=Ir(t["!ref"]),l=t["!merges"]||[],o=0,f=[];t["!cols"]&&t["!cols"].forEach(function(T,A){h1(T);var j=!!T.width,I=O0(A,T),Z={"ss:Index":A+1};j&&(Z["ss:Width"]=Jd(I.width)),T.hidden&&(Z["ss:Hidden"]="1"),f.push(Rt("Column",null,Z))});for(var d=Array.isArray(t),g=i.s.r;g<=i.e.r;++g){for(var p=[mI(g,(t["!rows"]||[])[g])],v=i.s.c;v<=i.e.c;++v){var _=!1;for(o=0;o!=l.length;++o)if(!(l[o].s.c>v)&&!(l[o].s.r>g)&&!(l[o].e.c<v)&&!(l[o].e.r<g)){(l[o].s.c!=v||l[o].s.r!=g)&&(_=!0);break}if(!_){var b={r:g,c:v},w=yr(b),S=d?(t[g]||[])[v]:t[w];p.push(pI(S,w,t,e,n,r,b))}}p.push("</Row>"),p.length>2&&f.push(p.join(""))}return f.join("")}function vI(t,e,n){var r=[],i=n.SheetNames[t],l=n.Sheets[i],o=l?hI(l,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=l?xI(l,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(dI(l,e,t,n)),r.join("")}function yI(t,e){e||(e={}),t.SSF||(t.SSF=os(Xr)),t.SSF&&(E0(),w0(t.SSF),e.revssf=T0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Jl(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(oI(t,e)),n.push(cI()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Rt("Worksheet",vI(r,e,t),{"ss:Name":vr(t.SheetNames[r])}));return n[2]=uI(t,e),n[3]=fI(t),si+Rt("Workbook",n.join(""),{xmlns:bs.ss,"xmlns:o":bs.o,"xmlns:x":bs.x,"xmlns:ss":bs.ss,"xmlns:dt":bs.dt,"xmlns:html":bs.html})}var im={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function bI(t,e){var n=[],r=[],i=[],l=0,o,f=z_(Z_,"n"),d=z_(Q_,"n");if(t.Props)for(o=Ri(t.Props),l=0;l<o.length;++l)(Object.prototype.hasOwnProperty.call(f,o[l])?n:Object.prototype.hasOwnProperty.call(d,o[l])?r:i).push([o[l],t.Props[o[l]]]);if(t.Custprops)for(o=Ri(t.Custprops),l=0;l<o.length;++l)Object.prototype.hasOwnProperty.call(t.Props||{},o[l])||(Object.prototype.hasOwnProperty.call(f,o[l])?n:Object.prototype.hasOwnProperty.call(d,o[l])?r:i).push([o[l],t.Custprops[o[l]]]);var g=[];for(l=0;l<i.length;++l)yT.indexOf(i[l][0])>-1||mT.indexOf(i[l][0])>-1||i[l][1]!=null&&g.push(i[l]);r.length&&Cr.utils.cfb_add(e,"/SummaryInformation",i2(r,im.SI,d,Q_)),(n.length||g.length)&&Cr.utils.cfb_add(e,"/DocumentSummaryInformation",i2(n,im.DSI,f,Z_,g.length?g:null,im.UDI))}function _I(t,e){var n=e||{},r=Cr.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Cr.utils.cfb_add(r,i,JT(t,n)),n.biff==8&&(t.Props||t.Custprops)&&bI(t,r),n.biff==8&&t.vbaraw&&zj(r,Cr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var SI={0:{f:TL},1:{f:RL},2:{f:QL},3:{f:HL},4:{f:PL},5:{f:XL},6:{f:i6},7:{f:VL},8:{f:f6},9:{f:u6},10:{f:o6},11:{f:c6},12:{f:LL},13:{f:t6},14:{f:$L},15:{f:zL},16:{f:KL},17:{f:a6},18:{f:GL},19:{f:o1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:J6},40:{},42:{},43:{f:ij},44:{f:nj},45:{f:lj},46:{f:cj},47:{f:oj},48:{},49:{f:LM},50:{},51:{f:Tj},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:IR},62:{f:r6},63:{f:Dj},64:{f:C6},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:w6},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:DL},148:{f:NL,p:16},151:{f:x6},152:{},153:{f:q6},154:{},155:{},156:{f:Y6},157:{},158:{},159:{T:1,f:YR},160:{T:-1},161:{T:1,f:zo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:h6},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:wj},336:{T:-1},337:{f:Nj,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:tx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:AR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:v6},427:{f:y6},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_6},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:AL},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:p6},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:tx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ij},633:{T:1},634:{T:-1},635:{T:1,f:jj},636:{T:-1},637:{f:zM},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:B6},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:N6},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pt(t,e,n,r){var i=e;if(!isNaN(i)){var l=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,l),l>0&&s1(n)&&t.push(n)}}function wI(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return Pt(t,e,n,i);var l=e;if(!isNaN(l)){for(var o=n.parts||[],f=0,d=0,g=0;g+(o[f]||8224)<=8224;)g+=o[f]||8224,f++;var p=t.next(4);for(p.write_shift(2,l),p.write_shift(2,g),t.push(n.slice(d,d+g)),d+=g;d<i;){for(p=t.next(4),p.write_shift(2,60),g=0;g+(o[f]||8224)<=8224;)g+=o[f]||8224,f++;p.write_shift(2,g),t.push(n.slice(d,d+g)),d+=g}}}function Vf(t,e,n){return t||(t=Xe(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function EI(t,e,n,r){var i=Xe(9);return Vf(i,t,e),_T(n,r||"b",i),i}function TI(t,e,n){var r=Xe(8+2*n.length);return Vf(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function kI(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ls(Xi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Pt(t,2,BR(n,r,i)):Pt(t,3,zR(n,r,i));return;case"b":case"e":Pt(t,5,EI(n,r,e.v,e.t));return;case"s":case"str":Pt(t,4,TI(n,r,(e.v||"").slice(0,255)));return}Pt(t,1,Vf(null,n,r))}function CI(t,e,n,r){var i=Array.isArray(e),l=Ir(e["!ref"]||"A1"),o,f="",d=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),o=ii(l)}for(var g=l.s.r;g<=l.e.r;++g){f=Mi(g);for(var p=l.s.c;p<=l.e.c;++p){g===l.s.r&&(d[p]=Hi(p)),o=d[p]+f;var v=i?(e[g]||[])[p]:e[o];v&&kI(t,v,g,p)}}}function NI(t,e){for(var n=e||{},r=rs(),i=0,l=0;l<t.SheetNames.length;++l)t.SheetNames[l]==n.sheet&&(i=l);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Pt(r,n.biff==4?1033:n.biff==3?521:9,f1(t,16,n)),CI(r,t.Sheets[t.SheetNames[i]],i,n),Pt(r,10),r.end()}function OI(t,e,n){Pt(t,49,SR({sz:12,name:"Arial"},n))}function AI(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Pt(t,1054,TR(i,e[i],n))})}function DI(t,e){var n=Xe(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Pt(t,2151,n),n=Xe(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),ET(Ir(e["!ref"]||"A1"),n),n.write_shift(4,4),Pt(t,2152,n)}function MI(t,e){for(var n=0;n<16;++n)Pt(t,224,a2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Pt(t,224,a2(r,0,e))})}function RI(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Pt(t,440,RR(r)),r[1].Tooltip&&Pt(t,2048,jR(r))}delete e["!links"]}function jI(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Pt(t,125,PR(O0(i,r),i))})}}function LI(t,e,n,r,i){var l=16+Jl(i.cellXfs,e,i);if(e.v==null&&!e.bf){Pt(t,513,Co(n,r,l));return}if(e.bf)Pt(t,6,sL(e,n,r,i,l));else switch(e.t){case"d":case"n":var o=e.t=="d"?ls(Xi(e.v)):e.v;Pt(t,515,OR(n,r,o,l));break;case"b":case"e":Pt(t,517,NR(n,r,e.v,l,i,e.t));break;case"s":case"str":if(i.bookSST){var f=m1(i.Strings,e.v,i.revStrings);Pt(t,253,wR(n,r,f,l))}else Pt(t,516,ER(n,r,(e.v||"").slice(0,255),l,i));break;default:Pt(t,513,Co(n,r,l))}}function II(t,e,n){var r=rs(),i=n.SheetNames[t],l=n.Sheets[i]||{},o=(n||{}).Workbook||{},f=(o.Sheets||[])[t]||{},d=Array.isArray(l),g=e.biff==8,p,v="",_=[],b=Ir(l["!ref"]||"A1"),w=g?65536:16384;if(b.e.c>255||b.e.r>=w){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");b.e.c=Math.min(b.e.c,255),b.e.r=Math.min(b.e.c,w-1)}Pt(r,2057,f1(n,16,e)),Pt(r,13,Bs(1)),Pt(r,12,Bs(100)),Pt(r,15,qi(!0)),Pt(r,17,qi(!1)),Pt(r,16,ko(.001)),Pt(r,95,qi(!0)),Pt(r,42,qi(!1)),Pt(r,43,qi(!1)),Pt(r,130,Bs(1)),Pt(r,128,CR()),Pt(r,131,qi(!1)),Pt(r,132,qi(!1)),g&&jI(r,l["!cols"]),Pt(r,512,kR(b,e)),g&&(l["!links"]=[]);for(var S=b.s.r;S<=b.e.r;++S){v=Mi(S);for(var T=b.s.c;T<=b.e.c;++T){S===b.s.r&&(_[T]=Hi(T)),p=_[T]+v;var A=d?(l[S]||[])[T]:l[p];A&&(LI(r,A,S,T,e),g&&A.l&&l["!links"].push([p,A.l]))}}var j=f.CodeName||f.name||i;return g&&Pt(r,574,_R((o.Views||[])[0])),g&&(l["!merges"]||[]).length&&Pt(r,229,MR(l["!merges"])),g&&RI(r,l),Pt(r,442,wT(j)),g&&DI(r,l),Pt(r,10),r.end()}function PI(t,e,n){var r=rs(),i=(t||{}).Workbook||{},l=i.Sheets||[],o=i.WBProps||{},f=n.biff==8,d=n.biff==5;if(Pt(r,2057,f1(t,5,n)),n.bookType=="xla"&&Pt(r,135),Pt(r,225,f?Bs(1200):null),Pt(r,193,oR(2)),d&&Pt(r,191),d&&Pt(r,192),Pt(r,226),Pt(r,92,xR("SheetJS",n)),Pt(r,66,Bs(f?1200:1252)),f&&Pt(r,353,Bs(0)),f&&Pt(r,448),Pt(r,317,FR(t.SheetNames.length)),f&&t.vbaraw&&Pt(r,211),f&&t.vbaraw){var g=o.CodeName||"ThisWorkbook";Pt(r,442,wT(g))}Pt(r,156,Bs(17)),Pt(r,25,qi(!1)),Pt(r,18,qi(!1)),Pt(r,19,Bs(0)),f&&Pt(r,431,qi(!1)),f&&Pt(r,444,Bs(0)),Pt(r,61,bR()),Pt(r,64,qi(!1)),Pt(r,141,Bs(0)),Pt(r,34,qi(U6(t)=="true")),Pt(r,14,qi(!0)),f&&Pt(r,439,qi(!1)),Pt(r,218,Bs(0)),OI(r,t,n),AI(r,t.SSF,n),MI(r,n),f&&Pt(r,352,qi(!1));var p=r.end(),v=rs();f&&Pt(v,140,LR()),f&&n.Strings&&wI(v,252,yR(n.Strings)),Pt(v,10);var _=v.end(),b=rs(),w=0,S=0;for(S=0;S<t.SheetNames.length;++S)w+=(f?12:11)+(f?2:1)*t.SheetNames[S].length;var T=p.length+w+_.length;for(S=0;S<t.SheetNames.length;++S){var A=l[S]||{};Pt(b,133,vR({pos:T,hs:A.Hidden||0,dt:0,name:t.SheetNames[S]},n)),T+=e[S].length}var j=b.end();if(w!=j.length)throw new Error("BS8 "+w+" != "+j.length);var I=[];return p.length&&I.push(p),j.length&&I.push(j),_.length&&I.push(_),Ai(I)}function FI(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=os(Xr)),t&&t.SSF&&(E0(),w0(t.SSF),n.revssf=T0(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,x1(n),n.cellXfs=[],Jl(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=II(i,n,t);return r.unshift(PI(t,r,n)),Ai(r)}function JT(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Ss(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var l=e||{};switch(l.biff||2){case 8:case 5:return FI(t,e);case 4:case 3:case 2:return NI(t,e)}throw new Error("invalid type "+l.bookType+" for BIFF")}function zI(t,e,n,r){for(var i=t["!merges"]||[],l=[],o=e.s.c;o<=e.e.c;++o){for(var f=0,d=0,g=0;g<i.length;++g)if(!(i[g].s.r>n||i[g].s.c>o)&&!(i[g].e.r<n||i[g].e.c<o)){if(i[g].s.r<n||i[g].s.c<o){f=-1;break}f=i[g].e.r-i[g].s.r+1,d=i[g].e.c-i[g].s.c+1;break}if(!(f<0)){var p=yr({r:n,c:o}),v=r.dense?(t[n]||[])[o]:t[p],_=v&&v.v!=null&&(v.h||mM(v.w||(ul(v),v.w)||""))||"",b={};f>1&&(b.rowspan=f),d>1&&(b.colspan=d),r.editable?_='<span contenteditable="true">'+_+"</span>":v&&(b["data-t"]=v&&v.t||"z",v.v!=null&&(b["data-v"]=v.v),v.z!=null&&(b["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+v.l.Target+'">'+_+"</a>")),b.id=(r.id||"sjs")+"-"+p,l.push(Rt("td",_,b))}}var w="<tr>";return w+l.join("")+"</tr>"}var BI='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HI="</body></html>";function UI(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function KT(t,e){var n=e||{},r=n.header!=null?n.header:BI,i=n.footer!=null?n.footer:HI,l=[r],o=Ss(t["!ref"]);n.dense=Array.isArray(t),l.push(UI(t,o,n));for(var f=o.s.r;f<=o.e.r;++f)l.push(zI(t,o,f,n));return l.push("</table>"+i),l.join("")}function ZT(t,e,n){var r=n||{},i=0,l=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?_i(r.origin):r.origin;i=o.r,l=o.c}var f=e.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,f.length),g={s:{r:0,c:0},e:{r:i,c:l}};if(t["!ref"]){var p=Ss(t["!ref"]);g.s.r=Math.min(g.s.r,p.s.r),g.s.c=Math.min(g.s.c,p.s.c),g.e.r=Math.max(g.e.r,p.e.r),g.e.c=Math.max(g.e.c,p.e.c),i==-1&&(g.e.r=i=p.e.r+1)}var v=[],_=0,b=t["!rows"]||(t["!rows"]=[]),w=0,S=0,T=0,A=0,j=0,I=0;for(t["!cols"]||(t["!cols"]=[]);w<f.length&&S<d;++w){var Z=f[w];if(d2(Z)){if(r.display)continue;b[S]={hidden:!0}}var Q=Z.children;for(T=A=0;T<Q.length;++T){var Y=Q[T];if(!(r.display&&d2(Y))){var L=Y.hasAttribute("data-v")?Y.getAttribute("data-v"):Y.hasAttribute("v")?Y.getAttribute("v"):bM(Y.innerHTML),U=Y.getAttribute("data-z")||Y.getAttribute("z");for(_=0;_<v.length;++_){var q=v[_];q.s.c==A+l&&q.s.r<S+i&&S+i<=q.e.r&&(A=q.e.c+1-l,_=-1)}I=+Y.getAttribute("colspan")||1,((j=+Y.getAttribute("rowspan")||1)>1||I>1)&&v.push({s:{r:S+i,c:A+l},e:{r:S+i+(j||1)-1,c:A+l+(I||1)-1}});var ie={t:"s",v:L},xe=Y.getAttribute("data-t")||Y.getAttribute("t")||"";L!=null&&(L.length==0?ie.t=xe||"z":r.raw||L.trim().length==0||xe=="s"||(L==="TRUE"?ie={t:"b",v:!0}:L==="FALSE"?ie={t:"b",v:!1}:isNaN(sl(L))?isNaN(_f(L).getDate())||(ie={t:"d",v:Xi(L)},r.cellDates||(ie={t:"n",v:ls(ie.v)}),ie.z=r.dateNF||Xr[14]):ie={t:"n",v:sl(L)})),ie.z===void 0&&U!=null&&(ie.z=U);var ue="",De=Y.getElementsByTagName("A");if(De&&De.length)for(var We=0;We<De.length&&!(De[We].hasAttribute("href")&&(ue=De[We].getAttribute("href"),ue.charAt(0)!="#"));++We);ue&&ue.charAt(0)!="#"&&(ie.l={Target:ue}),r.dense?(t[S+i]||(t[S+i]=[]),t[S+i][A+l]=ie):t[yr({c:A+l,r:S+i})]=ie,g.e.c<A+l&&(g.e.c=A+l),A+=I}}++S}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),g.e.r=Math.max(g.e.r,S-1+i),t["!ref"]=ii(g),S>=d&&(t["!fullref"]=ii((g.e.r=f.length-w+S-1+i,g))),t}function QT(t,e){var n=e||{},r=n.dense?[]:{};return ZT(r,t,e)}function $I(t,e){return Lo(QT(t,e),e)}function d2(t){var e="",n=WI(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function WI(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var VI=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+wf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return si+e}}(),g2=function(){var t=function(l){return vr(l).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(l,o,f){var d=[];d.push('      <table:table table:name="'+vr(o.SheetNames[f])+`" table:style-name="ta1">
`);var g=0,p=0,v=Ss(l["!ref"]||"A1"),_=l["!merges"]||[],b=0,w=Array.isArray(l);if(l["!cols"])for(p=0;p<=v.e.c;++p)d.push("        <table:table-column"+(l["!cols"][p]?' table:style-name="co'+l["!cols"][p].ods+'"':"")+`></table:table-column>
`);var S="",T=l["!rows"]||[];for(g=0;g<v.s.r;++g)S=T[g]?' table:style-name="ro'+T[g].ods+'"':"",d.push("        <table:table-row"+S+`></table:table-row>
`);for(;g<=v.e.r;++g){for(S=T[g]?' table:style-name="ro'+T[g].ods+'"':"",d.push("        <table:table-row"+S+`>
`),p=0;p<v.s.c;++p)d.push(e);for(;p<=v.e.c;++p){var A=!1,j={},I="";for(b=0;b!=_.length;++b)if(!(_[b].s.c>p)&&!(_[b].s.r>g)&&!(_[b].e.c<p)&&!(_[b].e.r<g)){(_[b].s.c!=p||_[b].s.r!=g)&&(A=!0),j["table:number-columns-spanned"]=_[b].e.c-_[b].s.c+1,j["table:number-rows-spanned"]=_[b].e.r-_[b].s.r+1;break}if(A){d.push(n);continue}var Z=yr({r:g,c:p}),Q=w?(l[g]||[])[p]:l[Z];if(Q&&Q.f&&(j["table:formula"]=vr(fL(Q.f)),Q.F&&Q.F.slice(0,Z.length)==Z)){var Y=Ss(Q.F);j["table:number-matrix-columns-spanned"]=Y.e.c-Y.s.c+1,j["table:number-matrix-rows-spanned"]=Y.e.r-Y.s.r+1}if(!Q){d.push(e);continue}switch(Q.t){case"b":I=Q.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=Q.v?"true":"false";break;case"n":I=Q.w||String(Q.v||0),j["office:value-type"]="float",j["office:value"]=Q.v||0;break;case"s":case"str":I=Q.v==null?"":Q.v,j["office:value-type"]="string";break;case"d":I=Q.w||Xi(Q.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Xi(Q.v).toISOString(),j["table:style-name"]="ce1";break;default:d.push(e);continue}var L=t(I);if(Q.l&&Q.l.Target){var U=Q.l.Target;U=U.charAt(0)=="#"?"#"+hL(U.slice(1)):U,U.charAt(0)!="#"&&!U.match(/^\w+:/)&&(U="../"+U),L=Rt("text:a",L,{"xlink:href":U.replace(/&/g,"&amp;")})}d.push("          "+Rt("table:table-cell",Rt("text:p",L,{}),j)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(l,o){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var f=0;o.SheetNames.map(function(g){return o.Sheets[g]}).forEach(function(g){if(g&&g["!cols"]){for(var p=0;p<g["!cols"].length;++p)if(g["!cols"][p]){var v=g["!cols"][p];if(v.width==null&&v.wpx==null&&v.wch==null)continue;h1(v),v.ods=f;var _=g["!cols"][p].wpx+"px";l.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+_+`"/>
`),l.push(`  </style:style>
`),++f}}});var d=0;o.SheetNames.map(function(g){return o.Sheets[g]}).forEach(function(g){if(g&&g["!rows"]){for(var p=0;p<g["!rows"].length;++p)if(g["!rows"][p]){g["!rows"][p].ods=d;var v=g["!rows"][p].hpx+"px";l.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),l.push(`  </style:style>
`),++d}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(o,f){var d=[si],g=wf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=wf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(d.push("<office:document"+g+p+`>
`),d.push(gT().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+g+`>
`),i(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var v=0;v!=o.SheetNames.length;++v)d.push(r(o.Sheets[o.SheetNames[v]],o,v));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),f.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function ek(t,e){if(e.bookType=="fods")return g2(t,e);var n=t1(),r="",i=[],l=[];return r="mimetype",Fn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Fn(n,r,g2(t,e)),i.push([r,"text/xml"]),l.push([r,"ContentFile"]),r="styles.xml",Fn(n,r,VI(t,e)),i.push([r,"text/xml"]),l.push([r,"StylesFile"]),r="meta.xml",Fn(n,r,si+gT()),i.push([r,"text/xml"]),l.push([r,"MetadataFile"]),r="manifest.rdf",Fn(n,r,rR(l)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Fn(n,r,tR(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Qd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function YI(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):na(Sf(t))}function GI(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function ql(t){var e=t.reduce(function(i,l){return i+l.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function qI(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var l=0;i>=1;++l,i/=256)t[e+l]=i&255;t[e+15]|=n>=0?0:128}function Ef(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function mr(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Mc(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function hi(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Ef(t,n),l=i&7;i=Math.floor(i/8);var o=0,f;if(i==0)break;switch(l){case 0:{for(var d=n[0];t[n[0]++]>=128;);f=t.slice(d,n[0])}break;case 5:o=4,f=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,f=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Ef(t,n),f=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(i," at offset ").concat(r))}var g={data:f,type:l};e[i]==null?e[i]=[g]:e[i].push(g)}return e}function Ci(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(mr(r*8+i.type)),i.type==2&&e.push(mr(i.data.length)),e.push(i.data))})}),ql(e)}function Qs(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Ef(t,r),l=hi(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:Mc(l[1][0].data),messages:[]};l[2].forEach(function(f){var d=hi(f.data),g=Mc(d[3][0].data);o.messages.push({meta:d,data:t.slice(r[0],r[0]+g)}),r[0]+=g}),(e=l[3])!=null&&e[0]&&(o.merge=Mc(l[3][0].data)>>>0>0),n.push(o)}return n}function mc(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:mr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:mr(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:mr(o.data.length)}],r[2].push({data:Ci(o.meta),type:2})});var l=Ci(r);e.push(mr(l.length)),e.push(l),i.forEach(function(o){return e.push(o)})}),ql(e)}function XI(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Ef(e,n),i=[];n[0]<e.length;){var l=e[n[0]]&3;if(l==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var f=o-59;o=e[n[0]],f>1&&(o|=e[n[0]+1]<<8),f>2&&(o|=e[n[0]+2]<<16),f>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=f}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var d=0,g=0;if(l==1?(g=(e[n[0]]>>2&7)+4,d=(e[n[0]++]&224)<<3,d|=e[n[0]++]):(g=(e[n[0]++]>>2)+1,l==2?(d=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(d=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[ql(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(g>=d)for(i.push(i[0].slice(-d)),g-=d;g>=i[i.length-1].length;)i.push(i[i.length-1]),g-=i[i.length-1].length;i.push(i[0].slice(-d,-d+g))}}var p=ql(i);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function ea(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(XI(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return ql(e)}function xc(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var l=mr(r),o=l.length;e.push(l),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return ql(e)}function sm(t,e){var n=new Uint8Array(32),r=Qd(n),i=12,l=0;switch(n[0]=5,t.t){case"n":n[1]=2,qI(n,i,t.v),l|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),l|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),l|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,l,!0),n.slice(0,i)}function am(t,e){var n=new Uint8Array(32),r=Qd(n),i=12,l=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),l|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),l|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),l|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,l,!0),n.slice(0,i)}function Il(t){var e=hi(t);return Ef(e[1][0].data)}function JI(t,e,n){var r,i,l,o;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var f=((o=(l=t[8])==null?void 0:l[0])==null?void 0:o.data)&&Mc(t[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var d=0,g=Qd(t[7][0].data),p=0,v=[],_=Qd(t[4][0].data),b=0,w=[],S=0;S<e.length;++S){if(e[S]==null){g.setUint16(S*2,65535,!0),_.setUint16(S*2,65535);continue}g.setUint16(S*2,p,!0),_.setUint16(S*2,b,!0);var T,A;switch(typeof e[S]){case"string":T=sm({t:"s",v:e[S]},n),A=am({t:"s",v:e[S]},n);break;case"number":T=sm({t:"n",v:e[S]},n),A=am({t:"n",v:e[S]},n);break;case"boolean":T=sm({t:"b",v:e[S]},n),A=am({t:"b",v:e[S]},n);break;default:throw new Error("Unsupported value "+e[S])}v.push(T),p+=T.length,w.push(A),b+=A.length,++d}for(t[2][0].data=mr(d);S<t[7][0].data.length/2;++S)g.setUint16(S*2,65535,!0),_.setUint16(S*2,65535,!0);return t[6][0].data=ql(v),t[3][0].data=ql(w),d}function KI(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ss(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ii(r)));var l=e0(n,{range:r,header:1}),o=["~Sh33tJ5~"];l.forEach(function(K){return K.forEach(function(P){typeof P=="string"&&o.push(P)})});var f={},d=[],g=Cr.read(e.numbers,{type:"base64"});g.FileIndex.map(function(K,P){return[K,g.FullPaths[P]]}).forEach(function(K){var P=K[0],G=K[1];if(P.type==2&&P.name.match(/\.iwa/)){var oe=P.content,Ne=ea(oe),Ie=Qs(Ne);Ie.forEach(function(Je){d.push(Je.id),f[Je.id]={deps:[],location:G,type:Mc(Je.messages[0].meta[1][0].data)}})}}),d.sort(function(K,P){return K-P});var p=d.filter(function(K){return K>1}).map(function(K){return[K,mr(K)]});g.FileIndex.map(function(K,P){return[K,g.FullPaths[P]]}).forEach(function(K){var P=K[0];if(K[1],!!P.name.match(/\.iwa/)){var G=Qs(ea(P.content));G.forEach(function(oe){oe.messages.forEach(function(Ne){p.forEach(function(Ie){oe.messages.some(function(Je){return Mc(Je.meta[1][0].data)!=11006&&GI(Je.data,Ie[1])})&&f[Ie[0]].deps.push(oe.id)})})})}});for(var v=Cr.find(g,f[1].location),_=Qs(ea(v.content)),b,w=0;w<_.length;++w){var S=_[w];S.id==1&&(b=S)}var T=Il(hi(b.messages[0].data)[1][0].data);for(v=Cr.find(g,f[T].location),_=Qs(ea(v.content)),w=0;w<_.length;++w)S=_[w],S.id==T&&(b=S);for(T=Il(hi(b.messages[0].data)[2][0].data),v=Cr.find(g,f[T].location),_=Qs(ea(v.content)),w=0;w<_.length;++w)S=_[w],S.id==T&&(b=S);for(T=Il(hi(b.messages[0].data)[2][0].data),v=Cr.find(g,f[T].location),_=Qs(ea(v.content)),w=0;w<_.length;++w)S=_[w],S.id==T&&(b=S);var A=hi(b.messages[0].data);{A[6][0].data=mr(r.e.r+1),A[7][0].data=mr(r.e.c+1);var j=Il(A[46][0].data),I=Cr.find(g,f[j].location),Z=Qs(ea(I.content));{for(var Q=0;Q<Z.length&&Z[Q].id!=j;++Q);if(Z[Q].id!=j)throw"Bad ColumnRowUIDMapArchive";var Y=hi(Z[Q].messages[0].data);Y[1]=[],Y[2]=[],Y[3]=[];for(var L=0;L<=r.e.c;++L){var U=[];U[1]=U[2]=[{type:0,data:mr(L+420690)}],Y[1].push({type:2,data:Ci(U)}),Y[2].push({type:0,data:mr(L)}),Y[3].push({type:0,data:mr(L)})}Y[4]=[],Y[5]=[],Y[6]=[];for(var q=0;q<=r.e.r;++q)U=[],U[1]=U[2]=[{type:0,data:mr(q+726270)}],Y[4].push({type:2,data:Ci(U)}),Y[5].push({type:0,data:mr(q)}),Y[6].push({type:0,data:mr(q)});Z[Q].messages[0].data=Ci(Y)}I.content=xc(mc(Z)),I.size=I.content.length,delete A[46];var ie=hi(A[4][0].data);{ie[7][0].data=mr(r.e.r+1);var xe=hi(ie[1][0].data),ue=Il(xe[2][0].data);I=Cr.find(g,f[ue].location),Z=Qs(ea(I.content));{if(Z[0].id!=ue)throw"Bad HeaderStorageBucket";var De=hi(Z[0].messages[0].data);for(q=0;q<l.length;++q){var We=hi(De[2][0].data);We[1][0].data=mr(q),We[4][0].data=mr(l[q].length),De[2][q]={type:De[2][0].type,data:Ci(We)}}Z[0].messages[0].data=Ci(De)}I.content=xc(mc(Z)),I.size=I.content.length;var Ye=Il(ie[2][0].data);I=Cr.find(g,f[Ye].location),Z=Qs(ea(I.content));{if(Z[0].id!=Ye)throw"Bad HeaderStorageBucket";for(De=hi(Z[0].messages[0].data),L=0;L<=r.e.c;++L)We=hi(De[2][0].data),We[1][0].data=mr(L),We[4][0].data=mr(r.e.r+1),De[2][L]={type:De[2][0].type,data:Ci(We)};Z[0].messages[0].data=Ci(De)}I.content=xc(mc(Z)),I.size=I.content.length;var ee=Il(ie[4][0].data);(function(){for(var K=Cr.find(g,f[ee].location),P=Qs(ea(K.content)),G,oe=0;oe<P.length;++oe){var Ne=P[oe];Ne.id==ee&&(G=Ne)}var Ie=hi(G.messages[0].data);{Ie[3]=[];var Je=[];o.forEach(function(Ft,un){Je[1]=[{type:0,data:mr(un)}],Je[2]=[{type:0,data:mr(1)}],Je[3]=[{type:2,data:YI(Ft)}],Ie[3].push({type:2,data:Ci(Je)})})}G.messages[0].data=Ci(Ie);var Ke=mc(P),pn=xc(Ke);K.content=pn,K.size=K.content.length})();var Pe=hi(ie[3][0].data);{var Fe=Pe[1][0];delete Pe[2];var X=hi(Fe.data);{var D=Il(X[2][0].data);(function(){for(var K=Cr.find(g,f[D].location),P=Qs(ea(K.content)),G,oe=0;oe<P.length;++oe){var Ne=P[oe];Ne.id==D&&(G=Ne)}var Ie=hi(G.messages[0].data);{delete Ie[6],delete Pe[7];var Je=new Uint8Array(Ie[5][0].data);Ie[5]=[];for(var Ke=0,pn=0;pn<=r.e.r;++pn){var Ft=hi(Je);Ke+=JI(Ft,l[pn],o),Ft[1][0].data=mr(pn),Ie[5].push({data:Ci(Ft),type:2})}Ie[1]=[{type:0,data:mr(r.e.c+1)}],Ie[2]=[{type:0,data:mr(r.e.r+1)}],Ie[3]=[{type:0,data:mr(Ke)}],Ie[4]=[{type:0,data:mr(r.e.r+1)}]}G.messages[0].data=Ci(Ie);var un=mc(P),Zt=xc(un);K.content=Zt,K.size=K.content.length})()}Fe.data=Ci(X)}ie[3][0].data=Ci(Pe)}A[4][0].data=Ci(ie)}b.messages[0].data=Ci(A);var J=mc(_),H=xc(J);return v.content=H,v.size=v.content.length,g}function ZI(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function x1(t){ZI([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function QI(t,e){return e.bookType=="ods"?ek(t,e):e.bookType=="numbers"?KI(t,e):e.bookType=="xlsb"?eP(t,e):tP(t,e)}function eP(t,e){wc=1024,t&&!t.SSF&&(t.SSF=os(Xr)),t&&t.SSF&&(E0(),w0(t.SSF),e.revssf=T0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,of?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=IT.indexOf(e.bookType)>-1,i=fT();x1(e=e||{});var l=t1(),o="",f=0;if(e.cellXfs=[],Jl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Fn(l,o,pT(t.Props,e)),i.coreprops.push(o),xr(e.rels,2,o,nr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],g=0;g<t.SheetNames.length;++g)(t.Workbook.Sheets[g]||{}).Hidden!=2&&d.push(t.SheetNames[g]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Fn(l,o,xT(t.Props)),i.extprops.push(o),xr(e.rels,3,o,nr.EXT_PROPS),t.Custprops!==t.Props&&Ri(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Fn(l,o,vT(t.Custprops)),i.custprops.push(o),xr(e.rels,4,o,nr.CUST_PROPS)),f=1;f<=t.SheetNames.length;++f){var p={"!id":{}},v=t.Sheets[t.SheetNames[f-1]],_=(v||{})["!type"]||"sheet";switch(_){case"chart":default:o="xl/worksheets/sheet"+f+"."+n,Fn(l,o,rI(f-1,o,e,t,p)),i.sheets.push(o),xr(e.wbrels,-1,"worksheets/sheet"+f+"."+n,nr.WS[0])}if(v){var b=v["!comments"],w=!1,S="";b&&b.length>0&&(S="xl/comments"+f+"."+n,Fn(l,S,aI(b,S)),i.comments.push(S),xr(p,-1,"../comments"+f+"."+n,nr.CMNT),w=!0),v["!legacy"]&&w&&Fn(l,"xl/drawings/vmlDrawing"+f+".vml",jT(f,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&Fn(l,dT(o),Ac(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,Fn(l,o,sI(e.Strings,o,e)),i.strs.push(o),xr(e.wbrels,-1,"sharedStrings."+n,nr.SST)),o="xl/workbook."+n,Fn(l,o,nI(t,o)),i.workbooks.push(o),xr(e.rels,1,o,nr.WB),o="xl/theme/theme1.xml",Fn(l,o,MT(t.Themes,e)),i.themes.push(o),xr(e.wbrels,-1,"theme/theme1.xml",nr.THEME),o="xl/styles."+n,Fn(l,o,iI(t,o,e)),i.styles.push(o),xr(e.wbrels,-1,"styles."+n,nr.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",Fn(l,o,t.vbaraw),i.vba.push(o),xr(e.wbrels,-1,"vbaProject.bin",nr.VBA)),o="xl/metadata."+n,Fn(l,o,lI(o)),i.metadata.push(o),xr(e.wbrels,-1,"metadata."+n,nr.XLMETA),Fn(l,"[Content_Types].xml",hT(i,e)),Fn(l,"_rels/.rels",Ac(e.rels)),Fn(l,"xl/_rels/workbook."+n+".rels",Ac(e.wbrels)),delete e.revssf,delete e.ssf,l}function tP(t,e){wc=1024,t&&!t.SSF&&(t.SSF=os(Xr)),t&&t.SSF&&(E0(),w0(t.SSF),e.revssf=T0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,of?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=IT.indexOf(e.bookType)>-1,i=fT();x1(e=e||{});var l=t1(),o="",f=0;if(e.cellXfs=[],Jl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Fn(l,o,pT(t.Props,e)),i.coreprops.push(o),xr(e.rels,2,o,nr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],g=0;g<t.SheetNames.length;++g)(t.Workbook.Sheets[g]||{}).Hidden!=2&&d.push(t.SheetNames[g]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Fn(l,o,xT(t.Props)),i.extprops.push(o),xr(e.rels,3,o,nr.EXT_PROPS),t.Custprops!==t.Props&&Ri(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Fn(l,o,vT(t.Custprops)),i.custprops.push(o),xr(e.rels,4,o,nr.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,f=1;f<=t.SheetNames.length;++f){var v={"!id":{}},_=t.Sheets[t.SheetNames[f-1]],b=(_||{})["!type"]||"sheet";switch(b){case"chart":default:o="xl/worksheets/sheet"+f+"."+n,Fn(l,o,VT(f-1,e,t,v)),i.sheets.push(o),xr(e.wbrels,-1,"worksheets/sheet"+f+"."+n,nr.WS[0])}if(_){var w=_["!comments"],S=!1,T="";if(w&&w.length>0){var A=!1;w.forEach(function(j){j[1].forEach(function(I){I.T==!0&&(A=!0)})}),A&&(T="xl/threadedComments/threadedComment"+f+"."+n,Fn(l,T,Mj(w,p,e)),i.threadedcomments.push(T),xr(v,-1,"../threadedComments/threadedComment"+f+"."+n,nr.TCMNT)),T="xl/comments"+f+"."+n,Fn(l,T,LT(w)),i.comments.push(T),xr(v,-1,"../comments"+f+"."+n,nr.CMNT),S=!0}_["!legacy"]&&S&&Fn(l,"xl/drawings/vmlDrawing"+f+".vml",jT(f,_["!comments"])),delete _["!comments"],delete _["!legacy"]}v["!id"].rId1&&Fn(l,dT(o),Ac(v))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,Fn(l,o,kT(e.Strings,e)),i.strs.push(o),xr(e.wbrels,-1,"sharedStrings."+n,nr.SST)),o="xl/workbook."+n,Fn(l,o,qT(t)),i.workbooks.push(o),xr(e.rels,1,o,nr.WB),o="xl/theme/theme1.xml",Fn(l,o,MT(t.Themes,e)),i.themes.push(o),xr(e.wbrels,-1,"theme/theme1.xml",nr.THEME),o="xl/styles."+n,Fn(l,o,AT(t,e)),i.styles.push(o),xr(e.wbrels,-1,"styles."+n,nr.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",Fn(l,o,t.vbaraw),i.vba.push(o),xr(e.wbrels,-1,"vbaProject.bin",nr.VBA)),o="xl/metadata."+n,Fn(l,o,RT()),i.metadata.push(o),xr(e.wbrels,-1,"metadata."+n,nr.XLMETA),p.length>1&&(o="xl/persons/person.xml",Fn(l,o,Rj(p)),i.people.push(o),xr(e.wbrels,-1,"persons/person.xml",nr.PEOPLE)),Fn(l,"[Content_Types].xml",hT(i,e)),Fn(l,"_rels/.rels",Ac(e.rels)),Fn(l,"xl/_rels/workbook."+n+".rels",Ac(e.wbrels)),delete e.revssf,delete e.ssf,l}function nP(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=cl(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function tk(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Hf(e.file,Cr.write(t,{type:or?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Cr.write(t,e)}function rP(t,e){var n=os(e||{}),r=QI(t,n);return iP(r,n)}function iP(t,e){var n={},r=or?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Cr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(S0(i))}return e.password&&typeof encrypt_agile<"u"?tk(encrypt_agile(i,e.password),e):e.type==="file"?Hf(e.file,i):e.type=="string"?rf(i):i}function sP(t,e){var n=e||{},r=_I(t,n);return tk(r,n)}function wa(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return bf(Sf(r));case"binary":return Sf(r);case"string":return t;case"file":return Hf(e.file,r,"utf8");case"buffer":return or?gl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):wa(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function aP(t,e){switch(e.type){case"base64":return bf(t);case"binary":return t;case"string":return t;case"file":return Hf(e.file,t,"binary");case"buffer":return or?gl(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ad(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?bf(n):e.type=="string"?rf(n):n;case"file":return Hf(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function nk(t,e){j5(),V6(t);var n=os(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=nk(t,n);return n.type="array",S0(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return wa(yI(t,n),n);case"slk":case"sylk":return wa(UR.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return wa(KT(t.Sheets[t.SheetNames[i]],n),n);case"txt":return aP(rk(t.Sheets[t.SheetNames[i]],n),n);case"csv":return wa(v1(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return wa($R.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return ad(HR.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return wa(WR.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return wa(KR.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return wa(TT.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return wa(ek(t,n),n);case"wk1":return ad(l2.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return ad(l2.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),ad(JT(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),sP(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return rP(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function lP(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function ka(t,e,n){var r={};return r.type="file",r.file=e,lP(r),nk(t,r)}function oP(t,e,n,r,i,l,o,f){var d=Mi(n),g=f.defval,p=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),v=!0,_=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:n,enumerable:!1})}catch{_.__rowNum__=n}else _.__rowNum__=n;if(!o||t[n])for(var b=e.s.c;b<=e.e.c;++b){var w=o?t[n][b]:t[r[b]+d];if(w===void 0||w.t===void 0){if(g===void 0)continue;l[b]!=null&&(_[l[b]]=g);continue}var S=w.v;switch(w.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(l[b]!=null){if(S==null)if(w.t=="e"&&S===null)_[l[b]]=null;else if(g!==void 0)_[l[b]]=g;else if(p&&S===null)_[l[b]]=null;else continue;else _[l[b]]=p&&(w.t!=="n"||w.t==="n"&&f.rawNumbers!==!1)?S:ul(w,S,f);S!=null&&(v=!1)}}return{row:_,isempty:v}}function e0(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,l=[],o=0,f="",d={s:{r:0,c:0},e:{r:0,c:0}},g=e||{},p=g.range!=null?g.range:t["!ref"];switch(g.header===1?r=1:g.header==="A"?r=2:Array.isArray(g.header)?r=3:g.header==null&&(r=0),typeof p){case"string":d=Ir(p);break;case"number":d=Ir(t["!ref"]),d.s.r=p;break;default:d=p}r>0&&(i=0);var v=Mi(d.s.r),_=[],b=[],w=0,S=0,T=Array.isArray(t),A=d.s.r,j=0,I={};T&&!t[A]&&(t[A]=[]);var Z=g.skipHidden&&t["!cols"]||[],Q=g.skipHidden&&t["!rows"]||[];for(j=d.s.c;j<=d.e.c;++j)if(!(Z[j]||{}).hidden)switch(_[j]=Hi(j),n=T?t[A][j]:t[_[j]+v],r){case 1:l[j]=j-d.s.c;break;case 2:l[j]=_[j];break;case 3:l[j]=g.header[j-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),f=o=ul(n,null,g),S=I[o]||0,!S)I[o]=1;else{do f=o+"_"+S++;while(I[f]);I[o]=S,I[f]=1}l[j]=f}for(A=d.s.r+i;A<=d.e.r;++A)if(!(Q[A]||{}).hidden){var Y=oP(t,d,A,_,r,l,T,g);(Y.isempty===!1||(r===1?g.blankrows!==!1:g.blankrows))&&(b[w++]=Y.row)}return b.length=w,b}var p2=/"/g;function cP(t,e,n,r,i,l,o,f){for(var d=!0,g=[],p="",v=Mi(n),_=e.s.c;_<=e.e.c;++_)if(r[_]){var b=f.dense?(t[n]||[])[_]:t[r[_]+v];if(b==null)p="";else if(b.v!=null){d=!1,p=""+(f.rawNumbers&&b.t=="n"?b.v:ul(b,null,f));for(var w=0,S=0;w!==p.length;++w)if((S=p.charCodeAt(w))===i||S===l||S===34||f.forceQuotes){p='"'+p.replace(p2,'""')+'"';break}p=="ID"&&(p='"ID"')}else b.f!=null&&!b.F?(d=!1,p="="+b.f,p.indexOf(",")>=0&&(p='"'+p.replace(p2,'""')+'"')):p="";g.push(p)}return f.blankrows===!1&&d?null:g.join(o)}function v1(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Ir(t["!ref"]),l=r.FS!==void 0?r.FS:",",o=l.charCodeAt(0),f=r.RS!==void 0?r.RS:`
`,d=f.charCodeAt(0),g=new RegExp((l=="|"?"\\|":l)+"+$"),p="",v=[];r.dense=Array.isArray(t);for(var _=r.skipHidden&&t["!cols"]||[],b=r.skipHidden&&t["!rows"]||[],w=i.s.c;w<=i.e.c;++w)(_[w]||{}).hidden||(v[w]=Hi(w));for(var S=0,T=i.s.r;T<=i.e.r;++T)(b[T]||{}).hidden||(p=cP(t,i,T,v,o,d,l,r),p!=null&&(r.strip&&(p=p.replace(g,"")),(p||r.blankrows!==!1)&&n.push((S++?f:"")+p)));return delete r.dense,n.join("")}function rk(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=v1(t,e);return n}function uP(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Ir(t["!ref"]),l="",o=[],f,d=[],g=Array.isArray(t);for(f=i.s.c;f<=i.e.c;++f)o[f]=Hi(f);for(var p=i.s.r;p<=i.e.r;++p)for(l=Mi(p),f=i.s.c;f<=i.e.c;++f)if(e=o[f]+l,n=g?(t[p]||[])[f]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=e+"="+r}return d}function ik(t,e,n){var r=n||{},i=+!r.skipHeader,l=t||{},o=0,f=0;if(l&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var d=typeof r.origin=="string"?_i(r.origin):r.origin;o=d.r,f=d.c}var g,p={s:{c:0,r:0},e:{c:f,r:o+e.length-1+i}};if(l["!ref"]){var v=Ir(l["!ref"]);p.e.c=Math.max(p.e.c,v.e.c),p.e.r=Math.max(p.e.r,v.e.r),o==-1&&(o=v.e.r+1,p.e.r=o+e.length-1+i)}else o==-1&&(o=0,p.e.r=e.length-1+i);var _=r.header||[],b=0;e.forEach(function(S,T){Ri(S).forEach(function(A){(b=_.indexOf(A))==-1&&(_[b=_.length]=A);var j=S[A],I="z",Z="",Q=yr({c:f+b,r:o+T+i});g=Tf(l,Q),j&&typeof j=="object"&&!(j instanceof Date)?l[Q]=j:(typeof j=="number"?I="n":typeof j=="boolean"?I="b":typeof j=="string"?I="s":j instanceof Date?(I="d",r.cellDates||(I="n",j=ls(j)),Z=r.dateNF||Xr[14]):j===null&&r.nullError&&(I="e",j=0),g?(g.t=I,g.v=j,delete g.w,delete g.R,Z&&(g.z=Z)):l[Q]=g={t:I,v:j},Z&&(g.z=Z))})}),p.e.c=Math.max(p.e.c,f+_.length-1);var w=Mi(o);if(i)for(b=0;b<_.length;++b)l[Hi(b+f)+w]={t:"s",v:_[b]};return l["!ref"]=ii(p),l}function fP(t,e){return ik(null,t,e)}function Tf(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=_i(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Tf(t,yr(e)):Tf(t,yr({r:e,c:n||0}))}function hP(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function dP(){return{SheetNames:[],Sheets:{}}}function gP(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var l=n.match(/(^.*?)(\d+)$/);i=l&&+l[2]||0;var o=l&&l[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(GT(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function pP(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=hP(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function mP(t,e){return t.z=e,t}function sk(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function xP(t,e,n){return sk(t,"#"+e,n)}function vP(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function yP(t,e,n,r){for(var i=typeof e!="string"?e:Ir(e),l=typeof e=="string"?e:ii(e),o=i.s.r;o<=i.e.r;++o)for(var f=i.s.c;f<=i.e.c;++f){var d=Tf(t,o,f);d.t="n",d.F=l,delete d.v,o==i.s.r&&f==i.s.c&&(d.f=n,r&&(d.D=!0))}return t}var fr={encode_col:Hi,encode_row:Mi,encode_cell:yr,encode_range:ii,decode_col:l1,decode_row:a1,split_cell:jM,decode_cell:_i,decode_range:Ss,format_cell:ul,sheet_add_aoa:sT,sheet_add_json:ik,sheet_add_dom:ZT,aoa_to_sheet:Wc,json_to_sheet:fP,table_to_sheet:QT,table_to_book:$I,sheet_to_csv:v1,sheet_to_txt:rk,sheet_to_json:e0,sheet_to_html:KT,sheet_to_formulae:uP,sheet_to_row_object_array:e0,sheet_get_cell:Tf,book_new:dP,book_append_sheet:gP,book_set_sheet_visibility:pP,cell_set_number_format:mP,cell_set_hyperlink:sk,cell_set_internal_link:xP,cell_add_comment:vP,sheet_set_array_formula:yP,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const bP={"2POLE_IN5LOOP":"2P_L",IMACD:"IMACD","2POLE_Direct_Signal":"2P_DS","HIGHEST SWING HIGH":"HSH","LOWEST SWING LOW":"LSL","NORMAL SWING HIGH":"NSH","NORMAL SWING LOW":"NSL",ProGap:"PG",CrossOver:"CO",Spike:"SP",Kicker:"Kicker"},_P=({selectedSignals:t,setSelectedSignals:e,selectedMachines:n,setSelectedMachines:r,selectedIntervals:i,setSelectedIntervals:l,selectedActions:o,setSelectedActions:f,fromDate:d,toDate:g,setFromDate:p,setToDate:v,includeMinClose:_,setIncludeMinClose:b,signalRadioMode:w,setSignalRadioMode:S,machineRadioMode:T,setMachineRadioMode:A,intervalRadioMode:j,setIntervalRadioMode:I,actionRadioMode:Z,setActionRadioMode:Q,signalToggleAll:Y,setSignalToggleAll:L,machineToggleAll:U,setMachineToggleAll:q,machines:ie,setDateKey:xe,assignedCount:ue,dateKey:De})=>{const We=X=>X==null?"":String(X),Ye=X=>{e(D=>{const J={...D,[X]:!D[X]};return localStorage.setItem("selectedSignals",JSON.stringify(J)),J})},ee=X=>{const D=We(X);r(J=>{const H={...J,[D]:!J[D]};return localStorage.setItem("selectedMachines",JSON.stringify(H)),H})},Pe=X=>{l(D=>{const J={...D,[X]:!D[X]};return localStorage.setItem("selectedIntervals",JSON.stringify(J)),J})},Fe=X=>{f(D=>{const J={...D,[X]:!D[X]};return localStorage.setItem("selectedActions",JSON.stringify(J)),J})};return u.jsxs("div",{className:"w-full columns-1 sm:columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4",children:[u.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-blue-900 dark:via-gray-900 dark:to-blue-950 rounded-2xl shadow-lg border border-blue-200 dark:border-blue-800 p-4 gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-blue-700 dark:text-blue-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Signal",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),u.jsx("button",{onClick:()=>{const X=!w;if(S(X),X){const D=Object.keys(t).find(J=>t[J]);if(D){const J={};Object.keys(t).forEach(H=>{J[H]=H===D}),e(J),localStorage.setItem("selectedSignals",JSON.stringify(J))}}},className:"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-100 px-2 py-1 rounded text-xs font-semibold hover:bg-blue-300 dark:hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 transition-all",title:"Toggle between radio and checkbox mode",children:w?" Check":" Radio"}),!w&&u.jsx("button",{onClick:()=>{const X={};Object.keys(t).forEach(D=>X[D]=Y),e(X),L(!Y),localStorage.setItem("selectedSignals",JSON.stringify(X))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Y?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all signals",children:Y?" All":" Uncheck"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(t).map(X=>u.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[w?u.jsx("input",{type:"radio",name:"signalFilterRadio",checked:t[X],onChange:()=>{const D={};Object.keys(t).forEach(J=>{D[J]=J===X}),e(D),localStorage.setItem("selectedSignals",JSON.stringify(D))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):u.jsx("input",{type:"checkbox",checked:t[X],onChange:()=>Ye(X),className:"form-checkbox h-5 w-5 text-blue-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:bP[X]||X})]},X))})]}),u.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-green-50 via-white to-green-100 dark:from-green-900 dark:via-gray-900 dark:to-green-950 rounded-2xl shadow-lg border border-green-200 dark:border-green-800 p-4 gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-green-700 dark:text-green-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Machine",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-green-400 via-green-300 to-green-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),u.jsx("button",{onClick:()=>{const X=!T;if(A(X),X){const D=ie.find(J=>n[We(J.machineid)]);if(D){const J={};ie.forEach(H=>{const K=We(H.machineid);J[K]=K===We(D.machineid)}),r(J),localStorage.setItem("selectedMachines",JSON.stringify(J))}}},className:"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 px-2 py-1 rounded text-xs font-semibold hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400 transition-all",title:"Toggle between radio and checkbox mode",children:T?" Check ":" Radio"}),!T&&u.jsx("button",{onClick:()=>{const X=Object.values(n).every(J=>J===!0),D={};ie.forEach(J=>{const H=We(J.machineid);D[H]=!X}),r(D),q(!X),localStorage.setItem("selectedMachines",JSON.stringify(D))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(n).every(X=>X===!1)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all machines",children:Object.values(n).every(X=>X===!1)?" All":" Uncheck"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(X=>u.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[T?u.jsx("input",{type:"radio",name:"machineRadio",checked:n[We(X.machineid)]===!0,onChange:()=>{const D={};ie.forEach(J=>{const H=We(J.machineid);D[H]=H===We(X.machineid)}),r(D),localStorage.setItem("selectedMachines",JSON.stringify(D))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):u.jsx("input",{type:"checkbox",checked:n[We(X.machineid)]||!1,onChange:()=>ee(We(X.machineid)),className:"form-checkbox h-5 w-5 text-blue-600"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:[X.machineid,!X.active&&u.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(inactive)"})]})]},X.machineid))})]}),u.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-purple-50 via-white to-purple-100 dark:from-purple-900 dark:via-gray-900 dark:to-purple-950 rounded-2xl shadow-lg border border-purple-200 dark:border-purple-800 p-4 gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-purple-700 dark:text-purple-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Interval",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-purple-400 via-purple-300 to-purple-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),u.jsx("button",{onClick:()=>{const X=!j;if(I(X),X){const D=Object.keys(i).find(J=>i[J]);if(D){const J={};Object.keys(i).forEach(H=>{J[H]=H===D}),l(J),localStorage.setItem("selectedIntervals",JSON.stringify(J))}}},className:"bg-purple-200 dark:bg-purple-800 text-purple-900 dark:text-purple-100 px-2 py-1 rounded text-xs font-semibold hover:bg-purple-300 dark:hover:bg-purple-700 focus:ring-2 focus:ring-purple-400 transition-all",title:"Toggle between radio and checkbox mode",children:j?" Check":" Radio"}),!j&&u.jsx("button",{onClick:()=>{const X=Object.values(i).every(J=>J),D={};Object.keys(i).forEach(J=>{D[J]=!X}),l(D),localStorage.setItem("selectedIntervals",JSON.stringify(D))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(i).every(X=>!X)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all intervals",children:Object.values(i).every(X=>!X)?" All":" Uncheck"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(i).map(X=>u.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[j?u.jsx("input",{type:"radio",name:"intervalFilterRadio",checked:i[X],onChange:()=>{const D={};Object.keys(i).forEach(J=>{D[J]=J===X}),l(D),localStorage.setItem("selectedIntervals",JSON.stringify(D))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):u.jsx("input",{type:"checkbox",checked:i[X],onChange:()=>Pe(X),className:"form-checkbox h-5 w-5 text-blue-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:X})]},X))})]}),u.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-pink-50 via-white to-pink-100 dark:from-pink-900 dark:via-gray-900 dark:to-pink-950 rounded-2xl shadow-lg border border-pink-200 dark:border-pink-800 p-4 gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-pink-700 dark:text-pink-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Action",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-pink-400 via-pink-300 to-pink-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),u.jsx("button",{onClick:()=>{const X=!Z;if(Q(X),X){const D=Object.keys(o).find(J=>o[J]);if(D){const J={BUY:!1,SELL:!1};J[D]=!0,f(J),localStorage.setItem("selectedActions",JSON.stringify(J))}}},className:"bg-pink-200 dark:bg-pink-800 text-pink-900 dark:text-pink-100 px-2 py-1 rounded text-xs font-semibold hover:bg-pink-300 dark:hover:bg-pink-700 focus:ring-2 focus:ring-pink-400 transition-all",title:"Toggle between radio and checkbox mode",children:Z?" Check":" Radio"}),!Z&&u.jsx("button",{onClick:()=>{const X=Object.values(o).every(J=>J),D={BUY:!X,SELL:!X};f(D),localStorage.setItem("selectedActions",JSON.stringify(D))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(o).every(X=>!X)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all actions",children:Object.values(o).every(X=>!X)?" All":" Uncheck"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["BUY","SELL"].map(X=>u.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[Z?u.jsx("input",{type:"radio",name:"actionRadio",checked:o[X],onChange:()=>{const D={BUY:!1,SELL:!1};D[X]=!0,f(D),localStorage.setItem("selectedActions",JSON.stringify(D))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):u.jsx("input",{type:"checkbox",checked:o[X],onChange:()=>Fe(X),className:"form-checkbox h-5 w-5 text-blue-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:X})]},X))})]}),u.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-yellow-50 via-white to-yellow-100 dark:from-yellow-900 dark:via-gray-900 dark:to-yellow-950 rounded-2xl shadow-lg border border-yellow-200 dark:border-yellow-800 p-2 gap-1 justify-start items-stretch",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-yellow-700 dark:text-yellow-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Date & Time",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]})}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200 mb-0.5",children:"From"}),u.jsx("input",{type:"datetime-local",value:d?xt(d).format("YYYY-MM-DDTHH:mm"):"",onChange:X=>{const D=X.target.value;p(D?xt(D):null)},className:"border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"From"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200 mb-0.5",children:"To"}),u.jsx("input",{type:"datetime-local",value:g?xt(g).format("YYYY-MM-DDTHH:mm"):"",onChange:X=>{const D=X.target.value;v(D?xt(D):null)},className:"border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"To"})]}),u.jsx("button",{type:"button",onClick:()=>{p(null),v(null),xe(X=>X+1)},className:"bg-yellow-400 dark:bg-yellow-700 text-yellow-900 dark:text-yellow-100 px-2 py-1 rounded mt-1 hover:bg-yellow-500 dark:hover:bg-yellow-800 focus:ring-1 focus:ring-yellow-400 transition-all font-semibold text-xs",children:"Reset"})]})]})]})},SP=({title:t,value:e,isSelected:n,onClick:r,sticker:i,onStickerClick:l})=>{const[o,f]=Ur.useState(()=>localStorage.getItem(`boxTag-${t}`)||""),[d,g]=x.useState(!1),[p,v]=x.useState(""),[_,b]=x.useState("#FFF9C4"),[w,S]=x.useState(1),T=x.useRef(null),A=[{name:"Yellow",value:"#FFF9C4"},{name:"Orange",value:"#FFE0B2"},{name:"Green",value:"#C8E6C9"},{name:"Blue",value:"#BBDEFB"},{name:"Pink",value:"#F8BBD0"}],j=[{name:"Small",value:1},{name:"Large",value:1.2},{name:"Largest",value:1.4}],I=U=>{U.stopPropagation(),v(""),b("#FFF9C4"),S(1),g(!0)},Z=U=>{U.stopPropagation(),f(""),localStorage.removeItem(`boxTag-${t}`)},Q=U=>{U.stopPropagation();const q=JSON.stringify({text:p,color:_,scale:w});f(q),localStorage.setItem(`boxTag-${t}`,q),g(!1)},Y=U=>{U.stopPropagation(),g(!1)},L=U=>{let q=0;return U.split(/([+-]?[\d.]+)/g).map((ie,xe)=>{if(!isNaN(ie)&&ie.trim()!==""){const De=parseFloat(ie)<0?"text-red-400":"text-green-300";return q++,u.jsx("span",{className:`relative px-[3px] font-semibold text-[46px] ${De}`,onMouseEnter:We=>{const Ye=["Running","Closed","Total"];let ee=window.dashboardTooltip;ee||(ee=document.createElement("div"),ee.id="dashboardTooltip",ee.style.cssText=`
                  position: fixed;
                  background: #222;
                  color: #fff;
                  padding: 6px 12px;
                  border-radius: 5px;
                  font-size: 18px;
                  font-weight: 600;
                  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                  z-index: 9999;
                  pointer-events: none;
                  opacity: 0;
                  transition: opacity 0.1s ease;
                `,document.body.appendChild(ee),window.dashboardTooltip=ee),ee.innerText=Ye[q-1]||"",ee.style.left=`${We.clientX+10}px`,ee.style.top=`${We.clientY+10}px`,ee.style.opacity="0",requestAnimationFrame(()=>{ee.style.display="block",requestAnimationFrame(()=>{ee.style.opacity="1"})})},onMouseMove:We=>{window.dashboardTooltip&&(window.dashboardTooltip.style.left=`${We.clientX+10}px`,window.dashboardTooltip.style.top=`${We.clientY+10}px`)},onMouseLeave:()=>{window.dashboardTooltip&&(window.dashboardTooltip.style.display="none")},children:ie},xe)}else return u.jsx("span",{className:"text-white text-sm px-[1px] opacity-80",children:ie},xe)})};return u.jsxs("div",{className:"relative group",children:[n&&u.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-full shadow-lg z-20 border border-yellow-600 animate-pulse",children:"Selected"}),o&&(()=>{const U=JSON.parse(o);return u.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-3 py-1.5 rounded-full z-10 shadow-lg border border-gray-300 dark:border-gray-700",style:{backgroundColor:U.color||"yellow",fontSize:`calc(1.1rem * var(--app-font-scale) * ${U.scale||1})`},children:[u.jsx("span",{className:"font-bold mr-1",children:""}),U.text,u.jsx("button",{onClick:Z,className:"ml-1 text-red-700 font-bold hover:text-red-900",children:""})]})})(),u.jsx("button",{ref:T,onClick:I,className:"absolute top-2 left-2 bg-gray-200 text-black text-xs w-5 h-5 rounded-full z-10 shadow hover:bg-gray-300 border border-gray-400 flex items-center justify-center",style:{transform:"translate(-110%, -110%)"},title:"Add tag",children:"+"}),d&&u.jsxs("div",{className:"absolute top-8 left-2 z-30 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-4 w-64 animate-fade-in",style:{minWidth:220},children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Tag Name"}),u.jsx("input",{className:"w-full px-2 py-1 rounded border border-gray-300 dark:bg-gray-800 dark:text-white",value:p,onChange:U=>v(U.target.value),placeholder:"Enter tag name",autoFocus:!0})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Color"}),u.jsx("div",{className:"flex gap-2",children:A.map(U=>u.jsx("button",{className:`w-7 h-7 rounded-full border-2 ${_===U.value?"border-black dark:border-white scale-110":"border-gray-300"} transition-all`,style:{backgroundColor:U.value},onClick:q=>{q.stopPropagation(),b(U.value)},title:U.name},U.value))})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Size"}),u.jsx("div",{className:"flex gap-2",children:j.map(U=>u.jsx("button",{className:`px-2 py-1 rounded border-2 ${w===U.value?"border-blue-500 bg-blue-100 dark:bg-blue-900":"border-gray-300"} transition-all text-xs font-semibold`,onClick:q=>{q.stopPropagation(),S(U.value)},title:U.name,children:U.name},U.value))})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[u.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-black text-xs font-semibold",onClick:Y,children:"Cancel"}),u.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold",onClick:Q,disabled:!p.trim(),children:"Save"})]})]}),u.jsxs("div",{className:`cursor-pointer p-8 rounded-2xl border-2 border-transparent transition-all duration-300 transform bg-gradient-to-br from-blue-800/90 to-indigo-900/90 dark:from-blue-900/80 dark:to-gray-900/90 group-hover:scale-105 group-hover:shadow-2xl group-hover:border-yellow-400/70 group-focus-within:scale-105 group-focus-within:shadow-2xl group-focus-within:border-yellow-400/90 group-active:scale-100 group-active:shadow-lg group-active:border-yellow-500/90
      ${n?"ring-4 ring-yellow-400 border-yellow-600 scale-105 shadow-2xl bg-yellow-100/80 dark:bg-yellow-900/30":"hover:ring-2 hover:ring-yellow-400/60"}
      `,onClick:r,tabIndex:0,title:t.replace(/_/g," "),children:[i&&u.jsx("button",{className:"absolute -top-2 -right-2 z-20 bg-pink-600 text-white text-[10px] md:text-xs font-bold px-2 py-1 rounded-full shadow-lg border border-pink-300 hover:bg-pink-700 animate-pulse ring-2 ring-pink-300",onClick:U=>{U.stopPropagation(),l&&l()},title:"View newly added trades",children:i}),u.jsx("h2",{className:"text-lg font-semibold text-center text-sky-300 mb-2 truncate",title:t.replace(/_/g," "),children:t.replace(/_/g," ")}),u.jsx("div",{className:"text-2xl font-bold text-center leading-snug whitespace-nowrap overflow-x-auto",children:typeof e=="string"?u.jsx("span",{className:"text-[22px] leading-snug inline-block min-w-full pointer-events-none",children:u.jsx("div",{className:"flex flex-wrap justify-end gap-[3px] pointer-events-auto",style:{pointerEvents:"auto"},children:L(e)})}):e})]})]})};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ak=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:o,...f},d)=>x.createElement("svg",{ref:d,...EP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ak("lucide",i),...f},[...o.map(([g,p])=>x.createElement(g,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=(t,e)=>{const n=x.forwardRef(({className:r,...i},l)=>x.createElement(TP,{ref:l,iconNode:e,className:ak(`lucide-${wP(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],CP=Es("Activity",kP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],lk=Es("ChartNoAxesColumnIncreasing",NP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],AP=Es("Crosshair",OP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MP=Es("FileText",DP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ok=Es("House",RP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],LP=Es("LayoutGrid",jP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],PP=Es("Menu",IP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],zP=Es("Play",FP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HP=Es("Settings",BP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$P=Es("Shield",UP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],VP=Es("Square",WP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],GP=Es("Users",YP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],XP=Es("X",qP),Qu=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(t===!1||t==="false"||t===0||t==="0"||t===null||t===void 0)return!1;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},Bl=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},Br=(t,e=2,n="")=>{const r=parseFloat(t);return isNaN(r)?"N/A":`${n}${r.toFixed(e)}`},ld=t=>{if(!t)return"N/A";const e=xt.utc(t);if(e.isValid())return e.format("YYYY-MM-DD HH:mm:ss");try{return String(t).replace("T"," ").replace("Z","")}catch{return String(t)}},JP=t=>{if(!t)return"N/A";const e=xt.utc(t);if(e.isValid())return e.format("YYYY-MM-DD");try{const n=String(t).replace("T"," ").replace("Z","");return n.split(" ")[0]||n}catch{return String(t)}},t0=(t,e)=>({"S No":e+1,"M.Id":t.machineid||"N/A","":"copy",Unique_ID:t.unique_id||"N/A",macd_action:t.macd_action??t.MACD_Action??t.macdAction??"N/A","Candle_":ld(t.candel_time),"Fetcher_":ld(t.fetcher_trade_time),"Operator_":ld(t.operator_trade_time),Pair:t.pair?`<div style="display:flex; flex-direction:column; align-items:center;">
        <a href="https://www.binance.com/en/futures/${t.pair}" target="_blank" rel="noopener noreferrer" style="color:#1d4ed8;text-decoration:underline;">${t.pair}</a>
        <button onclick="window.open('https://www.tradingview.com/chart/?symbol=BINANCE:${t.pair}.P', '_blank')" style="margin-top:2px;font-size:10px;padding:2px 6px;background:#eee;border:1px solid #aaa;border-radius:4px;cursor:pointer;">
           Chart
        </button>
      </div>`:"N/A","":t.interval||"N/A","":t.action||"N/A",Investment:Br(t.investment,2,"$"),PL:Br(t.pl_after_comm,2),"_BUY":Br(t.hedge_buy_pl,2),"_SELL":Br(t.hedge_sell_pl,2),Type:t.type||"N/A","Operator_":ld(t.operator_close_time),"":t.signalfrom||"N/A",PJ:(()=>{const n=t.profit_journey;return n===!0||n==="true"||n===1||typeof n=="string"&&parseFloat(n)>0?"":""})(),CJ:(()=>{const n=t.commision_journey;return n===!0||n==="true"||n===1||typeof n=="string"&&parseFloat(n)>0?"":""})(),Stop_Price:Br(t.stop_price,6),Save_Price:Br(t.save_price,6),Min_Comm:Br(t.min_comm,6),"":Qu(t.hedge)?" Yes":" No","1-1":Bl(t.hedge_1_1_bool)?" Yes":" No","_Order_Size":t.hedge_order_size||"N/A","Min_Comm_After_":Br(t.min_comm_after_hedge,6),Min_Profit:Br(t.min_profit,2,"$"),Buy_Qty:t.buy_qty||0,Buy_Price:Br(t.buy_price,6),Buy_PL:Br(t.buy_pl,6),Added_Qty:t.added_qty||"N/A",Sell_Qty:t.sell_qty||0,Sell_Price:Br(t.sell_price,6),Sell_PL:Br(t.sell_pl,6),Close_Price:Br(t.close_price,6),Commission:Br(t.commission,2,"$"),Date:JP(t.candel_time),Swing1:Br(t.swing1,6),Swing2:Br(t.swing2,6),Swing3:Br(t.swing3,6),Swing4:Br(t.swing4,6),Swing5:Br(t.swing5,6),HSHighP:Br(t.hedge_swing_high_point,6),HSLowP:Br(t.hedge_swing_low_point,6),THighP:Br(t.temp_high_point,6),TlowP:Br(t.temp_low_point,6)}),KP=({title:t,tradeData:e,clientData:n,activeSubReport:r,setActiveSubReport:i})=>{var cr;const l=Ur.useMemo(()=>t.replace(/\s+/g,"_").trim(),[t]),[o,f]=x.useState(()=>{try{const ge=localStorage.getItem("chartSettings"),ze=ge?JSON.parse(ge):{};return{layout:ze.layout??3,showVolume:ze.showVolume??!1,showRSI:ze.showRSI??!1,showMACD:ze.showMACD??!0,height:ze.height??500,interval:ze.interval??"15"}}catch{return{layout:3,showVolume:!1,showRSI:!1,showMACD:!0,height:500,interval:"15"}}});x.useEffect(()=>{localStorage.setItem("chartSettings",JSON.stringify(o))},[o]);const[d,g]=x.useState(()=>{const ge=localStorage.getItem("remarksMap");return ge?JSON.parse(ge):{}}),[p,v]=x.useState(14),[_,b]=x.useState(()=>{const ge=localStorage.getItem("remarksWidth");return ge?parseInt(ge):300});x.useEffect(()=>{localStorage.setItem("remarksMap",JSON.stringify(d))},[d]),x.useEffect(()=>{localStorage.setItem("remarksWidth",_)},[_]);const[w,S]=x.useState(()=>{const ge=localStorage.getItem("reportFontSizeLevel");return ge?parseInt(ge,10):3});x.useEffect(()=>{localStorage.setItem("reportFontSizeLevel",w)},[w]);const T="tableColumnOrder_global",[A,j]=x.useState([]),[I,Z]=x.useState(!1),[Q,Y]=x.useState(null),L=x.useCallback((ge,ze)=>{if(ze==="Client_Stats"){const nt=n.filter(Ee=>Ee.machineid===ge);q(nt.map((Ee,Oe)=>({"S No":Oe+1,"Machine ID":Ee.machineid||"N/A","Client Name":Ee.name||"N/A",Active:Bl(Ee.active)?"":"","Last Ping":Ee.lastping||"N/A",Region:Ee.region||"N/A"})))}else i(ge)},[n]),[U,q]=x.useState([]),[ie,xe]=x.useState([]),[ue,De]=Ur.useState({key:null,direction:"asc"}),[We,Ye]=x.useState(null),[ee,Pe]=x.useState({}),[Fe,X]=x.useState(""),[D,J]=x.useState(null);x.useEffect(()=>{if(D){const ge=setTimeout(()=>J(null),1200);return()=>clearTimeout(ge)}},[D]);function H(){document.querySelectorAll("th .filter-icon").forEach(ge=>{const ze=ge.getAttribute("data-index");ee[ze]?(ge.innerText="",ge.style.color="green"):(ge.innerText="",ge.style.color="")})}function K(ge,ze){document.querySelectorAll(".filter-popup").forEach(ot=>ot.remove());const nt=[...document.querySelectorAll("tbody tr td:nth-child("+(ge+1)+")")].map(ot=>ot.innerText.trim()),Ee={};nt.forEach(ot=>Ee[ot]=(Ee[ot]||0)+1);const Oe=Object.keys(Ee),me=document.createElement("div");me.className="filter-popup",me.style.position="fixed",me.style.background="white",me.style.color="black",me.style.padding="12px",me.style.borderRadius="8px",me.style.zIndex="999999",me.style.maxHeight="500px",me.style.overflowY="auto",me.style.display="flex",me.style.flexDirection="column",me.style.gap="8px";const Ge=[],cn=document.createElement("button");cn.innerText=" Reset Column",cn.onclick=ot=>{ot.stopPropagation();const Dt={...ee};delete Dt[ge],Pe(Dt),me.remove()},me.appendChild(cn);const Qt=document.createElement("button");Qt.innerText=" Apply",Qt.onclick=ot=>{ot.stopPropagation();const Dt=Ge.filter(ht=>ht.checked).map(ht=>ht.value);ee[ge]=Dt.length===Oe.length?void 0:Dt,Pe({...ee}),me.remove(),H()},me.appendChild(Qt);const V=document.createElement("button");V.innerText=" Select All",V.style.backgroundColor="#4caf50",V.style.color="white";let Se=!0;V.onclick=()=>{Se=!Se,Ge.forEach(ot=>ot.checked=Se),V.innerText=Se?" Select All":" Deselect All",V.style.backgroundColor=Se?"#4caf50":"#f44336"},me.appendChild(V),Oe.forEach(ot=>{const Dt=document.createElement("label");Dt.style.display="flex",Dt.style.alignItems="center",Dt.style.gap="6px";const ht=document.createElement("input");ht.type="checkbox",ht.value=ot,ht.checked=!0,Dt.appendChild(ht),Dt.appendChild(document.createTextNode(` ${ot} (${Ee[ot]})`)),me.appendChild(Dt),Ge.push(ht)}),document.body.appendChild(me);const Mt=ze.target.getBoundingClientRect();me.style.top=`${Mt.bottom+10}px`,me.style.left=`${Mt.left}px`,setTimeout(()=>{const ot=Dt=>{me.contains(Dt.target)||(me.remove(),document.removeEventListener("click",ot))};document.addEventListener("click",ot)},100)}function P(ge,ze,nt){let Ee=document.getElementById("copyPopup");Ee||(Ee=document.createElement("div"),Ee.id="copyPopup",Ee.innerText=" Copy Selected",Ee.style.position="fixed",Ee.style.background="black",Ee.style.color="white",Ee.style.padding="10px 20px",Ee.style.borderRadius="8px",Ee.style.fontSize="13px",Ee.style.fontWeight="bold",Ee.style.cursor="pointer",Ee.style.zIndex="999999",Ee.style.opacity="1",Ee.style.pointerEvents="auto",Ee.style.boxShadow="0 5px 15px rgba(0,0,0,0.3)",Ee.style.userSelect="none",Ee.style.transition="opacity 0.3s ease, transform 0.2s ease",Ee.addEventListener("mouseenter",()=>{Ee.style.backgroundColor="#333",Ee.style.transform="scale(1.05)"}),Ee.addEventListener("mouseleave",()=>{Ee.style.backgroundColor="black",Ee.style.transform="scale(1)"}),Ee.addEventListener("click",me=>{me.stopPropagation(),navigator.clipboard.writeText(ge).then(()=>{Ee.innerText=" Copied!",setTimeout(()=>{Ee&&Ee.remove()},800)})}),document.body.appendChild(Ee)),Ee.style.left=`${ze-window.scrollX}px`,Ee.style.top=`${nt-window.scrollY}px`,Ee.style.display="block",Ee.style.opacity="1";const Oe=me=>{Ee.contains(me.target)||(Ee.remove(),document.removeEventListener("click",Oe))};setTimeout(()=>{document.addEventListener("click",Oe)},10)}x.useEffect(()=>{const ge=ze=>{const nt=window.getSelection();if(!nt)return;const Ee=nt.toString().trim();if(!Ee){const Oe=document.getElementById("copyPopup");Oe&&Oe.remove();return}setTimeout(()=>{try{const me=nt.getRangeAt(0).getBoundingClientRect(),Ge=me.left+window.scrollX+me.width/2,cn=me.bottom+window.scrollY+10;P(Ee,Ge,cn)}catch(Oe){console.error("Copy popup positioning error:",Oe)}},0)};return document.addEventListener("mouseup",ge),()=>{document.removeEventListener("mouseup",ge)}},[]),x.useEffect(()=>{const ge=ze=>{document.querySelectorAll(".filter-popup").forEach(Ee=>{Ee.contains(ze.target)||(Ee.remove(),setActivePopupIndex(null))})};return document.addEventListener("click",ge),()=>document.removeEventListener("click",ge)},[]);const G=x.useMemo(()=>{let ge=[...U];const ze=Ee=>{if(Ee==null)return"";if(typeof Ee!="string")return String(Ee).trim();const Oe=document.createElement("div");return Oe.innerHTML=Ee,(Oe.textContent||"").replace(/\s+/g," ").trim()},nt=A.length?A:U[0]?Object.keys(U[0]):[];return Object.entries(ee).forEach(([Ee,Oe])=>{if(!Oe)return;const me=Oe.map(ze),Ge=parseInt(Ee),cn=nt[Ge];cn&&(ge=ge.filter(Qt=>{const V=ze(Qt[cn]);return me.includes(V)}))}),ue.key?[...ge].sort((Ee,Oe)=>{const me=Ee[ue.key]||"",Ge=Oe[ue.key]||"";return!isNaN(me)&&!isNaN(Ge)?ue.direction==="asc"?me-Ge:Ge-me:ue.direction==="asc"?me.localeCompare(Ge):Ge.localeCompare(me)}):ge},[U,ue,ee]);x.useEffect(()=>{if(!G.length)return;const ge=Object.keys(G[0]);let ze=[];try{ze=JSON.parse(localStorage.getItem(T)||"[]")}catch{ze=[]}let nt;Array.isArray(ze)&&ze.length?nt=ze:(nt=["Investment","PL","Pair"].filter(V=>ge.includes(V)),ge.forEach(V=>{nt.includes(V)||nt.push(V)}));const Ee=nt.filter(Qt=>ge.includes(Qt)||Qt==="Live"),Oe=ge.filter(Qt=>!Ee.includes(Qt));let me=[...Ee,...Oe];me.includes("Live")||me.push("Live");const Ge=me.indexOf("Investment"),cn=me.indexOf("PL");if(Ge!==-1&&cn!==-1&&Ge>cn){const Qt=[...me];Qt.splice(Ge,1),Qt.splice(cn,0,"Investment"),me=Qt}me.join("|")!==A.join("|")&&(j(me),localStorage.setItem(T,JSON.stringify(me)))},[G,T,A]);const oe=ge=>Y(ge),Ne=(ge,ze)=>{ge.preventDefault(),!(!Q||Q===ze)&&j(nt=>{const Ee=nt.indexOf(Q),Oe=nt.indexOf(ze);if(Ee===-1||Oe===-1)return nt;const me=[...nt];return me.splice(Ee,1),me.splice(Oe,0,Q),localStorage.setItem(T,JSON.stringify(me)),me})},Ie=()=>{if(!G.length)return;const ge=Object.keys(G[0]),ze=ge.includes("Live")?ge:[...ge,"Live"];j(ze),localStorage.setItem(T,JSON.stringify(ze))},Je=x.useMemo(()=>ue.key?[...U].sort((ge,ze)=>{const nt=ge[ue.key]||"",Ee=ze[ue.key]||"";return!isNaN(nt)&&!isNaN(Ee)?ue.direction==="asc"?nt-Ee:Ee-nt:ue.direction==="asc"?nt.localeCompare(Ee):Ee.localeCompare(nt)}):U,[U,ue]);x.useEffect(()=>{if(console.log(" TableView useEffect - title:",t,"tradeData length:",e==null?void 0:e.length),!t||!e||e.length===0)return;let ge=[...e];switch(t){case"Total_Closed_Stats":ge=ge.filter(Oe=>Oe.type==="close"||Oe.type==="hedge_close");break;case"Direct_Closed_Stats":ge=ge.filter(Oe=>{const me=Qu(Oe.hedge);return Oe.type==="close"&&!me});break;case"Hedge_Closed_Stats":ge=ge.filter(Oe=>Oe.type==="hedge_close");break;case"Total_Running_Stats":ge=ge.filter(Oe=>Oe.type==="running"||Oe.type==="hedge_hold");break;case"Assigned_New":ge=ge.filter(Oe=>Oe.type==="assign"||Oe.type==="back_close");break;case"Direct_Running_Stats":ge=ge.filter(Oe=>{const me=Qu(Oe.hedge)||Oe.type==="hedge_hold";return Oe.type==="running"&&!me});break;case"Hedge_Running_Stats":ge=ge.filter(Oe=>{const me=Qu(Oe.hedge)||Oe.type==="hedge_hold",Ge=Bl(Oe.hedge_1_1_bool);return(Oe.type==="running"||Oe.type==="hedge_hold")&&me&&!Ge});break;case"Hedge_on_Hold":ge=ge.filter(Oe=>{const me=Qu(Oe.hedge)||Oe.type==="hedge_hold",Ge=Bl(Oe.hedge_1_1_bool);return(Oe.type==="running"||Oe.type==="hedge_hold")&&me&&Ge});break;case"Closed_Count_Stats":ge=ge.filter(Oe=>{if(r==="loss")return Oe.type==="close"&&Oe.pl_after_comm<0;if(r==="profit")return Oe.type==="close"&&Oe.pl_after_comm>0;if(r==="pj"){const me=Bl(Oe.profit_journey);return Oe.type==="close"&&me}return!0});break;case"Buy_Sell_Stats":ge=ge.filter(Oe=>["BUY","SELL"].includes(Oe.action)?r==="buy"?Oe.action==="BUY":r==="sell"?Oe.action==="SELL":!0:!1);break;case"Journey_Stats_Running":ge=ge.filter(Oe=>{const me=Bl(Oe.profit_journey),Ge=Bl(Oe.commision_journey);return r==="pj"?me&&Oe.pl_after_comm>0&&(Oe.type==="running"||Oe.type==="hedge_hold"):r==="cj"?Ge&&Oe.pl_after_comm>0&&(Oe.type==="running"||Oe.type==="hedge_hold")&&!me:r==="bc"?Oe.pl_after_comm<0&&(Oe.type==="running"||Oe.type==="hedge_hold"):!0});break;case"Client_Stats":const Ee=n.map((Oe,me)=>({"S No":me+1,"Machine ID":Oe.machineid||"N/A","Client Name":Oe.name||"N/A",Active:Bl(Oe.active)?"":"","Last Ping":Oe.lastping||"N/A",Region:Oe.region||"N/A"}));q(Ee);return;case"Min_Close_Profit":ge=ge.filter(Oe=>Oe.type==="close"&&Oe.min_close==="Min_close"&&Oe.pl_after_comm>0);break;case"Min_Close_Loss":ge=ge.filter(Oe=>Oe.type==="close"&&Oe.min_close==="Min_close"&&Oe.pl_after_comm<0);break;default:console.log(" TableView - No case match for title:",t);break}console.log(" TableView after switch - filteredTrades length:",ge.length);let ze=ge.map((Ee,Oe)=>t0(Ee,Oe));const nt=Fe.trim().toLowerCase();nt.length>0&&(ze=ze.filter(Ee=>Object.values(Ee).some(Oe=>String(Oe).toLowerCase().includes(nt)))),console.log(" TableView final result length:",ze.length),console.log(" TableView final result sample:",ze.slice(0,1)),q(ze),xe(ge)},[t,e,r,n,Fe]);const Ke=(ge,ze,nt=3)=>{if(!ze||ze.length===0)return;const Ee=window.open("","_blank","width=1200,height=600"),Oe=Object.keys(ze[0]),me=`
  <html>
  <head>
  <title>${ge.replace(/_/g," ")} Report</title>
  <style>
  body { font-family: Arial; margin:20px; background:#f2f2f7; font-size: ${12+(nt-8)*2}px; }
  table { width:100%; border-collapse: collapse; cursor:pointer; }
  th, td { padding:6px 8px; border-bottom:1px solid #ccc; text-align:center; }
  th { background:#288994; color:white; position:sticky; top:0; z-index:3; }
  </style>
  </head>
  <body>
  
    <table>
      <thead>
        <tr>
          ${Oe.map(Ge=>`<th>${Ge}</th>`).join("")}
        </tr>
      </thead>
      <tbody>
        ${ze.map(Ge=>`<tr>${Oe.map(cn=>`<td>${Ge[cn]}</td>`).join("")}</tr>`).join("")}
      </tbody>
    </table>
  </body>
  </html>
  `;Ee.document.write(me)},pn=ge=>{De(ze=>({key:ge,direction:ze.key===ge&&ze.direction==="asc"?"desc":"asc"}))},Ft=ge=>ge==null?"":typeof ge=="string"?ge.replace(/<[^>]+>/g,"").trim():String(ge).trim(),un=x.useCallback(ge=>{if(!ge||!U.length||!ie.length)return null;const ze=Ft(ge.Unique_ID);if(!ze||ze==="n/a")return null;const nt=U.findIndex(Ee=>Ft(Ee.Unique_ID)===ze);return nt>=0?ie[nt]:null},[U,ie]),Zt=zc(),Bn=ie.length>0&&ie.every(ge=>ge.type==="running"||ge.type==="hedge_hold");let ft=[];switch(l){case"Closed_Count_Stats":ft=["loss","profit","pj"];break;case"Buy_Sell_Stats":ft=["buy","sell"];break;case"Journey_Stats_Running":ft=["pj","cj","bc"];break;case"Client_Stats":ft=n.map(ge=>ge.MachineId);break;default:ft=[]}const He=ft.length>0&&u.jsx("div",{className:"flex gap-2 mb-2",children:ft.map(ge=>u.jsx("button",{onClick:()=>L(ge,l),className:`px-3 py-1 text-sm rounded transition-all duration-150 ease-in-out ${r===ge?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ge.toUpperCase()},ge))}),Ct=(cr=Fe==null?void 0:Fe.trim())==null?void 0:cr.toLowerCase(),yn=Ct&&Ct.length>0,mn=U.length===0;if(console.log(" TableView render - filteredData.length:",U.length),mn&&!yn)return u.jsxs("div",{className:"mt-6 p-6 bg-[#f2f2f7] text-[#222] shadow-md rounded-lg max-w-full",children:[u.jsxs("div",{className:"flex gap-2 my-4",children:[u.jsx("input",{type:"text",placeholder:" Type to search...",value:Fe,onChange:ge=>{const ze=ge.target.value.toLowerCase();X(ge.target.value);const nt=e.filter(Ee=>Object.values(Ee).some(Oe=>String(Oe).toLowerCase().includes(ze)));q(nt)},className:"px-3 py-2 border rounded-md w-64 text-sm dark:bg-black dark:text-white"}),u.jsx("button",{onClick:()=>{Pe({}),q(e)},className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded",children:" Reset Filters"}),He]}),u.jsxs("p",{className:"text-center text-gray-500 mt-4",children:[" No relevant data available for ",t]})]});const Gn=()=>{if(!U||!Array.isArray(U))return["BTCUSDT","ETHUSDT"];const ge=[...new Set(U.filter(ze=>ze.Pair).map(ze=>{let nt=ze.Pair;return typeof nt=="string"&&(nt=nt.replace(/<[^>]+>/g,"").toUpperCase().trim(),nt.startsWith("BINANCE")&&(nt=nt.slice(7)),nt=nt.split("_")[0]),nt}).filter(ze=>ze))];return console.log("ChartGrid Base Symbols:",ge),ge.length?ge:["BTCUSDT","ETHUSDT"]};return u.jsxs("div",{className:"mt-6 p-6 bg-[#f5ecd7] dark:bg-[#181a20] text-[#222] dark:text-white shadow-md rounded-lg max-w-full",children:[u.jsx("div",{className:"flex flex-wrap items-center gap-2 w-full bg-gradient-to-r from-gray-100 via-white to-gray-200 dark:from-gray-800 dark:via-gray-900 dark:to-gray-800 rounded-xl shadow-md p-3 mb-2 transition-colors duration-300",style:{marginBottom:0,paddingBottom:0},children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("button",{onClick:()=>S(ge=>Math.max(1,ge-1)),className:"bg-gray-200 text-black p-2 rounded flex items-center justify-center transition-all duration-150",title:"Decrease Font Size",children:[u.jsx("span",{className:"sr-only",children:"Decrease Font Size"}),u.jsx("span",{style:{fontSize:18},children:"A"})]}),u.jsxs("button",{onClick:()=>S(ge=>Math.min(20,ge+1)),className:"bg-gray-200 text-black p-2 rounded flex items-center justify-center transition-all duration-150",title:"Increase Font Size",children:[u.jsx("span",{className:"sr-only",children:"Increase Font Size"}),u.jsx("span",{style:{fontSize:18},children:"A+"})]}),u.jsxs("button",{onClick:()=>Ke(t,Je,w),className:"bg-blue-500 hover:bg-blue-600 focus:ring-2 focus:ring-blue-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Open in New Tab",children:[u.jsx(MP,{size:18}),u.jsx("span",{className:"text-xs font-semibold",children:"Tab"})]}),u.jsxs("button",{onClick:()=>{const ge=Gn(),ze=G;window.open("/chart-grid","_blank"),localStorage.setItem("chartGridSymbols",JSON.stringify(ge)),localStorage.setItem("chartGridTrades",JSON.stringify(ze)),setTimeout(()=>{const nt=new BroadcastChannel("chart-grid-data");nt.postMessage({symbols:ge,trades:ze}),nt.close()},500)},className:"bg-purple-600 hover:bg-purple-700 focus:ring-2 focus:ring-purple-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Chart Grid",children:[u.jsx(lk,{size:18}),u.jsx("span",{className:"text-xs font-semibold",children:"Chart"})]}),u.jsx("input",{type:"text",placeholder:"Search...",value:Fe,onChange:ge=>{const ze=ge.target.value.toLowerCase();X(ge.target.value);const nt=e.filter(Ee=>Object.values(Ee).some(Oe=>String(Oe).toLowerCase().includes(ze)));q(nt)},className:"px-3 py-2 border rounded-md w-48 text-sm focus:ring-2 focus:ring-blue-400 transition-all duration-150 dark:bg-black dark:text-white",title:"Search"}),u.jsxs("button",{onClick:()=>{const ge=G.map(Ee=>{let Oe=Ee.Pair;return typeof Oe=="string"&&(Oe=Oe.replace(/<[^>]+>/g,"")),{...Ee,Pair:Oe,Remarks:d[Oe]||""}}),ze=fr.book_new(),nt=fr.json_to_sheet(ge);fr.book_append_sheet(ze,nt,"Dashboard Report"),ka(ze,"Dashboard_Trade_Report.xlsx")},className:"bg-green-600 hover:bg-green-700 focus:ring-2 focus:ring-green-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Export to Excel",children:[u.jsx(ok,{size:18}),u.jsx("span",{className:"text-xs font-semibold",children:"Excel"})]}),u.jsxs("button",{onClick:()=>{Pe({}),q(e),setSelectedIntervals({"1m":!0,"3m":!0,"5m":!0,"15m":!0,"30m":!0,"1h":!0,"4h":!0,"1d":!0}),typeof setGlobalInterval=="function"&&setGlobalInterval(null),localStorage.removeItem("globalInterval"),setTimeout(()=>{document.querySelectorAll('input[name="interval-radio"]').forEach(ge=>{ge.checked=!1})},0)},className:"bg-yellow-600 hover:bg-yellow-700 focus:ring-2 focus:ring-yellow-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Reset Filters",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582M20 20v-5h-.581M5.582 9A7.978 7.978 0 014 12c0 4.418 3.582 8 8 8a7.978 7.978 0 006.418-3M15 9V4h5m-1.418 5A7.978 7.978 0 0020 12c0 4.418-3.582 8-8 8a7.978 7.978 0 01-6.418-3"})}),u.jsx("span",{className:"text-xs font-semibold",children:"Reset"})]}),u.jsxs("button",{onClick:()=>Z(!0),className:"bg-gray-700 hover:bg-gray-800 focus:ring-2 focus:ring-gray-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Reorder columns",children:[u.jsx("span",{role:"img","aria-label":"settings",children:""}),u.jsx("span",{className:"text-xs font-semibold hidden sm:inline",children:"Columns"})]}),Bn&&u.jsx("button",{onClick:()=>Zt("/live-running-trades",{state:{trades:ie,formattedRows:G}}),className:"bg-emerald-600 hover:bg-emerald-700 focus:ring-2 focus:ring-emerald-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Live show all  bulk actions",children:u.jsx("span",{className:"text-xs font-semibold",children:"Live show all"})}),We!==null&&(()=>{const ge=G[We]||{},ze=["Stop_Price","Save_Price","Buy_Price","Sell_Price"];let nt=ge.Pair;return typeof nt=="string"&&(nt=nt.replace(/<[^>]+>/g,"")),u.jsx("div",{className:"flex flex-wrap items-center gap-3 p-1 border border-gray-300 bg-white dark:bg-gray-800 rounded text-sm ml-2 transition-all duration-150",children:ze.map(Ee=>{const Oe=ge[Ee]||"N/A";return u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",style:{fontSize:"16px"},children:[Ee.replace(/_/g," "),":"]}),u.jsx("button",{className:"px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 border border-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-150",style:{fontSize:"16px"},onClick:()=>{navigator.clipboard.writeText(Oe),J(Ee)},children:D===Ee?" Copied!":`${Oe} `})]},Ee)})})})()]})}),u.jsxs("div",{className:"w-full flex items-start gap-2",style:{marginBottom:0,paddingBottom:0},children:[u.jsxs("div",{className:"flex flex-col items-center justify-between h-full",children:[u.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300 text-sm mb-1 dark:bg-black dark:text-white",onClick:()=>v(ge=>Math.min(30,ge+2)),children:"A+"}),u.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300 text-sm mt-1 dark:bg-black dark:text-white",onClick:()=>v(ge=>Math.max(10,ge-2)),children:"A"})]}),u.jsx("textarea",{className:"border border-gray-300 rounded p-2 resize-y w-full min-h-[48px] max-h-[200px] transition-all duration-200 dark:bg-black dark:text-white",style:{fontSize:`${p}px`,marginBottom:0,paddingBottom:0},placeholder:We===null?"Select a row to add remarks":"Write your remarks here...",value:(()=>{if(We===null)return"";let ze=(G[We]||{}).Pair;return typeof ze=="string"&&(ze=ze.replace(/<[^>]+>/g,"")),d[ze]||""})(),onChange:ge=>{if(We===null)return;let nt=(G[We]||{}).Pair;typeof nt=="string"&&(nt=nt.replace(/<[^>]+>/g,"")),g(Ee=>({...Ee,[nt]:ge.target.value}))},disabled:We===null})]}),u.jsx("div",{className:"flex flex-wrap items-center gap-4",style:{fontSize:`${12+(w-3)*2}px`},children:u.jsx("div",{style:{minHeight:"40px"}})}),(()=>{let ge=[];switch(l){case"Closed_Count_Stats":ge=["loss","profit","pj"];break;case"Buy_Sell_Stats":ge=["buy","sell"];break;case"Journey_Stats_Running":ge=["pj","cj","bc"];break;case"Client_Stats":ge=n.map(ze=>ze.MachineId);break;default:ge=[]}return ge.length>0?u.jsx("div",{className:"flex gap-2 mb-2",children:ge.map(ze=>u.jsx("button",{onClick:()=>L(ze,l),className:`px-3 py-1 text-sm rounded transition-all duration-150 ease-in-out ${r===ze?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ze.toUpperCase()},ze))}):null})(),u.jsxs("div",{className:"relative overflow-auto max-h-[600px] border border-gray-300 rounded-lg bg-[#f5ecd7] dark:bg-[#181a20]",children:[I&&u.jsxs("div",{className:"absolute z-40 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-xl p-4 w-64 mx-4 my-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Column order"}),u.jsx("button",{onClick:()=>Z(!1),className:"text-sm px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Close"})]}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-2",children:"Drag to rearrange. Applies immediately."}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:(A.length?A:Object.keys(Je[0]||{})).map(ge=>u.jsxs("div",{draggable:!0,onDragStart:()=>oe(ge),onDragOver:ze=>Ne(ze,ge),className:`flex items-center gap-2 px-2 py-1 border rounded cursor-move text-sm ${Q===ge?"bg-yellow-100 dark:bg-yellow-900":"bg-gray-50 dark:bg-gray-800"}`,children:[u.jsx("span",{className:"opacity-70",children:""}),u.jsx("span",{className:"text-gray-800 dark:text-gray-100 truncate",children:ge.replace(/_/g," ")})]},ge))}),u.jsxs("div",{className:"flex items-center justify-between mt-3",children:[u.jsx("button",{className:"text-xs px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>Z(!1),children:"Done"}),u.jsx("button",{className:"text-xs px-3 py-1 rounded bg-red-200 hover:bg-red-300 dark:bg-red-700 dark:hover:bg-red-600 text-red-900 dark:text-white",onClick:Ie,children:"Reset"})]})]}),u.jsxs("table",{className:"w-full border-collapse",style:{fontSize:`${12+(w-3)*2}px`},children:[u.jsx("thead",{className:"sticky top-0 z-30 bg-teal-700 text-white",style:{fontSize:"inherit"},children:u.jsx("tr",{children:(A.length?A:[...Object.keys(Je[0]||{}),"Live"]).map((ge,ze)=>{const nt=ge==="",Ee=ge==="Live";return u.jsx("th",{onClick:!nt&&!Ee?()=>pn(ge):void 0,className:`relative px-4 py-2 text-left whitespace-nowrap ${nt||Ee?"cursor-default":"cursor-pointer"} ${ze===0&&"min-w-[50px] max-w-[50px] sticky left-0 bg-teal-700 text-white z-[5]"} ${ze===1&&"min-w-[60px] max-w-[60px] sticky left-[50px] bg-teal-700 text-white z-[5]"} ${ze===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-teal-700 text-white z-[5] text-center"} ${ze===3&&"min-w-[170px] max-w-[170px] sticky left-[140px] bg-teal-700 text-white z-[5]"}`,style:{fontSize:"inherit"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:Ee?"Live":ge.replace(/_/g," ")}),!nt&&u.jsx("span",{className:"ml-1",children:ue.key===ge?ue.direction==="asc"?u.jsx("span",{className:"text-yellow-300",children:""}):u.jsx("span",{className:"text-yellow-300",children:""}):u.jsx("span",{className:"opacity-60",children:""})}),!nt&&!Ee&&u.jsx("span",{className:"ml-1 cursor-pointer filter-icon","data-index":ze,onClick:Oe=>{Oe.stopPropagation(),K(ze,Oe)},children:""})]})},ge)})})}),u.jsx("tbody",{children:G.map((ge,ze)=>u.jsx("tr",{className:`cursor-pointer ${We===ze?"bg-amber-200 dark:bg-amber-400 text-black":"hover:bg-green-200 dark:hover:bg-[#3d4451] dark:hover:text-white"}`,style:{fontSize:`${12+(w-3)*2}px`},onClick:()=>Ye(nt=>nt===ze?null:ze),children:(A.length?A:[...Object.keys(ge),"Live"]).map((nt,Ee)=>{if(nt==="Live")return u.jsx("td",{className:"px-2 py-1 whitespace-nowrap align-middle text-center",onClick:Ge=>Ge.stopPropagation(),children:u.jsx("button",{type:"button",onClick:()=>{const Ge=un(ge),cn=`liveTradeViewState_${Date.now()}`;try{localStorage.setItem(cn,JSON.stringify({formattedRow:ge,rawTrade:Ge}))}catch{}const Qt=`${window.location.origin}${(window.location.pathname||"/").replace(/\/?$/,"")}/live-trade-view?stateKey=${encodeURIComponent(cn)}`;window.open(Qt,"_blank","noopener,noreferrer")},className:"px-2 py-1 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold transition-colors",title:"Open live trade view in new tab",children:"Live"})},Ee);const Oe=ge[nt],me=typeof Oe=="string"?Oe:Oe!=null?String(Oe):"";return nt==="Pair"?u.jsx("td",{className:`
                        px-2 py-1 whitespace-nowrap align-top text-sm select-text
                        ${We===ze?"text-amber-900":"text-sky-500 dark:text-yellow-300"}
                        ${Ee===0&&"min-w-[50px] max-w-[50px] sticky left-0 bg-[#046e7a] text-white z-[5] text-xs"}
                        ${Ee===1&&"min-w-[60px] max-w-[60px] sticky left-[50px] bg-[#046e7a] text-white z-[5] text-[10px] font-light"}
                        ${Ee===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-[#046e7a] text-white z-[5] text-center"}
                        ${Ee===3&&"min-w-[170px] max-w-[170px] sticky left-[140px] bg-[#046e7a] text-white z-[5] text-[12px] leading-snug"}
                      `,style:{fontSize:"inherit"},dangerouslySetInnerHTML:{__html:We===ze?me.replace(/color:(#[A-Fa-f0-9]{6}|[a-zA-Z]+)/g,"color:#b45309"):me.replace(/color:(#[A-Fa-f0-9]{6}|[a-zA-Z]+)/g,"color:#0ea5e9")}},Ee):nt===""?u.jsx("td",{className:`
                        px-1 py-1 whitespace-nowrap align-top text-sm
                        ${Ee===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-[#046e7a] text-white z-[5] text-center"}
                      `,style:{fontSize:"inherit"},children:u.jsx("button",{onClick:Ge=>{Ge.stopPropagation();const cn=ge.Unique_ID;cn&&cn!=="N/A"&&navigator.clipboard.writeText(cn).then(()=>{const Qt=Ge.target,V=Qt.textContent;Qt.textContent="",Qt.className="text-green-400 text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all",setTimeout(()=>{Qt.textContent=V,Qt.className="text-gray-300 hover:text-white text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all cursor-pointer"},1e3)}).catch(()=>{const Qt=document.createElement("textarea");Qt.value=cn,document.body.appendChild(Qt),Qt.select(),document.execCommand("copy"),document.body.removeChild(Qt);const V=Ge.target,Se=V.textContent;V.textContent="",V.className="text-green-400 text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all",setTimeout(()=>{V.textContent=Se,V.className="text-gray-300 hover:text-white text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all cursor-pointer"},1e3)})},className:"text-gray-300 hover:text-white text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all cursor-pointer",title:"Click to copy Unique ID",children:""})},Ee):Ee===0?u.jsx("td",{className:`
                          px-2 py-1 whitespace-nowrap align-top text-sm select-text
                          min-w-[50px] max-w-[50px] sticky left-0 bg-[#046e7a] text-white z-[5] text-xs
                        `,style:{fontSize:"inherit"},children:me},Ee):u.jsx("td",{className:`
                          px-2 py-1 whitespace-nowrap align-top text-sm select-text
                          ${Ee===1&&"min-w-[60px] max-w-[60px] sticky left-[50px] bg-[#046e7a] text-white z-[5] text-[10px] font-light"}
                          ${Ee===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-[#046e7a] text-white z-[5] text-center"}
                          ${Ee===3&&"min-w-[170px] max-w-[170px] sticky left-[140px] bg-[#046e7a] text-white z-[5] text-[12px] leading-snug"}
                          ${["Candle_Time","Fetcher_Trade_Time","Operator_Trade_Time","Operator_Close_Time"].includes(nt)?"text-[11px]":""}
                          ${["Type","Action","Interval","CJ","PJ"].includes(nt)?"min-w-[60px] max-w-[60px] text-center":""}
                          ${nt==="Unique_ID"?"text-black":""}
                        `,style:{fontSize:nt==="Unique_ID"?`${8+(w-2)*2}px`:"inherit"},children:nt==="Unique_ID"&&typeof me=="string"&&me.match(/\d{4}-\d{2}-\d{2}/)?(()=>{const Ge=me.match(/\d{4}-\d{2}-\d{2}/);if(!Ge)return me;const cn=me.indexOf(Ge[0]),Qt=me.slice(0,cn),V=me.slice(cn).replace("T"," ");return u.jsxs("div",{className:"cursor-pointer font-bold text-yellow-400 hover:underline hover:text-yellow-300",onClick:Se=>{Se.stopPropagation(),window.open(`/live-trade-view?uid=${encodeURIComponent(me)}`,"_blank")},title:"Click to view live trade details",children:[u.jsx("div",{className:"leading-tight",children:Qt}),u.jsx("div",{className:"opacity-80 -mt-[2px] leading-tight",children:V})]})})():nt==="Unique_ID"&&typeof me=="string"&&me!=="N/A"?u.jsx("div",{className:"cursor-pointer font-bold text-yellow-400 hover:underline hover:text-yellow-300",onClick:Ge=>{Ge.stopPropagation(),window.open(`/live-trade-view?uid=${encodeURIComponent(me)}`,"_blank")},title:"Click to view live trade details",children:me}):nt==="PL"?me!=="N/A"?u.jsx("span",{className:We===ze?parseFloat(me)>=0?"text-green-800":"text-black":parseFloat(me)>=0?"text-green-400":"text-red-400",children:me}):me:nt==="PL_After_Comm"&&me!=="N/A"?`$${me}`:me},Ee)})},ze))})]})]})]})},od=({icon:t,text:e,isOpen:n,to:r,isActive:i})=>u.jsxs(Rw,{to:r,className:({isActive:l})=>`flex items-center space-x-4 px-4 py-3 hover:bg-gray-700 rounded-lg cursor-pointer transition-all ${l?"bg-gray-700 text-blue-400":"text-white"}`,children:[u.jsx(t,{size:24}),u.jsx("span",{className:`transition-all ${n?"block":"hidden"}`,children:e.replace(/_/g," ")})]}),y1=({isOpen:t,toggleSidebar:e})=>u.jsxs("div",{className:`fixed h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white transition-all duration-300 ${t?"w-64":"w-20"}`,children:[u.jsxs("div",{className:"flex items-center justify-between p-5",children:[u.jsx("h2",{className:`text-xl font-bold transition-all ${t?"block":"hidden"}`,children:"LAB"}),u.jsx("button",{onClick:e,className:"focus:outline-none",children:t?u.jsx(XP,{size:24}):u.jsx(PP,{size:24})})]}),u.jsx("nav",{className:"mt-10",children:u.jsxs("ul",{className:"space-y-4",children:[u.jsx("li",{children:u.jsx(od,{icon:ok,text:"Dashboard",isOpen:t,to:"/"})}),u.jsx("li",{children:u.jsx(od,{icon:lk,text:"Trades",isOpen:t,to:"/trades"})}),u.jsx("li",{children:u.jsx(od,{icon:GP,text:"Clients",isOpen:t,to:"/clients"})}),u.jsx("li",{children:u.jsx(od,{icon:CP,text:"Reports & Logs",isOpen:t,to:"/reports"})})]})})]}),m2="tradingview-widget-script";function ZP(){if(!document.getElementById(m2)){const t=document.createElement("script");t.id=m2,t.src="https://s3.tradingview.com/tv.js",t.async=!0,document.body.appendChild(t)}}const QP=[{key:"RSI@tv-basicstudies",label:"RSI-9"},{key:"MACD@tv-basicstudies",label:"MACD"},{key:"Volume@tv-basicstudies",label:"Volume"}],x2={"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},v2=t=>{if(!t)return"BTCUSDT";let e=t.replace(/<[^>]+>/g,"").replace(/\s+/g,"").replace(/[^A-Z0-9]/gi,"").replace("PERPETUALCONTRACT","").replace("PERP","").replace("Chart","").toUpperCase();return e.startsWith("BINANCE")&&(e=e.slice(7)),e=e.replace(/\d{6,}$/,""),e},eF=({symbols:t=[],trades:e=[]})=>{const n=(J,H)=>{try{const K=localStorage.getItem(`chartGridSetting_${J}`);if(K!==null)return JSON.parse(K)}catch{}return H},[r,i]=x.useState(t),[l,o]=x.useState(e),[f,d]=x.useState(n("source","tradingview")),[g,p]=x.useState(n("interval","15m")),[v,_]=x.useState(n("indicators",["RSI@tv-basicstudies","MACD@tv-basicstudies","Volume@tv-basicstudies"])),[b,w]=x.useState(n("layout",3)),[S,T]=x.useState(0),[A,j]=x.useState(n("pageSize",50)),[I,Z]=x.useState(n("chartSize",{width:400,height:400})),[Q,Y]=x.useState(14),L=x.useRef();x.useEffect(()=>{const J=new BroadcastChannel("chart-grid-data");if(J.onmessage=H=>{H.data.symbols&&(i(H.data.symbols),localStorage.setItem("chartGridSymbols",JSON.stringify(H.data.symbols))),H.data.trades&&(o(H.data.trades),localStorage.setItem("chartGridTrades",JSON.stringify(H.data.trades)))},(!t||t.length===0)&&r.length===0){const H=localStorage.getItem("chartGridSymbols");H&&i(JSON.parse(H))}if((!e||e.length===0)&&l.length===0){const H=localStorage.getItem("chartGridTrades");H&&o(JSON.parse(H))}return()=>J.close()},[]),x.useEffect(()=>{f==="tradingview"&&ZP()},[f]),x.useEffect(()=>{f!=="tradingview"||!window.TradingView||U().forEach((J,H)=>{const K=v2(J.Pair),P=`tv_chart_${H}`,G=document.getElementById(P);G&&(G.innerHTML=""),new window.TradingView.widget({container_id:P,autosize:!0,symbol:`BINANCE:${K}PERP`,interval:x2[g]||"15",timezone:"Etc/UTC",theme:"dark",style:"8",locale:"en",studies:v,overrides:{volumePaneSize:v.includes("Volume@tv-basicstudies")?"medium":"0","paneProperties.topMargin":10,"paneProperties.bottomMargin":15,"paneProperties.rightMargin":20,"scalesProperties.fontSize":11},studies_overrides:{"RSI@tv-basicstudies.length":9},hide_side_toolbar:!1,allow_symbol_change:!1,details:!0,withdateranges:!0,hideideas:!0,toolbar_bg:"#222",height:I.height,width:I.width})})},[f,g,v,b,S,I,l,A]);const U=()=>l.slice(S*A,(S+1)*A),q=Math.ceil(l.length/A),ie=x.useRef(),[xe,ue]=x.useState(!1),[De,We]=x.useState({x:0,y:0,width:400,height:400}),Ye=J=>{ue(!0),We({x:J.clientX,y:J.clientY,width:I.width,height:I.height})},ee=J=>{if(!xe)return;const H=J.clientX-De.x,K=J.clientY-De.y;Z({width:Math.max(200,De.width+H),height:Math.max(200,De.height+K)})},Pe=()=>ue(!1);x.useEffect(()=>(xe?(window.addEventListener("mousemove",ee),window.addEventListener("mouseup",Pe)):(window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",Pe)),()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",Pe)}),[xe]);const[Fe,X]=x.useState({}),D=(J,H,K)=>{H&&(navigator.clipboard.writeText(H.toString()),X(P=>({...P,[`${K}_${J}`]:!0})),setTimeout(()=>X(P=>({...P,[`${K}_${J}`]:!1})),1200))};return x.useEffect(()=>{localStorage.setItem("chartGridSetting_source",JSON.stringify(f))},[f]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_interval",JSON.stringify(g))},[g]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_indicators",JSON.stringify(v))},[v]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_layout",JSON.stringify(b))},[b]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_pageSize",JSON.stringify(A))},[A]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_chartSize",JSON.stringify(I))},[I]),u.jsxs("div",{className:"w-full h-full min-h-screen bg-black",children:[u.jsxs("div",{className:"w-full text-center text-white py-2 text-sm font-semibold",children:["Total Trades: ",l.length]}),u.jsxs("div",{ref:L,className:"sticky top-0 z-40 bg-[#181818] shadow p-4 flex flex-wrap gap-4 items-center justify-between",style:{borderBottom:"1px solid #222"},children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center text-white",children:[u.jsxs("label",{children:["Source:",u.jsxs("select",{value:f,onChange:J=>d(J.target.value),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[u.jsx("option",{value:"tradingview",children:"TradingView"}),u.jsx("option",{value:"binance",children:"Binance"})]})]}),u.jsxs("label",{children:["Interval:",u.jsx("select",{value:g,onChange:J=>p(J.target.value),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:Object.keys(x2).map(J=>u.jsx("option",{value:J,children:J},J))})]}),u.jsx("label",{children:"Indicators:"}),QP.map(J=>u.jsxs("label",{className:"ml-2 flex items-center gap-1",children:[u.jsx("input",{type:"checkbox",checked:v.includes(J.key),onChange:H=>{_(K=>H.target.checked?[...K,J.key]:K.filter(P=>P!==J.key))}}),u.jsx("span",{className:"text-white",children:J.label})]},J.key)),u.jsxs("label",{children:["Layout:",u.jsx("select",{value:b,onChange:J=>w(Number(J.target.value)),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[1,2,3,4,5,6].map(J=>u.jsxs("option",{value:J,children:[J," per row"]},J))})]}),u.jsxs("label",{children:["Page Size:",u.jsx("select",{value:A,onChange:J=>{j(Number(J.target.value)),T(0)},className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[10,20,50,100,200].map(J=>u.jsx("option",{value:J,children:J},J))})]}),u.jsxs("label",{children:["Font Size:",u.jsx("select",{value:Q,onChange:J=>Y(Number(J.target.value)),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[12,14,16,18,20].map(J=>u.jsxs("option",{value:J,children:[J,"px"]},J))})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("button",{disabled:S===0,onClick:()=>T(J=>Math.max(0,J-1)),className:"px-2 py-1 bg-[#222] rounded text-white",children:"Prev"}),u.jsxs("span",{children:["Page ",S+1," / ",q]}),u.jsx("button",{disabled:S>=q-1,onClick:()=>T(J=>Math.min(q-1,J+1)),className:"px-2 py-1 bg-[#222] rounded text-white",children:"Next"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("span",{children:"Chart Size:"}),u.jsx("div",{ref:ie,onMouseDown:Ye,style:{width:24,height:24,background:xe?"#333":"#222",cursor:"nwse-resize",borderRadius:4,display:"inline-block",border:"1px solid #444",color:"#fff"},title:"Drag to resize charts",children:"45"}),u.jsxs("span",{children:[I.width,"x",I.height]})]})]}),u.jsx("div",{className:"grid gap-6 p-6",style:{gridTemplateColumns:`repeat(${b}, minmax(0, 1fr))`,background:"#111"},children:U().map((J,H)=>{const K=v2(J.Pair);return u.jsxs("div",{className:"bg-[#181818] rounded-lg p-2 flex flex-col items-center shadow relative",style:{minHeight:I.height,minWidth:I.width},children:[u.jsxs("div",{className:"font-bold mb-1 text-white",children:[K," ",f==="tradingview"?"4c8":"7e1"," CHART"]}),f==="tradingview"?u.jsx("div",{id:`tv_chart_${H}`,style:{width:"100%",height:I.height}}):u.jsx("iframe",{title:K,src:`https://www.binance.com/en/futures/${K}`,style:{width:"100%",height:I.height,border:0},sandbox:"allow-scripts allow-same-origin allow-popups"}),u.jsxs("div",{className:"mt-2 text-white w-full flex flex-col gap-1",style:{fontSize:Q},children:[u.jsxs("div",{children:["PL: ",u.jsx("b",{children:J.PL??"N/A"})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>D("Buy_Price",J.Buy_Price,H),title:"Click to copy",children:["Buy: ",u.jsx("b",{children:J.Buy_Price??"N/A"}),Fe[`${H}_Buy_Price`]&&u.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]}),u.jsx("span",{className:"mx-1",children:"|"}),u.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>D("Sell_Price",J.Sell_Price,H),title:"Click to copy",children:["Sell: ",u.jsx("b",{children:J.Sell_Price??"N/A"}),Fe[`${H}_Sell_Price`]&&u.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>D("Stop_Price",J.Stop_Price,H),title:"Click to copy",children:["Stop: ",u.jsx("b",{children:J.Stop_Price??"N/A"}),Fe[`${H}_Stop_Price`]&&u.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]}),u.jsx("span",{className:"mx-1",children:"|"}),u.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>D("Save_Price",J.Save_Price,H),title:"Click to copy",children:["Save: ",u.jsx("b",{children:J.Save_Price??"N/A"}),Fe[`${H}_Save_Price`]&&u.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]})]})]})]},H)})})]})};function Rr(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function wo(t,e){return t.width===e.width&&t.height===e.height}var tF=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){n._observers=n._observers.filter(function(i){return i!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function nF(t){return new tF(t)}var rF=function(){function t(e,n,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Rr({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(l){return l},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Rr({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Rr(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;wo(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,r=Rr(this._transformBitmapSize(e,this._canvasElementClientSize)),i=wo(this.bitmapSize,r)?null:r;n===null&&i===null||n!==null&&i!==null&&wo(n,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(n,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}sF().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=y2(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=nF(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var r=y2(this._canvasElement);if(r!==null){var i=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:r.devicePixelRatio,l=this._canvasElement.getClientRects(),o=l[0]!==void 0?aF(l[0],i):Rr({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var r=n.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],l=Rr({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(l)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function iF(t,e){return new rF(t,e.transform,e.options)}function y2(t){return t.ownerDocument.defaultView}function sF(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function aF(t,e){return Rr({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var lF=function(){function t(e,n,r){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function No(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new lF(i,n,r)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const oF={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},cF={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},uF={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},fF={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},hF={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},dF={color:"#26a69a",base:0},ck={color:"#2196f3"},uk={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var b2,_2;function Oo(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function fk(t,e,n,r){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(n,e+i),t.lineTo(r,e+i),t.stroke()}function Xl(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Ji(t){if(t===void 0)throw new Error("Value is undefined");return t}function Tt(t){if(t===null)throw new Error("Value is null");return t}function Ec(t){return Tt(Ji(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(b2||(b2={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(_2||(_2={}));const S2={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function zs(t){return t<0?0:t>255?255:Math.round(t)||0}function hk(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const gF=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,pF=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,mF=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,xF=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function kf(t){(t=t.toLowerCase())in S2&&(t=S2[t]);{const e=xF.exec(t)||mF.exec(t);if(e)return[zs(parseInt(e[1],10)),zs(parseInt(e[2],10)),zs(parseInt(e[3],10)),hk(e.length<5?1:parseFloat(e[4]))]}{const e=pF.exec(t);if(e)return[zs(parseInt(e[1],16)),zs(parseInt(e[2],16)),zs(parseInt(e[3],16)),1]}{const e=gF.exec(t);if(e)return[zs(17*parseInt(e[1],16)),zs(17*parseInt(e[2],16)),zs(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function dk(t){return .199*t[0]+.687*t[1]+.114*t[2]}function A0(t){const e=kf(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:dk(e)>160?"black":"white"}}class Qr{constructor(){this.h=[]}l(e,n,r){const i={o:e,_:n,u:r===!0};this.h.push(i)}v(e){const n=this.h.findIndex(r=>e===r.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,r){const i=[...this.h];this.h=this.h.filter(l=>!l.u),i.forEach(l=>l.o(e,n,r))}M(){return this.h.length>0}S(){this.h=[]}}function ca(t,...e){for(const n of e)for(const r in n)n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof n[r]!="object"||t[r]===void 0||Array.isArray(n[r])?t[r]=n[r]:ca(t[r],n[r]));return t}function Ta(t){return typeof t=="number"&&isFinite(t)}function Cf(t){return typeof t=="number"&&t%1==0}function Yf(t){return typeof t=="string"}function cd(t){return typeof t=="boolean"}function Qa(t){const e=t;if(!e||typeof e!="object")return e;let n,r,i;for(r in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],n[r]=i&&typeof i=="object"?Qa(i):i);return n}function vF(t){return t!==null}function Nf(t){return t===null?void 0:t}const b1="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Lc(t,e,n){return e===void 0&&(e=b1),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class yF{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),r=this.H();return e.P===n&&e.D===r||(e.P=n,e.D=r,e.R=Lc(n,r),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class _1{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,r){this.Y.forEach(i=>{i.X(e,n,r)})}}class fa{X(e,n,r){e.useBitmapCoordinateSpace(i=>this.K(i,n,r))}}let bF=class extends fa{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,l=this.G,o=Math.max(1,Math.floor(n))%2/2,f=d=>{e.beginPath();for(let g=i.to-1;g>=i.from;--g){const p=l.it[g],v=Math.round(p.nt*n)+o,_=p.st*r,b=d*r+o;e.moveTo(v,_),e.arc(v,_,b,0,2*Math.PI)}e.fill()};l.et>0&&(e.fillStyle=l.rt,f(l.ht+l.et)),e.fillStyle=l.lt,f(l.ht)}};function _F(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const SF={from:0,to:1};class wF{constructor(e,n){this.ut=new _1,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(_F),this.ct=this.dt.map(r=>{const i=new bF;return i.J(r),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),r=this.vt.xt(),i=this.F.St();n.forEach((l,o)=>{var f;const d=this.dt[o],g=l.kt(r);if(e||g===null||!l.yt())return void(d.tt=null);const p=Tt(l.Ct());d.lt=g.Tt,d.ht=g.ht,d.et=g.Pt,d.it[0]._t=g._t,d.it[0].st=l.Dt().Rt(g._t,p.Vt),d.rt=(f=g.Ot)!==null&&f!==void 0?f:this.F.Bt(d.it[0].st/l.Dt().At()),d.it[0].ot=r,d.it[0].nt=i.It(r),d.tt=SF})}}class EF extends fa{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const l=this.zt.Lt.yt,o=this.zt.Et.yt;if(!l&&!o)return;const f=Math.round(this.zt.nt*r),d=Math.round(this.zt.st*i);e.lineCap="butt",l&&f>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*r),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,Oo(e,this.zt.Lt.Nt),function(g,p,v,_){g.beginPath();const b=g.lineWidth%2?.5:0;g.moveTo(p+b,v),g.lineTo(p+b,_),g.stroke()}(e,f,0,n.height)),o&&d>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,Oo(e,this.zt.Et.Nt),fk(e,d,0,n.width))}}class TF{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new EF(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=Tt(this.jt.Ht()),r=n.$t().W().crosshair,i=this.Ft;if(r.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(n),i.Lt.yt=e&&this.jt.qt(),i.Et.et=r.horzLine.width,i.Et.Nt=r.horzLine.style,i.Et.V=r.horzLine.color,i.Lt.et=r.vertLine.width,i.Lt.Nt=r.vertLine.style,i.Lt.V=r.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function kF(t,e,n,r,i,l){t.fillRect(e+l,n,r-2*l,l),t.fillRect(e+l,n+i-l,r-2*l,l),t.fillRect(e,n,l,i),t.fillRect(e+r-l,n,l,i)}function D0(t,e,n,r,i,l){t.save(),t.globalCompositeOperation="copy",t.fillStyle=l,t.fillRect(e,n,r,i),t.restore()}function w2(t,e,n,r,i,l){t.beginPath(),t.roundRect?t.roundRect(e,n,r,i,l):(t.lineTo(e+r-l[1],n),l[1]!==0&&t.arcTo(e+r,n,e+r,n+l[1],l[1]),t.lineTo(e+r,n+i-l[2]),l[2]!==0&&t.arcTo(e+r,n+i,e+r-l[2],n+i,l[2]),t.lineTo(e+l[3],n+i),l[3]!==0&&t.arcTo(e,n+i,e,n+i-l[3],l[3]),t.lineTo(e,n+l[0]),l[0]!==0&&t.arcTo(e,n,e+l[0],n,l[0]))}function E2(t,e,n,r,i,l,o=0,f=[0,0,0,0],d=""){if(t.save(),!o||!d||d===l)return w2(t,e,n,r,i,f),t.fillStyle=l,t.fill(),void t.restore();const g=o/2;var p;w2(t,e+g,n+g,r-o,i-o,(p=-g,f.map(v=>v===0?v:v+p))),l!=="transparent"&&(t.fillStyle=l,t.fill()),d!=="transparent"&&(t.lineWidth=o,t.strokeStyle=d,t.closePath(),t.stroke()),t.restore()}function gk(t,e,n,r,i,l,o){t.save(),t.globalCompositeOperation="copy";const f=t.createLinearGradient(0,0,0,i);f.addColorStop(0,l),f.addColorStop(1,o),t.fillStyle=f,t.fillRect(e,n,r,i),t.restore()}class T2{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,r,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const l=this.zt.V,o=this.Xt.t,f=e.useBitmapCoordinateSpace(d=>{const g=d.context;g.font=n.R;const p=this.Gt(d,n,r,i),v=p.Jt;return p.Qt?E2(g,v.ti,v.ii,v.ni,v.si,o,v.ei,[v.ht,0,0,v.ht],o):E2(g,v.ri,v.ii,v.ni,v.si,o,v.ei,[0,v.ht,v.ht,0],o),this.zt.hi&&(g.fillStyle=l,g.fillRect(v.ri,v.li,v.ai-v.ri,v.oi)),this.zt._i&&(g.fillStyle=n.O,g.fillRect(p.Qt?v.ui-v.ei:0,v.ii,v.ei,v.ci-v.ii)),p});e.useMediaCoordinateSpace(({context:d})=>{const g=f.di;d.font=n.R,d.textAlign=f.Qt?"right":"left",d.textBaseline="middle",d.fillStyle=l,d.fillText(this.zt.Kt,g.fi,(g.ii+g.ci)/2+g.pi)})}Gt(e,n,r,i){var l;const{context:o,bitmapSize:f,mediaSize:d,horizontalPixelRatio:g,verticalPixelRatio:p}=e,v=this.zt.hi||!this.zt.mi?n.T:0,_=this.zt.bi?n.C:0,b=n.L+this.Xt.wi,w=n.B+this.Xt.gi,S=n.A,T=n.I,A=this.zt.Kt,j=n.P,I=r.Mi(o,A),Z=Math.ceil(r.xi(o,A)),Q=j+b+w,Y=n.C+S+T+Z+v,L=Math.max(1,Math.floor(p));let U=Math.round(Q*p);U%2!=L%2&&(U+=1);const q=_>0?Math.max(1,Math.floor(_*g)):0,ie=Math.round(Y*g),xe=Math.round(v*g),ue=(l=this.Xt.Si)!==null&&l!==void 0?l:this.Xt.ki,De=Math.round(ue*p)-Math.floor(.5*p),We=Math.floor(De+L/2-U/2),Ye=We+U,ee=i==="right",Pe=ee?d.width-_:_,Fe=ee?f.width-q:q;let X,D,J;return ee?(X=Fe-ie,D=Fe-xe,J=Pe-v-S-_):(X=Fe+ie,D=Fe+xe,J=Pe+v+S),{Qt:ee,Jt:{ii:We,li:De,ci:Ye,ni:ie,si:U,ht:2*g,ei:q,ti:X,ri:Fe,ai:D,oi:L,ui:f.width},di:{ii:We/p,ci:Ye/p,fi:J,pi:I}}}}class M0{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||T2)(this.Ci,this.yi),this.Ri=new(e||T2)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class CF extends M0{constructor(e,n,r){super(),this.jt=e,this.Li=n,this.Ei=r}zi(e,n,r){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const l=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||l===null)return;const o=A0(i.labelBackgroundColor);r.t=o.t,e.V=o.i;const f=2/12*this.Li.P();r.wi=f,r.gi=f;const d=this.Ei(this.Li);r.ki=d.ki,e.Kt=this.Li.Fi(d._t,l),e.yt=!0}}const NF=/[1-9]/g;class pk{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const r=e.useMediaCoordinateSpace(({context:_})=>(_.font=n.R,Math.round(n.Wi.xi(_,Tt(this.zt).Kt,NF))));if(r<=0)return;const i=n.ji,l=r+2*i,o=l/2,f=this.zt.Hi;let d=this.zt.ki,g=Math.floor(d-o)+.5;g<0?(d+=Math.abs(0-g),g=Math.floor(d-o)+.5):g+l>f&&(d-=Math.abs(f-(g+l)),g=Math.floor(d-o)+.5);const p=g+l,v=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:_,horizontalPixelRatio:b,verticalPixelRatio:w})=>{const S=Tt(this.zt);_.fillStyle=S.t;const T=Math.round(g*b),A=Math.round(0*w),j=Math.round(p*b),I=Math.round(v*w),Z=Math.round(2*b);if(_.beginPath(),_.moveTo(T,A),_.lineTo(T,I-Z),_.arcTo(T,I,T+Z,I,Z),_.lineTo(j-Z,I),_.arcTo(j,I,j,I-Z,Z),_.lineTo(j,A),_.fill(),S.hi){const Q=Math.round(S.ki*b),Y=A,L=Math.round((Y+n.T)*w);_.fillStyle=S.V;const U=Math.max(1,Math.floor(b)),q=Math.floor(.5*b);_.fillRect(Q-q,Y,U,L-Y)}}),e.useMediaCoordinateSpace(({context:_})=>{const b=Tt(this.zt),w=0+n.C+n.T+n.L+n.P/2;_.font=n.R,_.textAlign="left",_.textBaseline="middle",_.fillStyle=b.V;const S=n.Wi.Mi(_,"Apr0");_.translate(g+i,w+S),_.fillText(b.Kt,0,0)})}}class OF{constructor(e,n,r){this.ft=!0,this.Wt=new pk,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=r}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const r=this.$i.St();if(r.Ni())return;e.Hi=r.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const l=r.Ui(this.vt.xt());e.Kt=r.qi(Tt(l)),e.yt=!0;const o=A0(n.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=r.W().ticksVisible}}class S1{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var k2;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(k2||(k2={}));class AF extends S1{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new wF(e,this),this.fn=((i,l)=>o=>{const f=l(),d=i();if(o===Tt(this.tn).vn())return{_t:d,ki:f};{const g=Tt(o.Ct());return{_t:o.pn(f,g),ki:f}}})(()=>this.nn,()=>this.an);const r=((i,l)=>()=>{const o=this.$i.St().mn(i()),f=l();return o&&Number.isFinite(f)?{ot:o,ki:f}:null})(()=>this.sn,()=>this.Yt());this.bn=new OF(this,e,r),this.wn=new TF(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,r){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,r)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const r=[];return this.tn===e&&r.push(this.Dn(this.rn,n,this.fn)),r}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,r){this.Bn(e,n,r)&&this.Vn()}Bn(e,n,r){const i=this.ln,l=this.an,o=this.nn,f=this.sn,d=this.tn,g=this.On(r);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=r;const p=g!==null?g.Ct():null;return g!==null&&p!==null?(this.nn=n,this.an=g.Rt(n,p)):(this.nn=NaN,this.an=NaN),i!==this.ln||l!==this.an||f!==this.sn||o!==this.nn||d!==this.tn}Tn(){const e=this.$i.wt().map(r=>r.In().An()).filter(vF),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,r){let i=e.get(n);return i===void 0&&(i=new CF(this,n,r),e.set(n,i)),i}}function R0(t){return t==="left"||t==="right"}class Ni{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const r=function(i,l){return i===void 0?l:{Fn:Math.max(i.Fn,l.Fn),Wn:i.Wn||l.Wn}}(this.zn.get(e),n);this.zn.set(e,r)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,r)=>{this.Nn(r,n)})}static ss(){return new Ni(2)}static es(){return new Ni(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const C2=".";function el(t,e){if(!Ta(t))return"n/a";if(!Cf(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class j0{constructor(e,n){if(n||(n=1),Ta(e)&&Cf(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let r=Math.floor(e),i="";const l=this._s!==void 0?this._s:NaN;if(n>1){let o=+(Math.round(e*n)-r*n).toFixed(this._s);o>=n&&(o-=n,r+=1),i=C2+el(+o.toFixed(this._s)*this.rs,l)}else r=Math.round(r*n)/n,l>0&&(i=C2+el(0,l));return r.toFixed(0)+i}}class mk extends j0{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class DF{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const r=Math.pow(10,this.us);return n=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(i,l)=>l)}}function xk(t,e,n,r,i,l,o){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:f,horizontalPixelRatio:d,verticalPixelRatio:g}=t,p=e[r.from];let v=l(t,p),_=p;if(r.to-r.from<2){const b=i/2;f.beginPath();const w={nt:p.nt-b,st:p.st},S={nt:p.nt+b,st:p.st};f.moveTo(w.nt*d,w.st*g),f.lineTo(S.nt*d,S.st*g),o(t,v,w,S)}else{const b=(S,T)=>{o(t,v,_,T),f.beginPath(),v=S,_=T};let w=_;f.beginPath(),f.moveTo(p.nt*d,p.st*g);for(let S=r.from+1;S<r.to;++S){w=e[S];const T=l(t,w);switch(n){case 0:f.lineTo(w.nt*d,w.st*g);break;case 1:f.lineTo(w.nt*d,e[S-1].st*g),T!==v&&(b(T,w),f.lineTo(w.nt*d,e[S-1].st*g)),f.lineTo(w.nt*d,w.st*g);break;case 2:{const[A,j]=MF(e,S-1,S);f.bezierCurveTo(A.nt*d,A.st*g,j.nt*d,j.st*g,w.nt*d,w.st*g);break}}n!==1&&T!==v&&(b(T,w),f.moveTo(w.nt*d,w.st*g))}(_!==w||_===w&&n===1)&&o(t,v,_,w)}}const N2=6;function lm(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function O2(t,e){return{nt:t.nt/e,st:t.st/e}}function MF(t,e,n){const r=Math.max(0,e-1),i=Math.min(t.length-1,n+1);var l,o;return[(l=t[e],o=O2(lm(t[n],t[r]),N2),{nt:l.nt+o.nt,st:l.st+o.st}),lm(t[n],O2(lm(t[i],t[e]),N2))]}function RF(t,e,n,r,i){const{context:l,horizontalPixelRatio:o,verticalPixelRatio:f}=e;l.lineTo(i.nt*o,t*f),l.lineTo(r.nt*o,t*f),l.closePath(),l.fillStyle=n,l.fill()}class vk extends fa{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:r,tt:i,ds:l,et:o,Nt:f,fs:d}=this.G,g=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(i===null)return;const p=e.context;p.lineCap="butt",p.lineJoin="round",p.lineWidth=o,Oo(p,f),p.lineWidth=1,xk(e,r,d,i,l,this.bs.bind(this),RF.bind(null,g))}}function rx(t,e,n){return Math.min(Math.max(t,e),n)}function ud(t,e,n){return e-t<=n}function yk(t){const e=Math.ceil(t);return e%2==0?e-1:e}class w1{ws(e,n){const r=this.gs,{Ms:i,xs:l,Ss:o,ks:f,ys:d,vs:g}=n;if(this.Cs===void 0||r===void 0||r.Ms!==i||r.xs!==l||r.Ss!==o||r.ks!==f||r.vs!==g||r.ys!==d){const p=e.context.createLinearGradient(0,0,0,d);if(p.addColorStop(0,i),g!=null){const v=rx(g*e.verticalPixelRatio/d,0,1);p.addColorStop(v,l),p.addColorStop(v,o)}p.addColorStop(1,f),this.Cs=p,this.gs=n}return this.Cs}}class jF extends vk{constructor(){super(...arguments),this.Ts=new w1}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function LF(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class bk extends fa{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:r,ds:i,fs:l,et:o,Nt:f,Ds:d}=this.G;if(r===null)return;const g=e.context;g.lineCap="butt",g.lineWidth=o*e.verticalPixelRatio,Oo(g,f),g.lineJoin="round";const p=this.Vs.bind(this);l!==void 0&&xk(e,n,l,r,i,p,LF),d&&function(v,_,b,w,S){const{horizontalPixelRatio:T,verticalPixelRatio:A,context:j}=v;let I=null;const Z=Math.max(1,Math.floor(T))%2/2,Q=b*A+Z;for(let Y=w.to-1;Y>=w.from;--Y){const L=_[Y];if(L){const U=S(v,L);U!==I&&(j.beginPath(),I!==null&&j.fill(),j.fillStyle=U,I=U);const q=Math.round(L.nt*T)+Z,ie=L.st*A;j.moveTo(q,ie),j.arc(q,ie,Q,0,2*Math.PI)}}j.fill()}(e,n,d,r,p)}}class _k extends bk{Vs(e,n){return n.lt}}function Sk(t,e,n,r,i=0,l=e.length){let o=l-i;for(;0<o;){const f=o>>1,d=i+f;r(e[d],n)===t?(i=d+1,o-=f+1):o=f}return i}const Gf=Sk.bind(null,!0),wk=Sk.bind(null,!1);function IF(t,e){return t.ot<e}function PF(t,e){return e<t.ot}function Ek(t,e,n){const r=e.Os(),i=e.ui(),l=Gf(t,r,IF),o=wk(t,i,PF);if(!n)return{from:l,to:o};let f=l,d=o;return l>0&&l<t.length&&t[l].ot>=r&&(f=l-1),o>0&&o<t.length&&t[o-1].ot<=i&&(d=o+1),{from:f,to:d}}class E1{constructor(e,n,r){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=r}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const r=n.Xs();if(r===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=Ek(this.zs,r,this.Fs),this.Gs(e,n,i.Vt),this.Js())}}class L0 extends E1{constructor(e,n){super(e,n,!0)}Gs(e,n,r){n.Qs(this.zs,Nf(this.Ls)),e.te(this.zs,r,Nf(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const r=n.Vt[3];return this.se(n.ee,r,e)})}}class FF extends L0{constructor(e,n){super(e,n),this.js=new _1,this.re=new jF,this.he=new _k,this.js.Z([this.re,this.he])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class zF extends fa{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let i=null;const l=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const f=this.zt.In[o];i!==f.ce&&(e.fillStyle=f.ce,i=f.ce);const d=Math.floor(.5*this.oe),g=Math.round(f.nt*n),p=g-d,v=this.oe,_=p+v-1,b=Math.min(f.de,f.fe),w=Math.max(f.de,f.fe),S=Math.round(b*r)-d,T=Math.round(w*r)+d,A=Math.max(T-S,this.oe);e.fillRect(p,S,v,A);const j=Math.ceil(1.5*this.ae);if(l){if(this.zt.ve){const Y=g-j;let L=Math.max(S,Math.round(f.pe*r)-d),U=L+v-1;U>S+A-1&&(U=S+A-1,L=U-v+1),e.fillRect(Y,L,p-Y,U-L+1)}const I=g+j;let Z=Math.max(S,Math.round(f.me*r)-d),Q=Z+v-1;Q>S+A-1&&(Q=S+A-1,Z=Q-v+1),e.fillRect(_+1,Z,I-_,Q-Z+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(r,i){return Math.floor(.3*r*i)}(Tt(this.zt).le,e)))}}class Tk extends E1{constructor(e,n){super(e,n,!1)}Gs(e,n,r){n.Qs(this.zs,Nf(this.Ls)),e.be(this.zs,r,Nf(this.Ls))}we(e,n,r){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class BF extends Tk{constructor(){super(...arguments),this.js=new zF}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class HF extends vk{constructor(){super(...arguments),this.Ts=new w1}bs(e,n){const r=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:r.vs})}}class UF extends bk{constructor(){super(...arguments),this.Pe=new w1}Vs(e,n){const r=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:r.vs})}}class $F extends L0{constructor(e,n){super(e,n),this.js=new _1,this.Ve=new HF,this.Oe=new UF,this.js.Z([this.Ve,this.Oe])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),r=this.Es.Dt().Rt(n.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:r,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:r,tt:this.Ls,ds:i})}}class WF extends fa{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(l,o){if(l>=2.5&&l<=4)return Math.floor(3*o);const f=1-.2*Math.atan(Math.max(4,l)-4)/(.5*Math.PI),d=Math.floor(l*f*o),g=Math.floor(l*o),p=Math.min(d,g);return Math.max(Math.floor(o),p)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const r=this.zt.In;this.zt.Be&&this.Ae(e,r,this.zt.tt),this.zt._i&&this.Ie(e,r,this.zt.tt);const i=this.ze(n);(!this.zt._i||this.ae>2*i)&&this.Le(e,r,this.zt.tt)}Ae(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:l,verticalPixelRatio:o}=e;let f="",d=Math.min(Math.floor(l),Math.floor(this.zt.le*l));d=Math.max(Math.floor(l),Math.min(d,this.ae));const g=Math.floor(.5*d);let p=null;for(let v=r.from;v<r.to;v++){const _=n[v];_.Ee!==f&&(i.fillStyle=_.Ee,f=_.Ee);const b=Math.round(Math.min(_.pe,_.me)*o),w=Math.round(Math.max(_.pe,_.me)*o),S=Math.round(_.de*o),T=Math.round(_.fe*o);let A=Math.round(l*_.nt)-g;const j=A+d-1;p!==null&&(A=Math.max(p+1,A),A=Math.min(A,j));const I=j-A+1;i.fillRect(A,S,I,b-S),i.fillRect(A,w+1,I,T-w),p=j}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const r=Math.max(Math.floor(e),n);return this.ae<=2*r?Math.max(Math.floor(e),Math.floor(1*e)):r}Ie(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:l,verticalPixelRatio:o}=e;let f="";const d=this.ze(l);let g=null;for(let p=r.from;p<r.to;p++){const v=n[p];v.Ne!==f&&(i.fillStyle=v.Ne,f=v.Ne);let _=Math.round(v.nt*l)-Math.floor(.5*this.ae);const b=_+this.ae-1,w=Math.round(Math.min(v.pe,v.me)*o),S=Math.round(Math.max(v.pe,v.me)*o);if(g!==null&&(_=Math.max(g+1,_),_=Math.min(_,b)),this.zt.le*l>2*d)kF(i,_,w,b-_+1,S-w+1,d);else{const T=b-_+1;i.fillRect(_,w,T,S-w+1)}g=b}}Le(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:l,verticalPixelRatio:o}=e;let f="";const d=this.ze(l);for(let g=r.from;g<r.to;g++){const p=n[g];let v=Math.round(Math.min(p.pe,p.me)*o),_=Math.round(Math.max(p.pe,p.me)*o),b=Math.round(p.nt*l)-Math.floor(.5*this.ae),w=b+this.ae-1;if(p.ce!==f){const S=p.ce;i.fillStyle=S,f=S}this.zt._i&&(b+=d,v+=d,w-=d,_-=d),v>_||i.fillRect(b,v,w-b+1,_-v+1)}}}class VF extends Tk{constructor(){super(...arguments),this.js=new WF}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class YF{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,r){this.Fe.draw(e,this.Li,n,r)}}class om extends E1{constructor(e,n,r){super(e,n,!1),this.wn=r,this.js=new YF(this.wn.renderer(),i=>{const l=e.Ct();return l===null?null:e.Dt().Rt(i,l.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,Nf(this.Ls))}Js(){this.wn.update({bars:this.zs.map(GF),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function GF(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class qF extends fa{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const i=Math.max(1,Math.floor(r)),l=Math.round(this.zt.Ye*r)-Math.floor(i/2),o=l+i;for(let f=this.zt.tt.from;f<this.zt.tt.to;f++){const d=this.zt.it[f],g=this.Ue[f-this.zt.tt.from],p=Math.round(d.st*r);let v,_;e.fillStyle=d.ce,p<=l?(v=p,_=o):(v=l,_=p-Math.floor(i/2)+i),e.fillRect(g.Os,v,g.ui-g.Os+1,_-v)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),r=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const o=this.zt.it[l],f=Math.round(o.nt*e);let d,g;if(r%2){const p=(r-1)/2;d=f-p,g=f+p}else{const p=r/2;d=f-p,g=f+p-1}this.Ue[l-this.zt.tt.from]={Os:d,ui:g,Ze:f,Xe:o.nt*e,ot:o.ot}}for(let l=this.zt.tt.from+1;l<this.zt.tt.to;l++){const o=this.Ue[l-this.zt.tt.from],f=this.Ue[l-this.zt.tt.from-1];o.ot===f.ot+1&&o.Os-f.ui!==n+1&&(f.Ze>f.Xe?f.ui=o.Os-n-1:o.Os=f.ui+n+1)}let i=Math.ceil(this.zt.le*e);for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const o=this.Ue[l-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const f=o.ui-o.Os+1;i=Math.min(f,i)}if(n>0&&i<4)for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const o=this.Ue[l-this.zt.tt.from];o.ui-o.Os+1>i&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class XF extends L0{constructor(){super(...arguments),this.js=new qF}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,Tt(this.Es.Ct()).Vt)};this.js.J(e)}}class JF extends L0{constructor(){super(...arguments),this.js=new _k}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const KF=/[2-9]/g;class Of{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,r){return this.sr(e,n,r).width}Mi(e,n,r){const i=this.sr(e,n,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,n,r){const i=r||KF,l=String(n).replace(i,"0");if(this.tr.has(l))return Ji(this.tr.get(l)).er;if(this.Ke===this.ir){const f=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(f),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(l);return e.restore(),o.width===0&&n.length||(this.tr.set(l,{er:o,rr:this.Ge}),this.Qe[this.Ge]=l,this.Ke++,this.Ge++),o}}class ZF{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,r){this.hr=e,this.k=n,this.lr=r}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class kk{constructor(e,n,r){this.ur=e,this.ar=new Of(50),this.cr=n,this.F=r,this.j=-1,this.Wt=new ZF(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const r=e.mr(n);if(r==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,r),this.Wt}}class QF extends fa{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var r;if(!(!((r=this.zt)===null||r===void 0)&&r.yt))return null;const{st:i,et:l,gr:o}=this.zt;return n>=i-l-7&&n<=i+l+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const l=Math.round(this.zt.st*i);l<0||l>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*r),Oo(e,this.zt.Nt),fk(e,l,0,n.width))}}class T1{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new QF,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class ez extends T1{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const r=this.Es.W();if(!r.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=r.baseLineColor,this.Sr.et=r.baseLineWidth,this.Sr.Nt=r.baseLineStyle)}}class tz extends fa{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){const i=this.zt;if(i===null)return;const l=Math.max(1,Math.floor(n)),o=l%2/2,f=Math.round(i.Xe.x*n)+o,d=i.Xe.y*r;e.fillStyle=i.Tr,e.beginPath();const g=Math.max(2,1.5*i.Pr)*n;e.arc(f,d,g,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(f,d,i.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=l,e.strokeStyle=i.Dr,e.beginPath(),e.arc(f,d,i.ht*n+l/2,0,2*Math.PI,!1),e.stroke()}}const nz=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function A2(t,e,n,r){return function(i,l){if(i==="transparent")return i;const o=kf(i),f=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${l*f})`}(t,n+(r-n)*e)}function D2(t,e){const n=t%2600/2600;let r;for(const d of nz)if(n>=d.Vr&&n<=d.Or){r=d;break}Xl(r!==void 0,"Last price animation internal logic error");const i=(n-r.Vr)/(r.Or-r.Vr);return{Rr:A2(e,i,r.Ir,r.zr),Dr:A2(e,i,r.Lr,r.Er),ht:(l=i,o=r.Br,f=r.Ar,o+(f-o)*l)};var l,o,f}class rz{constructor(e){this.Wt=new tz,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),r=this.jr.Ct();if(n===null||r===null)return;const i=this.jr.Zr(!0);if(i.Xr||!n.Kr(i.ee))return;const l={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,r.Vt)},o=i.V,f=this.jr.W().lineWidth,d=D2(this.Gr(),o);this.Wt.J({Tr:o,Pr:f,Rr:d.Rr,Dr:d.Dr,ht:d.ht,Xe:l})}Yr(){const e=this.Wt.$e();if(e!==null){const n=D2(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function cf(t,e){return yk(Math.min(Math.max(t,12),30)*e)}function Af(t,e){switch(t){case"arrowDown":case"arrowUp":return cf(e,1);case"circle":return cf(e,.8);case"square":return cf(e,.7)}}function Ck(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(cf(t,1))}function M2(t){return Math.max(cf(t,.1),3)}function R2(t,e,n){return e?t:n?Math.ceil(t/2):0}function Nk(t,e,n,r,i){const l=Af("square",n),o=(l-1)/2,f=t-o,d=e-o;return r>=f&&r<=f+l&&i>=d&&i<=d+l}function j2(t,e,n,r){const i=(Af("arrowUp",r)-1)/2*n.Jr,l=(yk(r/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st-i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+l,n.st),e.lineTo(n.nt+l,n.st+i),e.lineTo(n.nt-l,n.st+i),e.lineTo(n.nt-l,n.st)):(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st+i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+l,n.st),e.lineTo(n.nt+l,n.st-i),e.lineTo(n.nt-l,n.st-i),e.lineTo(n.nt-l,n.st)),e.fill()}function iz(t,e,n,r,i,l){return Nk(e,n,r,i,l)}class sz extends fa{constructor(){super(...arguments),this.zt=null,this.ar=new Of,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=Lc(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const i=this.zt.it[r];if(lz(i,e,n))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r},i,l){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const f=this.zt.it[o];f.Kt!==void 0&&(f.Kt.Hi=this.ar.xi(e,f.Kt.ih),f.Kt.At=this.j,f.Kt.nt=f.nt-f.Kt.Hi/2),az(f,e,n,r)}}}}function az(t,e,n,r){e.fillStyle=t.V,t.Kt!==void 0&&function(i,l,o,f,d,g){i.save(),i.scale(d,g),i.fillText(l,o,f),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,r),function(i,l,o){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void j2(!1,l,o,i.Ks);case"arrowUp":return void j2(!0,l,o,i.Ks);case"circle":return void function(f,d,g){const p=(Af("circle",g)-1)/2;f.beginPath(),f.arc(d.nt,d.st,p*d.Jr,0,2*Math.PI,!1),f.fill()}(l,o,i.Ks);case"square":return void function(f,d,g){const p=Af("square",g),v=(p-1)*d.Jr/2,_=d.nt-v,b=d.st-v;f.fillRect(_,b,p*d.Jr,p*d.Jr)}(l,o,i.Ks)}i.nh}}(t,e,function(i,l,o){const f=Math.max(1,Math.floor(l))%2/2;return{nt:Math.round(i.nt*l)+f,st:i.st*o,Jr:l}}(t,n,r))}function lz(t,e,n){return!(t.Kt===void 0||!function(r,i,l,o,f,d){const g=o/2;return f>=r&&f<=r+l&&d>=i-g&&d<=i+g}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(r,i,l){if(r.Ks===0)return!1;switch(r.nh){case"arrowDown":case"arrowUp":return iz(0,r.nt,r.st,r.Ks,i,l);case"circle":return function(o,f,d,g,p){const v=2+Af("circle",d)/2,_=o-g,b=f-p;return Math.sqrt(_*_+b*b)<=v}(r.nt,r.st,r.Ks,i,l);case"square":return Nk(r.nt,r.st,r.Ks,i,l)}}(t,e,n)}function oz(t,e,n,r,i,l,o,f,d){const g=Ta(n)?n:n.Se,p=Ta(n)?n:n.Me,v=Ta(n)?n:n.xe,_=Ta(e.size)?Math.max(e.size,0):1,b=Ck(f.le())*_,w=b/2;switch(t.Ks=b,e.position){case"inBar":return t.st=o.Rt(g,d),void(t.Kt!==void 0&&(t.Kt.st=t.st+w+l+.6*i));case"aboveBar":return t.st=o.Rt(p,d)-w-r.sh,t.Kt!==void 0&&(t.Kt.st=t.st-w-.6*i,r.sh+=1.2*i),void(r.sh+=b+l);case"belowBar":return t.st=o.Rt(v,d)+w+r.eh,t.Kt!==void 0&&(t.Kt.st=t.st+w+l+.6*i,r.eh+=1.2*i),void(r.eh+=b+l)}e.position}class cz{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new sz,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=M2(e),r=1.5*Ck(e)+2*n,i=this.fh();this.ah={above:R2(r,i.aboveBar,i.inBar),below:R2(r,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),r=this.jr.dh();this.rh&&(this.zt.it=r.map(p=>({ot:p.time,nt:0,st:0,Ks:0,nh:p.shape,V:p.color,th:p.th,gr:p.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const l=n.Xs();if(l===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let f=NaN;const d=M2(n.le()),g={sh:d,eh:d};this.zt.tt=Ek(this.zt.it,l,!0);for(let p=this.zt.tt.from;p<this.zt.tt.to;p++){const v=r[p];v.time!==f&&(g.sh=d,g.eh=d,f=v.time);const _=this.zt.it[p];_.nt=n.It(v.time),v.text!==void 0&&v.text.length>0&&(_.Kt={ih:v.text,nt:0,st:0,Hi:0,At:0});const b=this.jr.ph(v.time);b!==null&&oz(_,v,b,g,i.fontSize,d,e,n,o.Vt)}this.ft=!1}}class uz extends T1{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const r=this.Es.Zr(n.priceLineSource===0);r.Xr||(e.yt=!0,e.st=r.ki,e.V=this.Es.mh(r.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class fz extends M0{constructor(e){super(),this.jt=e}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.jt;if(!i.yt())return;const l=i.W(),o=l.lastValueVisible,f=i.bh()!=="",d=l.seriesLastValueMode===0,g=i.Zr(!1);if(g.Xr)return;o&&(e.Kt=this.wh(g,o,d),e.yt=e.Kt.length!==0),(f||d)&&(n.Kt=this.gh(g,o,f,d),n.yt=n.Kt.length>0);const p=i.mh(g.V),v=A0(p);r.t=v.t,r.ki=g.ki,n.Ot=i.$t().Bt(g.ki/i.Dt().At()),e.Ot=p,e.V=v.i,n.V=v.i}gh(e,n,r,i){let l="";const o=this.jt.bh();return r&&o.length!==0&&(l+=`${o} `),n&&i&&(l+=this.jt.Dt().Mh()?e.xh:e.Sh),l.trim()}wh(e,n,r){return n?r?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function L2(t,e,n,r){const i=Number.isFinite(e),l=Number.isFinite(n);return i&&l?t(e,n):i||l?i?e:n:r}class is{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new is(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new is(L2(Math.min,this.Ph(),e.Ph(),-1/0),L2(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Ta(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let r=this.yh-n,i=this.kh-n;r*=e,i*=e,this.yh=n+r,this.kh=n+i}Oh(e){Ta(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new is(e.minValue,e.maxValue)}}class n0{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new n0(is.Ah(e.priceRange),e.margins)}}class hz extends T1{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const r=this.Nh.Fh();r!==null&&(e.yt=!0,e.st=r,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class dz extends M0{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.Nh.W(),l=i.axisLabelVisible,o=i.title!=="",f=this.jr;if(!l||!f.yt())return;const d=this.Nh.Fh();if(d===null)return;o&&(n.Kt=i.title,n.yt=!0),n.Ot=f.$t().Bt(d/f.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const g=A0(i.axisLabelColor||i.color);r.t=g.t;const p=i.axisLabelTextColor||g.i;e.V=p,n.V=p,r.ki=d}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class gz{constructor(e,n){this.jr=e,this.cn=n,this.jh=new hz(e,this),this.ur=new dz(e,this),this.Hh=new kk(this.ur,e,e.$t())}$h(e){ca(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const r=e.Ct();return r===null?null:n.Rt(this.cn.price,r.Vt)}}class pz extends S1{constructor(e){super(),this.$i=e}$t(){return this.$i}}const mz={Bar:(t,e,n,r)=>{var i;const l=e.upColor,o=e.downColor,f=Tt(t(n,r)),d=Ec(f.Vt[0])<=Ec(f.Vt[3]);return{ce:(i=f.V)!==null&&i!==void 0?i:d?l:o}},Candlestick:(t,e,n,r)=>{var i,l,o;const f=e.upColor,d=e.downColor,g=e.borderUpColor,p=e.borderDownColor,v=e.wickUpColor,_=e.wickDownColor,b=Tt(t(n,r)),w=Ec(b.Vt[0])<=Ec(b.Vt[3]);return{ce:(i=b.V)!==null&&i!==void 0?i:w?f:d,Ne:(l=b.Ot)!==null&&l!==void 0?l:w?g:p,Ee:(o=b.Xh)!==null&&o!==void 0?o:w?v:_}},Custom:(t,e,n,r)=>{var i;return{ce:(i=Tt(t(n,r)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,n,r)=>{var i,l,o,f;const d=Tt(t(n,r));return{ce:(i=d.lt)!==null&&i!==void 0?i:e.lineColor,lt:(l=d.lt)!==null&&l!==void 0?l:e.lineColor,Ps:(o=d.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(f=d.Rs)!==null&&f!==void 0?f:e.bottomColor}},Baseline:(t,e,n,r)=>{var i,l,o,f,d,g;const p=Tt(t(n,r));return{ce:p.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=p.Re)!==null&&i!==void 0?i:e.topLineColor,De:(l=p.De)!==null&&l!==void 0?l:e.bottomLineColor,ke:(o=p.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(f=p.ye)!==null&&f!==void 0?f:e.topFillColor2,Ce:(d=p.Ce)!==null&&d!==void 0?d:e.bottomFillColor1,Te:(g=p.Te)!==null&&g!==void 0?g:e.bottomFillColor2}},Line:(t,e,n,r)=>{var i,l;const o=Tt(t(n,r));return{ce:(i=o.V)!==null&&i!==void 0?i:e.color,lt:(l=o.V)!==null&&l!==void 0?l:e.color}},Histogram:(t,e,n,r)=>{var i;return{ce:(i=Tt(t(n,r)).V)!==null&&i!==void 0?i:e.color}}};class xz{constructor(e){this.Kh=(n,r)=>r!==void 0?r.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=mz[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var I2;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(I2||(I2={}));const Pl=30;class vz{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const r=this.hl(e,n);return r===null?null:Object.assign(Object.assign({},this.al(r)),{ee:this.rl(r)})}ne(){return this.tl}ol(e,n,r){if(this.Ni())return null;let i=null;for(const l of r)i=fd(i,this._l(e,n,l));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const r=this.ul(e);if(r===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return r}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return Gf(this.tl,e,(n,r)=>n.ee<r)}vl(e){return wk(this.tl,e,(n,r)=>n.ee>r)}pl(e,n,r){let i=null;for(let l=e;l<n;l++){const o=this.tl[l].Vt[r];Number.isNaN(o)||(i===null?i={ml:o,bl:o}:(o<i.ml&&(i.ml=o),o>i.bl&&(i.bl=o)))}return i}_l(e,n,r){if(this.Ni())return null;let i=null;const l=Tt(this.el()),o=Tt(this.An()),f=Math.max(e,l),d=Math.min(n,o),g=Math.ceil(f/Pl)*Pl,p=Math.max(g,Math.floor(d/Pl)*Pl);{const _=this.fl(f),b=this.vl(Math.min(d,g,n));i=fd(i,this.pl(_,b,r))}let v=this.il.get(r);v===void 0&&(v=new Map,this.il.set(r,v));for(let _=Math.max(g+1,f);_<p;_+=Pl){const b=Math.floor(_/Pl);let w=v.get(b);if(w===void 0){const S=this.fl(b*Pl),T=this.vl((b+1)*Pl-1);w=this.pl(S,T,r),v.set(b,w)}i=fd(i,w)}{const _=this.fl(p),b=this.vl(d);i=fd(i,this.pl(_,b,r))}return i}}function fd(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class yz{constructor(e){this.wl=e}X(e,n,r){this.wl.draw(e)}gl(e,n,r){var i,l;(l=(i=this.wl).drawBackground)===null||l===void 0||l.call(i,e)}}class cm{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const r=new yz(n);return this.tr={Ml:n,xl:r},r}Sl(){var e,n,r;return(r=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:"normal"}}function Ok(t){var e,n,r,i,l;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(r=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||r===void 0||r,hi:(l=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||l===void 0||l}}class bz{constructor(e,n){this.Wt=new pk,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},Ok(this.kl))),this.Wt}}class _z extends M0{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,r){const i=Ok(this.kl);r.t=i.t,e.V=i.V;const l=2/12*this.Li.P();r.wi=l,r.gi=l,r.ki=i.ki,r.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class Sz{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,r,i;const l=(r=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===l)return this.Cl.xl;const o=l.map(f=>new cm(f));return this.Cl={Ml:l,xl:o},o}Qi(){var e,n,r,i;const l=(r=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===l)return this.Tl.xl;const o=this.jr.$t().St(),f=l.map(d=>new bz(d,o));return this.Tl={Ml:l,xl:f},f}Rn(){var e,n,r,i;const l=(r=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===l)return this.Pl.xl;const o=this.jr.Dt(),f=l.map(d=>new _z(d,o));return this.Pl={Ml:l,xl:f},f}Bl(){var e,n,r,i;const l=(r=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===l)return this.Rl.xl;const o=l.map(f=>new cm(f));return this.Rl={Ml:l,xl:o},o}Al(){var e,n,r,i;const l=(r=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===l)return this.Dl.xl;const o=l.map(f=>new cm(f));return this.Dl={Ml:l,xl:o},o}Il(e,n){var r,i,l;return(l=(i=(r=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(r,e,n))!==null&&l!==void 0?l:null}wr(e,n){var r,i,l;return(l=(i=(r=this.Vl).hitTest)===null||i===void 0?void 0:i.call(r,e,n))!==null&&l!==void 0?l:null}}function um(t,e,n,r){t.forEach(i=>{e(i).forEach(l=>{l.Sl()===n&&r.push(l)})})}function fm(t){return t.Pn()}function wz(t){return t.Bl()}function Ez(t){return t.Al()}class k1 extends pz{constructor(e,n,r,i,l){super(e),this.zt=new vz,this.jh=new uz(this),this.zl=[],this.Ll=new ez(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=r;const o=new fz(this);this.rn=[o],this.Hh=new kk(o,this,e),r!=="Area"&&r!=="Line"&&r!=="Baseline"||(this.El=new rz(this)),this.Ul(),this.ql(l)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},r=this.Dt();if(this.$t().St().Ni()||r.Ni()||this.zt.Ni())return n;const i=this.$t().St().Xs(),l=this.Ct();if(i===null||l===null)return n;let o,f;if(e){const v=this.zt.sl();if(v===null)return n;o=v,f=v.ee}else{const v=this.zt.ll(i.ui(),-1);if(v===null||(o=this.zt.Gh(v.ee),o===null))return n;f=v.ee}const d=o.Vt[3],g=this.Us().$s(f,{Vt:o}),p=r.Rt(d,l.Vt);return{Xr:!1,_t:d,Kt:r.Fi(d,l.Vt),xh:r.Yl(d),Sh:r.Zl(d,l.Vt),V:g.ce,ki:p,ee:f}}Us(){return this.Nl!==null||(this.Nl=new xz(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),ca(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const r=this.$t().dr(this);this.$t().ia(r),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new gz(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];um(this.Hl,fm,"top",n);const r=this.El;return r!==null&&r.yt()&&(this.jl===null&&r.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),r.Ur(),n.unshift(r)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(r=>r.qh());return e.push(...n),um(this.Hl,fm,"normal",e),e}ua(){return this.ca(fm,"bottom")}da(e){return this.ca(wz,e)}fa(e){return this.ca(Ez,e)}va(e,n){return this.Hl.map(r=>r.wr(e,n)).filter(r=>r!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const r=[...this.rn];for(const i of this.zl)r.push(i.Zh());return this.Hl.forEach(i=>{r.push(...i.Rn())}),r}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const r=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,n);return i===null?null:i.Bh()});return n0.Ah(r)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return Tt(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new Sz(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof om)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof om)return e=>this.wn.je(e)}_a(){return!R0(this.Dt().Pa())}pa(e,n){if(!Cf(e)||!Cf(n)||this.zt.Ni())return null;const r=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,n,r);let l=i!==null?new is(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const f=this.cn.base,d=new is(f,f);l=l!==null?l.ts(d):d}let o=this.dn.uh();return this.Hl.forEach(f=>{const d=f.Il(e,n);if(d!=null&&d.priceRange){const b=new is(d.priceRange.minValue,d.priceRange.maxValue);l=l!==null?l.ts(b):b}var g,p,v,_;d!=null&&d.margins&&(g=o,p=d.margins,o={above:Math.max((v=g==null?void 0:g.above)!==null&&v!==void 0?v:0,p.above),below:Math.max((_=g==null?void 0:g.below)!==null&&_!==void 0?_:0,p.below)})}),new n0(l,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new DF(this.cn.priceFormat.precision);break;case"percent":this.wa=new mk(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new j0(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=Tt(this.zt.el());this.Wl=this.Fl.map((r,i)=>{const l=Tt(e.Va(r.time,!0)),o=l<n?1:-1;return{time:Tt(this.zt.ll(l,o)).ee,position:r.position,shape:r.shape,color:r.color,id:r.id,th:i,text:r.text,size:r.size,originalTime:r.originalTime}})}ql(e){switch(this.dn=new cz(this,this.$t()),this.$l){case"Bar":this.wn=new BF(this,this.$t());break;case"Candlestick":this.wn=new VF(this,this.$t());break;case"Line":this.wn=new JF(this,this.$t());break;case"Custom":this.wn=new om(this,this.$t(),Ji(e));break;case"Area":this.wn=new FF(this,this.$t());break;case"Baseline":this.wn=new $F(this,this.$t());break;case"Histogram":this.wn=new XF(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const r=[];return um(this.Hl,e,n,r),r}}class Tz{constructor(e){this.cn=e}Oa(e,n,r){let i=e;if(this.cn.mode===0)return i;const l=r.vn(),o=l.Ct();if(o===null)return i;const f=l.Rt(e,o),d=r.Ba().filter(p=>p instanceof k1).reduce((p,v)=>{if(r.vr(v)||!v.yt())return p;const _=v.Dt(),b=v.In();if(_.Ni()||!b.Kr(n))return p;const w=b.Gh(n);if(w===null)return p;const S=Ec(v.Ct());return p.concat([_.Rt(w.Vt[3],S.Vt)])},[]);if(d.length===0)return i;d.sort((p,v)=>Math.abs(p-f)-Math.abs(v-f));const g=d[0];return i=l.pn(g,o),i}}class kz extends fa{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const l=Math.max(1,Math.floor(r));e.lineWidth=l,function(o,f){o.save(),o.lineWidth%2&&o.translate(.5,.5),f(),o.restore()}(e,()=>{const o=Tt(this.zt);if(o.Aa){e.strokeStyle=o.Ia,Oo(e,o.za),e.beginPath();for(const f of o.La){const d=Math.round(f.Ea*r);e.moveTo(d,-l),e.lineTo(d,n.height+l)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,Oo(e,o.Wa),e.beginPath();for(const f of o.ja){const d=Math.round(f.Ea*i);e.moveTo(-l,d),e.lineTo(n.width+l,d)}e.stroke()}})}}class Cz{constructor(e){this.Wt=new kz,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(r=>({Ea:r.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class Nz{constructor(e){this.wn=new Cz(e)}qh(){return this.wn}}const hm={$a:4,Ua:1e-4};function Tc(t,e){const n=100*(t-e)/e;return e<0?-n:n}function Oz(t,e){const n=Tc(t.Ph(),e),r=Tc(t.Rh(),e);return new is(n,r)}function uf(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function Az(t,e){const n=uf(t.Ph(),e),r=uf(t.Rh(),e);return new is(n,r)}function r0(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.log10(n+e.Ua)+e.$a;return t<0?-r:r}function ff(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.pow(10,n-e.$a)-e.Ua;return t<0?-r:r}function Uu(t,e){if(t===null)return null;const n=r0(t.Ph(),e),r=r0(t.Rh(),e);return new is(n,r)}function hd(t,e){if(t===null)return null;const n=ff(t.Ph(),e),r=ff(t.Rh(),e);return new is(n,r)}function dm(t){if(t===null)return hm;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return hm;const n=Math.ceil(Math.abs(Math.log10(e))),r=hm.$a+n;return{$a:r,Ua:1/Math.pow(10,r)}}class gm{constructor(e,n){if(this.qa=e,this.Ya=n,function(r){if(r<0)return!1;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let r=this.qa;r!==1;){if(r%2==0)this.Za.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),r/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,r){const i=this.qa===0?0:1/this.qa;let l=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),o=0,f=this.Ya[0];for(;;){const v=ud(l,i,1e-14)&&l>i+1e-14,_=ud(l,r*f,1e-14),b=ud(l,1,1e-14);if(!(v&&_&&b))break;l/=f,f=this.Ya[++o%this.Ya.length]}if(l<=i+1e-14&&(l=i),l=Math.max(1,l),this.Za.length>0&&(d=l,g=1,p=1e-14,Math.abs(d-g)<p))for(o=0,f=this.Za[0];ud(l,r*f,1e-14)&&l>i+1e-14;)l/=f,f=this.Za[++o%this.Za.length];var d,g,p;return l}}class P2{constructor(e,n,r,i){this.Ka=[],this.Li=e,this.qa=n,this.Ga=r,this.Ja=i}Xa(e,n){if(e<n)throw new Error("high < low");const r=this.Li.At(),i=(e-n)*this.Qa()/r,l=new gm(this.qa,[2,2.5,2]),o=new gm(this.qa,[2,2,2.5]),f=new gm(this.qa,[2.5,2,2]),d=[];return d.push(l.Xa(e,n,i),o.Xa(e,n,i),f.Xa(e,n,i)),function(g){if(g.length<1)throw Error("array is empty");let p=g[0];for(let v=1;v<g.length;++v)g[v]<p&&(p=g[v]);return p}(d)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const r=e.At(),i=this.Ga(r-1,n),l=this.Ga(0,n),o=this.Li.W().entireTextOnly?this.no()/2:0,f=o,d=r-1-o,g=Math.max(i,l),p=Math.min(i,l);if(g===p)return void(this.Ka=[]);let v=this.Xa(g,p),_=g%v;_+=_<0?v:0;const b=g>=p?1:-1;let w=null,S=0;for(let T=g-_;T>p;T-=v){const A=this.Ja(T,n,!0);w!==null&&Math.abs(A-w)<this.Qa()||A<f||A>d||(S<this.Ka.length?(this.Ka[S].Ea=A,this.Ka[S].so=e.eo(T)):this.Ka.push({Ea:A,so:e.eo(T)}),S++,w=A,e.ro()&&(v=this.Xa(T*b,p)))}this.Ka.length=S}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function Ak(t){return t.slice().sort((e,n)=>Tt(e.Xi())-Tt(n.Xi()))}var F2;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(F2||(F2={}));const z2=new mk,B2=new j0(100,1);class Dz{constructor(e,n,r,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Qr,this.vo=new Qr,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=B2,this.xo=dm(null),this.So=e,this.cn=n,this.ko=r,this.yo=i,this.Co=new P2(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(ca(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=Ji(e.scaleMargins.top),r=Ji(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(n+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+r}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let r=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(l,o){if(l===null)return!1;const f=ff(l.Ph(),o),d=ff(l.Rh(),o);return isFinite(f)&&isFinite(d)}(this.Ih,this.xo)?(r=hd(this.Ih,this.xo),r!==null&&this.Ao(r)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(r=Uu(this.Ih,this.xo),r!==null&&this.Ao(r));const i=n.Cr!==this.cn.mode;i&&(n.Cr===2||this.Mh())&&this.Ra(),i&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const r=this.Ih;(n||r===null&&e!==null||r!==null&&!r.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=Tc(e,n):this.Oo()&&(e=uf(e,n)),this.Po(e,n)}te(e,n,r){this.Wo();const i=this.Fo(),l=Tt(this.Lh()),o=l.Ph(),f=l.Rh(),d=this.Eo()-1,g=this.Bo(),p=d/(f-o),v=r===void 0?0:r.from,_=r===void 0?e.length:r.to,b=this.Ho();for(let w=v;w<_;w++){const S=e[w],T=S._t;if(isNaN(T))continue;let A=T;b!==null&&(A=b(S._t,n));const j=i+p*(A-o),I=g?j:this.ho-1-j;S.st=I}}be(e,n,r){this.Wo();const i=this.Fo(),l=Tt(this.Lh()),o=l.Ph(),f=l.Rh(),d=this.Eo()-1,g=this.Bo(),p=d/(f-o),v=r===void 0?0:r.from,_=r===void 0?e.length:r.to,b=this.Ho();for(let w=v;w<_;w++){const S=e[w];let T=S.ge,A=S.Me,j=S.xe,I=S.Se;b!==null&&(T=b(S.ge,n),A=b(S.Me,n),j=b(S.xe,n),I=b(S.Se,n));let Z=i+p*(T-o),Q=g?Z:this.ho-1-Z;S.pe=Q,Z=i+p*(A-o),Q=g?Z:this.ho-1-Z,S.de=Q,Z=i+p*(j-o),Q=g?Z:this.ho-1-Z,S.fe=Q,Z=i+p*(I-o),Q=g?Z:this.ho-1-Z,S.me=Q}}pn(e,n){const r=this.To(e,n);return this.$o(r,n)}$o(e,n){let r=e;return this.Mh()?r=function(i,l){return l<0&&(i=-i),i/100*l+l}(r,n):this.Oo()&&(r=function(i,l){return i-=100,l<0&&(i=-i),i/100*l+l}(r,n)),r}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const r=this.po[n];r.Xi()===null&&r.Ki(n+1),e.push(r)}return e=Ak(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const r=n.Ct();r!==null&&(e===null||r.la<e.la)&&(e=r)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=Tt(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const r=Tt(this.ao).Th();n=Math.max(n,.1),r.Vh(n),this.Ao(r)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=Tt(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=Tt(this.Lh()).Dh()/(this.Eo()-1);let r=e-this.Mo;this.Bo()&&(r*=-1);const i=r*n,l=Tt(this.ao).Th();l.Oh(i),this.Ao(l,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(Tc(e,n));case 3:return this.ba().format(uf(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,Tt(this.e_()).ba())}Zl(e,n){return e=Tc(e,n),this.s_(e,z2)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=B2,this.Mh()?(this.wa=z2,n=100):this.Oo()?(this.wa=new j0(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new P2(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?r0(e,this.xo):e;const r=Tt(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-r.Ph())/r.Dh();return this.jo(i)}To(e,n){if(this.Wo(),this.Ni())return 0;const r=this.jo(e),i=Tt(this.Lh()),l=i.Ph()+i.Dh()*((r-this.Fo())/(this.Eo()-1));return this.ro()?ff(l,this.xo):l}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const r=this.r_();let i=0,l=0;for(const d of r){if(!d.yt())continue;const g=d.Ct();if(g===null)continue;const p=d.Il(e.Os(),e.ui());let v=p&&p.Lh();if(v!==null){switch(this.cn.mode){case 1:v=Uu(v,this.xo);break;case 2:v=Oz(v,g.Vt);break;case 3:v=Az(v,g.Vt)}if(n=n===null?v:n.ts(Tt(v)),p!==null){const _=p.Eh();_!==null&&(i=Math.max(i,_.above),l=Math.max(l,_.below))}}}if(i===this.co&&l===this.do||(this.co=i,this.do=l,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const d=this.e_(),g=5*(d===null||this.Mh()||this.Oo()?1:d.ma());this.ro()&&(n=hd(n,this.xo)),n=new is(n.Ph()-g,n.Rh()+g),this.ro()&&(n=Uu(n,this.xo))}if(this.ro()){const d=hd(n,this.xo),g=dm(d);if(o=g,f=this.xo,o.$a!==f.$a||o.Ua!==f.Ua){const p=this.ao!==null?hd(this.ao,this.xo):null;this.xo=g,n=Uu(d,g),p!==null&&(this.ao=Uu(p,g))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new is(-.5,.5)),this.xo=dm(null));var o,f;this.oo._o=!0}Ho(){return this.Mh()?Tc:this.Oo()?uf:this.ro()?e=>r0(e,this.xo):null}a_(e,n,r){return n===void 0?(r===void 0&&(r=this.ba()),r.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class Mz{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Qr,this.yl=e,this.$i=n,this.d_=new Nz(this);const r=n.W();this.f_=this.v_("left",r.leftPriceScale),this.p_=this.v_("right",r.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(r)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const r of n){const i=Tt(r[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?Ji(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const r=n.Dt();r!==null&&r.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,r){const i=r!==void 0?r:this.C_().y_+1;this.T_(e,n,i)}Zo(e){const n=this.po.indexOf(e);Xl(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const r=Tt(e.Dt()).Pa();if(this.o_.has(r)){const l=Ji(this.o_.get(r)),o=l.indexOf(e);o!==-1&&(l.splice(o,1),l.length===0&&this.o_.delete(r))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=Ak(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const r=this.yl.Xs();r!==null&&e.h_(r)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,r=0;for(let i=0;i<e.length;i++){const l=e[i].Xi();l!==null&&(l<n&&(n=l),l>r&&(r=l))}return{H_:n,y_:r}}T_(e,n,r){let i=this.w_(n);if(i===null&&(i=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!R0(n)){const l=this.o_.get(n)||[];l.push(e),this.o_.set(n,l)}i.qo(e),e.Gi(i),e.Ki(r),this.P_(i),this.mo=null}m_(e,n,r){n.Cr!==r.Cr&&this.L_(e)}v_(e,n){const r=Object.assign({visible:!0,autoScale:!0},Qa(n)),i=new Dz(e,r,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class Rz{constructor(e,n,r=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=r}Y_(e){const n=e.time,r=this.q_.cacheKey(n),i=this.tr.get(r);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(Ji(o)),this.Je++,this.Ke--}const l=this.U_(e);return this.tr.set(r,{Z_:l,rr:this.Ge}),this.Qe.set(this.Ge,r),this.Ke++,this.Ge++,l}}class hf{constructor(e,n){Xl(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function H2(t,e){return t===null||e===null?t===e:t.Ch(e)}class jz{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let r=n;r<e.length;++r){const i=e[r];let l=this.J_.get(i.timeWeight);l===void 0&&(l=[],this.J_.set(i.timeWeight,l)),l.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,n){const r=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===r||(this.tr={Ha:this.ru(r),eu:r}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((r,i)=>{e<=r[0].index?n.push(i):r.splice(Gf(r,e,l=>l.index<e),1/0)});for(const r of n)this.J_.delete(r)}ru(e){let n=[];for(const r of Array.from(this.J_.keys()).sort((i,l)=>l-i)){if(!this.J_.get(r))continue;const i=n;n=[];const l=i.length;let o=0;const f=Ji(this.J_.get(r)),d=f.length;let g=1/0,p=-1/0;for(let v=0;v<d;v++){const _=f[v],b=_.index;for(;o<l;){const w=i[o],S=w.index;if(!(S<b)){g=S;break}o++,n.push(w),p=S,g=1/0}if(g-b>=e&&b-p>=e)n.push(_),p=b;else if(this.Q_)return i}for(;o<l;o++)n.push(i[o])}return n}}class Rc{constructor(e){this.hu=e}lu(){return this.hu===null?null:new hf(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Rc(null)}}function Lz(t,e){return t.weight>e.weight?t:e}class Iz{constructor(e,n,r,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new jz,this.du=new Map,this.fu=Rc.ou(),this.vu=!0,this.pu=new Qr,this.mu=new Qr,this.bu=new Qr,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=r,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){ca(this.yo,e),this.Cu(),this.ku()}$h(e,n){var r;ca(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((r=e.barSpacing)!==null&&r!==void 0?r:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,r;return(r=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&r!==void 0?r:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const r=Gf(this.uu,this.q_.key(e),(i,l)=>this.q_.key(i.time)<l);return this.q_.key(e)<this.q_.key(this.uu[r].time)?n?r:null:r}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),r=Math.round(e.to),i=Tt(this.Bu()),l=Tt(this.Au());return{from:Tt(this.Ui(Math.max(i,n))),to:Tt(this.Ui(Math.min(l,r)))}}Iu(e){return{from:Tt(this.Va(e.from,!0)),to:Tt(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),r=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Su*e/r;this.Su=i}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const i=r-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!Cf(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const r=this.Eu(),i=n===void 0?0:n.from,l=n===void 0?e.length:n.to;for(let o=i;o<l;o++){const f=e[o].ot,d=r+this.xu-f,g=this.__-(d+.5)*this.Su-1;e[o].nt=g}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),r=Math.round(n/e),i=Tt(this.Xs()),l=Math.max(i.Os(),i.Os()-r),o=Math.max(i.ui(),i.ui()-r),f=this.cu.su(e,n),d=this.Bu()+r,g=this.Au()-r,p=this.$u(),v=this.cn.fixLeftEdge||p,_=this.cn.fixRightEdge||p;let b=0;for(const w of f){if(!(l<=w.index&&w.index<=o))continue;let S;b<this.Mu.length?(S=this.Mu[b],S.coord=this.It(w.index),S.label=this.Uu(w),S.weight=w.weight):(S={needAlignCoordinate:!1,coord:this.It(w.index),label:this.Uu(w),weight:w.weight},this.Mu.push(S)),this.Su>n/2&&!p?S.needAlignCoordinate=!1:S.needAlignCoordinate=v&&w.index<=d||_&&w.index>=g,b++}return this.Mu.length=b,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const r=this.Fu(e),i=this.le(),l=i+n*(i/10);this.Gn(l),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(r-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=rx(this.__-e,0,this.__),r=rx(this.__-Tt(this.wo),0,this.__);n!==0&&r!==0&&this.Gn(this.wu.le*n/r)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=Tt(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.xu,i=performance.now();this.$i.Zn({Qu:l=>(l-i)/n>=1,tc:l=>{const o=(l-i)/n;return o>=1?e:r+(e-r)*o}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new hf(e,n+this.cn.rightOffset))}lc(e){const n=new hf(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),r=this.Eu()+this.xu-n;return Math.round(1e6*r)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Rc.ou());const e=this.Eu(),n=this.__/this.Su,r=this.xu+e,i=new hf(r-n+1,r);this._c(new Rc(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new Rz(r=>this.fc(r),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,H2(n.lu(),this.fu.lu())||this.pu.m(),H2(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const r=n.Os()-e;if(r<0){const i=this.xu-r-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class Pz{X(e,n,r){e.useMediaCoordinateSpace(i=>this.K(i,n,r))}gl(e,n,r){e.useMediaCoordinateSpace(i=>this.vc(i,n,r))}vc(e,n,r){}}class Fz extends Pz{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:r}=e;let i=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;n.font=o.R;const f=this.wc(n,o.Kt);f>r.width?o.Zu=r.width/f:o.Zu=1,i+=o.gc*o.Zu}let l=0;switch(this.zt.Mc){case"top":l=0;break;case"center":l=Math.max((r.height-i)/2,0);break;case"bottom":l=Math.max(r.height-i,0)}n.fillStyle=this.zt.V;for(const o of this.zt.bc){n.save();let f=0;switch(this.zt.xc){case"left":n.textAlign="left",f=o.gc/2;break;case"center":n.textAlign="center",f=r.width/2;break;case"right":n.textAlign="right",f=r.width-1-o.gc/2}n.translate(f,l),n.textBaseline="top",n.font=o.R,n.scale(o.Zu,o.Zu),n.fillText(o.Kt,0,o.Sc),n.restore(),l+=o.gc*o.Zu}}wc(e,n){const r=this.kc(e.font);let i=r.get(n);return i===void 0&&(i=e.measureText(n).width,r.set(n,i)),i}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class zz{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new Fz(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:Lc(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class Bz extends S1{constructor(e,n){super(),this.cn=n,this.wn=new zz(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var U2,$2,W2,V2,Y2;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(U2||(U2={}));class Hz{constructor(e,n,r){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Qr,this.Rc=new Qr,this.Dc=null,this.Vc=e,this.cn=n,this.q_=r,this.Oc=new yF(this),this.yl=new Iz(this,n.timeScale,this.cn.localization,r),this.vt=new AF(this,n.crosshair),this.Bc=new Tz(n.crosshair),this.Ac=new Bz(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Ni.es())}Uh(){this.Nc(Ni.ss())}oa(){this.Nc(new Ni(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){ca(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const r=this.Uc(e);r!==null&&(r.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const r=n.w_(e);if(r!==null)return{Ht:n,Dt:r}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new Mz(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const r=e===void 0?this.yc.length-1:e,i=Ni.es();return i.Nn(r,{Fn:0,Wn:!0}),this.Nc(i),n}V_(e,n,r){e.V_(n,r)}O_(e,n,r){e.O_(n,r),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,r){n.Vo()||e.A_(n,r)}I_(e,n,r){n.Vo()||(e.I_(n,r),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const r=this.St();if(r.Ni()||n===0)return;const i=r.Hi();e=Math.max(1,Math.min(e,i)),r.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,r,i,l){this.vt.gn(e,n);let o=NaN,f=this.yl.Nu(e);const d=this.yl.Xs();d!==null&&(f=Math.min(Math.max(d.Os(),f),d.ui()));const g=i.vn(),p=g.Ct();p!==null&&(o=g.pn(n,p)),o=this.Bc.Oa(o,f,i),this.vt.kn(f,o,i),this.oa(),l||this.Rc.m(this.vt.xt(),{x:e,y:n},r)}ad(e,n,r){const i=r.vn(),l=i.Ct(),o=i.Rt(e,Tt(l)),f=this.yl.Va(n,!0),d=this.yl.It(Tt(f));this.ld(d,o,null,r,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),r=this.vt.Sn();this.ld(n,r,null,e)}this.vt.Vn()}_d(e,n,r){const i=this.yl.mn(0);n!==void 0&&r!==void 0&&this.yl.bt(n,r);const l=this.yl.mn(0),o=this.yl.Eu(),f=this.yl.Xs();if(f!==null&&i!==null&&l!==null){const d=f.Kr(o),g=this.q_.key(i)>this.q_.key(l),p=e!==null&&e>o&&!g,v=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,_=d&&(r!==void 0||v)&&this.yl.W().shiftVisibleRangeOnNewBar;if(p&&!_){const b=e-o;this.yl.Jn(this.yl.Hu()-b)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(r=>r.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,r){const i=this.yc[0],l=this.fd(n,e,i,r);return this.Cc.push(l),this.Cc.length===1?this.Kl():this.Uh(),l}vd(e){const n=this.dr(e),r=this.Cc.indexOf(e);Xl(r!==-1,"Series not found"),this.Cc.splice(r,1),Tt(n).Zo(e),e.S&&e.S()}Xl(e,n){const r=Tt(this.dr(e));r.Zo(e);const i=this.Uc(n);if(i===null){const l=e.Xi();r.qo(e,n,l)}else{const l=i.Ht===r?e.Xi():void 0;i.Ht.qo(e,n,l)}}hc(){const e=Ni.ss();e.$n(),this.Nc(e)}pd(e){const n=Ni.ss();n.Yn(e),this.Nc(n)}Kn(){const e=Ni.ss();e.Kn(),this.Nc(e)}Gn(e){const n=Ni.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=Ni.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=Ni.ss();n.Zn(e),this.Nc(n)}Un(){const e=Ni.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,r=this.zc;if(n===r)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==r||this.Dc.Rs!==n)this.Dc={Ps:r,Rs:n,wd:new Map};else{const l=this.Dc.wd.get(e);if(l!==void 0)return l}const i=function(l,o,f){const[d,g,p,v]=kf(l),[_,b,w,S]=kf(o),T=[zs(d+f*(_-d)),zs(g+f*(b-g)),zs(p+f*(w-p)),hk(v+f*(S-v))];return`rgba(${T[0]}, ${T[1]}, ${T[2]}, ${T[3]})`}(r,n,e/100);return this.Dc.wd.set(e,i),i}Gc(e,n){const r=new Ni(n);if(e!==null){const i=this.yc.indexOf(e);r.Nn(i,{Fn:n})}return r}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,r,i){const l=new k1(this,e,n,r,i),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return r.qo(l,o),R0(o)||l.$h(e),l}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function ix(t){return!Ta(t)&&!Yf(t)}function Dk(t){return Ta(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})($2||($2={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(W2||(W2={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(V2||(V2={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Y2||(Y2={}));const G2=t=>t.getUTCFullYear();function Uz(t,e,n){return e.replace(/yyyy/g,(r=>el(G2(r),4))(t)).replace(/yy/g,(r=>el(G2(r)%100,2))(t)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,n)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,n)).replace(/MM/g,(r=>el((i=>i.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>el((i=>i.getUTCDate())(r),2))(t))}class Mk{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return Uz(e,this.gd,this.Md)}}class $z{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",el(e.getUTCHours(),2)).replace("%m",el(e.getUTCMinutes(),2)).replace("%s",el(e.getUTCSeconds(),2))}}const Wz={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class Vz{constructor(e={}){const n=Object.assign(Object.assign({},Wz),e);this.Td=new Mk(n.Sd,n.Cd),this.Pd=new $z(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function dd(t){return 60*t*60*1e3}function pm(t){return 60*t*1e3}const gd=[{Dd:(q2=1,1e3*q2),Vd:10},{Dd:pm(1),Vd:20},{Dd:pm(5),Vd:21},{Dd:pm(30),Vd:22},{Dd:dd(1),Vd:30},{Dd:dd(3),Vd:31},{Dd:dd(6),Vd:32},{Dd:dd(12),Vd:33}];var q2;function X2(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=gd.length-1;n>=0;--n)if(Math.floor(e.getTime()/gd[n].Dd)!==Math.floor(t.getTime()/gd[n].Dd))return gd[n].Vd;return 0}function mm(t){let e=t;if(Yf(t)&&(e=C1(t)),!ix(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function J2(t){if(!Dk(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function C1(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function K2(t){Yf(t.time)&&(t.time=C1(t.time))}class Z2{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(K2)}(e):K2(e)}createConverterToInternalObj(e){return Tt(function(n){return n.length===0?null:ix(n[0].time)||Yf(n[0].time)?mm:J2}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return Dk(n=e)?J2(n):ix(n)?mm(n):mm(C1(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new Vz({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new Mk(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const r=function(l,o,f){switch(l){case 0:case 10:return o?f?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const l=i.tickMarkFormatter(e.originalTime,r,n.locale);if(l!==null)return l}return function(l,o,f){const d={};switch(o){case 0:d.year="numeric";break;case 1:d.month="short";break;case 2:d.day="numeric";break;case 3:d.hour12=!1,d.hour="2-digit",d.minute="2-digit";break;case 4:d.hour12=!1,d.hour="2-digit",d.minute="2-digit",d.second="2-digit"}const g=l.Bd===void 0?new Date(1e3*l.Od):new Date(Date.UTC(l.Bd.year,l.Bd.month-1,l.Bd.day));return new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()).toLocaleString(f,d)}(e.time,r,n.locale)}maxTickMarkWeight(e){let n=e.reduce(Lz,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(r,i=0){if(r.length===0)return;let l=i===0?null:r[i-1].time.Od,o=l!==null?new Date(1e3*l):null,f=0;for(let d=i;d<r.length;++d){const g=r[d],p=new Date(1e3*g.time.Od);o!==null&&(g.timeWeight=X2(p,o)),f+=g.time.Od-(l||g.time.Od),l=g.time.Od,o=p}if(i===0&&r.length>1){const d=Math.ceil(f/(r.length-1)),g=new Date(1e3*(r[0].time.Od-d));r[0].timeWeight=X2(new Date(1e3*r[0].time.Od),g)}})(e,n)}static Id(e){return ca({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Ic=typeof window<"u";function Q2(){return!!Ic&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function xm(){return!!Ic&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function sx(t){return t+t%2}function vm(t,e){return t.zd-e.zd}function ym(t,e,n){const r=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(r)*Math.min(Math.abs(r),n)}class Yz{constructor(e,n,r,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=r,this.rs=i}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let r=0;const i=ym(this.Ld,this.Ed,this.Ud),l=vm(this.Ld,this.Ed),o=[i],f=[l];if(r+=l,this.Nd!==null){const g=ym(this.Ed,this.Nd,this.Ud);if(Math.sign(g)===Math.sign(i)){const p=vm(this.Ed,this.Nd);if(o.push(g),f.push(p),r+=p,this.Fd!==null){const v=ym(this.Nd,this.Fd,this.Ud);if(Math.sign(v)===Math.sign(i)){const _=vm(this.Nd,this.Fd);o.push(v),f.push(_),r+=_}}}}let d=0;for(let g=0;g<o.length;++g)d+=f[g]/r*o[g];Math.abs(d)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=d,this.jd=function(g,p){const v=Math.log(p);return Math.log(1*v/-g)/v}(Math.abs(d),this.qd))}tc(e){const n=Tt(this.Wd),r=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,r)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-Tt(this.Wd).ot;return Math.min(n,this.jd)}}class Gz{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return dk(kf(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function Ao(t,e){const n=Tt(t.ownerDocument).createElement("canvas");t.appendChild(n);const r=iF(n,{options:{allowResizeObserver:!1},transform:(i,l)=>({width:Math.max(i.width,l.width),height:Math.max(i.height,l.height)})});return r.resizeCanvasElement(e),r}function Do(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function ax(t,e,n,r){t.gl&&t.gl(e,n,r)}function Od(t,e,n,r){t.X(e,n,r)}function lx(t,e,n,r){const i=t(n,r);for(const l of i){const o=l.gt();o!==null&&e(o)}}function qz(t){Ic&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class N1{constructor(e,n,r){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!xm(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const l=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(ya(i),this.cf);o<30&&!this.wf&&this.Wf(l,this.Hf.jf),this.$f()}}else{const l=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(ya(i),this.af);o<5&&!this.bf&&this.Uf(l,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=r,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=bm(e.changedTouches,Tt(this.Of));if(n===null||(this.Vf=pd(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const r=this.Ff(ya(n),Tt(this.pf)),{nv:i,sv:l,Nf:o}=r;if(this.mf||!(o<5)){if(!this.mf){const f=.5*i,d=l>=f&&!this.cn.ev(),g=f>l&&!this.cn.rv();d||g||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const f=this.Ef(e,n);this.Wf(f,this.Hf.hv),vc(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff(ya(e),Tt(this.vf)),{Nf:r}=n;if(r>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,n){const r=Math.abs(n.nt-e.nt),i=Math.abs(n.st-e.st);return{nv:r,sv:i,Nf:r+i}}ov(e){let n=bm(e.changedTouches,Tt(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=pd(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const r=this.Ef(e,n);if(this.Wf(r,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(ya(n),this.cf);i<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}else this.wf||(this.Wf(r,this.Hf.uv),this.Hf.uv&&vc(e));this._f===0&&vc(e),e.touches.length===0&&this.ff&&(this.ff=!1,vc(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),Q2()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:r}=this.Ff(ya(e),this.af);r<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=pd(e);const r=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=ya(n),this.yf&&(this.yf(),this.yf=null);{const l=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{r.removeEventListener("touchmove",l),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",l,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,n);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=ya(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;Q2()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=ya(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),l=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",l)},n.addEventListener("mousemove",i),n.addEventListener("mouseup",l)}if(this.Df=!0,this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=ya(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=r=>{this.Hf.wv&&(r.composed&&this.Zf.contains(r.composedPath()[0])||r.target&&this.Zf.contains(r.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}xm()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),qz(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=eS(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),vc(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=eS(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!xm()}vv(e){const n=bm(e.touches,Tt(this.Of));if(n===null)return;const r=this.Ef(e,n);this.Wf(r,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:pd(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const r=n||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:r.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&vc(e)}}}}function eS(t,e){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}function vc(t){t.cancelable&&t.preventDefault()}function ya(t){return{nt:t.pageX,st:t.pageY}}function pd(t){return t.timeStamp||performance.now()}function bm(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function md(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function Xz(t,e,n){for(const r of t){const i=r.gt();if(i!==null&&i.wr){const l=i.wr(e,n);if(l!==null)return{Bv:r,Iv:l}}}return null}function _m(t,e){return n=>{var r,i,l,o;return((i=(r=n.Dt())===null||r===void 0?void 0:r.Pa())!==null&&i!==void 0?i:"")!==e?[]:(o=(l=n.da)===null||l===void 0?void 0:l.call(n,t))!==null&&o!==void 0?o:[]}}function tS(t,e,n,r){if(!t.length)return;let i=0;const l=n/2,o=t[0].At(r,!0);let f=e===1?l-(t[0].Vi()-o/2):t[0].Vi()-o/2-l;f=Math.max(0,f);for(let d=1;d<t.length;d++){const g=t[d],p=t[d-1],v=p.At(r,!1),_=g.Vi(),b=p.Vi();if(e===1?_>b-v:_<b+v){const w=b-v*e;g.Oi(w);const S=w-e*v/2;if((e===1?S<0:S>n)&&f>0){const T=e===1?-1-S:S-n,A=Math.min(T,f);for(let j=i;j<t.length;j++)t[j].Oi(t[j].Vi()+e*A);f-=A}}else i=d,f=e===1?b-v-_:_-(b+v)}}class nS{constructor(e,n,r,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Of(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=r,this.qv=i==="left",this.Yv=_m("normal",i),this.Zv=_m("top",i),this.Xv=_m("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=Ao(this.Kv,Rr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const l=this.Gv.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Jv=Ao(this.Kv,Rr({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const f={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new N1(this.Jv.canvasElement,f,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Do(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Do(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),r=Tt(this.Gv.canvasElement.getContext("2d"));r.save();const i=this.Li.Ha();r.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(r,i[0].so),this.Fv.xi(r,i[i.length-1].so)));const l=this.up();for(let g=l.length;g--;){const p=this.Fv.xi(r,l[g].Kt());p>e&&(e=p)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(f=this.cn.crosshair).mode!==2&&f.horzLine.visible&&f.horzLine.labelVisible){const g=this.Li.pn(1,o),p=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(r,this.Li.Fi(Math.floor(Math.min(g,p))+.11111111111111,o)),this.Fv.xi(r,this.Li.Fi(Math.ceil(Math.max(g,p))-.11111111111111,o)))}var f;r.restore();const d=e||34;return sx(Math.ceil(n.C+n.T+n.A+n.I+5+d))}cp(e){this.Ev!==null&&wo(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return Tt(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,Tt(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const r=No(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(r,this.Xv),this.wp(r),this.tn.bp(r,this.Yv),this.gp(r))}this.Jv.applySuggestedBitmapSize();const n=No(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!0,n.V_(r,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp(),i=this.Li;n.O_(r,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),r=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,r))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!1,n.B_(r,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(r=>{for(let i=0;i<r.length;++i){const l=r[i].Rn(this.tn.fp(),n);for(let o=0;o<l.length;o++)e.push(l[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,l=this.tn.fp().$t(),o=l.q(),f=l.bd();o===f?D0(e,0,0,r,i,o):gk(e,0,0,r,i,o,f)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*r));let l;l=this.qv?n.width-i:0,e.fillRect(l,0,i,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),r=this.Li.W(),i=this.ap(),l=this.qv?this.Ev.width-i.T:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:f,verticalPixelRatio:d})=>{o.fillStyle=r.borderColor;const g=Math.max(1,Math.floor(d)),p=Math.floor(.5*d),v=Math.round(i.T*f);o.beginPath();for(const _ of n)o.rect(Math.floor(l*f),Math.round(_.Ea*d)-p,v,g);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var f;o.font=this._p(),o.fillStyle=(f=r.textColor)!==null&&f!==void 0?f:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const d=this.qv?Math.round(l-i.A):Math.round(l+i.T+i.A),g=n.map(p=>this.Fv.Mi(o,p.so));for(let p=n.length;p--;){const v=n[p];o.fillText(v.so,d,v.Ea+g[p])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),r=this.tn.fp(),i=this.ap();this.Li===r.pr()&&this.tn.fp().Uo().forEach(o=>{r.vr(o)&&n.push(o)});const l=this.Li;n.forEach(o=>{o.Rn(r,l).forEach(f=>{f.Oi(null),f.Bi()&&e.push(f)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,n){if(this.Ev===null)return;const r=this.Ev.height/2,i=e.filter(o=>o.ki()<=r),l=e.filter(o=>o.ki()>r);i.sort((o,f)=>f.ki()-o.ki()),l.sort((o,f)=>o.ki()-f.ki());for(const o of e){const f=Math.floor(o.At(n)/2),d=o.ki();d>-f&&d<f&&o.Oi(f),d>this.Ev.height-f&&d<this.Ev.height+f&&o.Oi(this.Ev.height-f)}tS(i,1,this.Ev.height,n),tS(l,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),r=this.ap(),i=this.qv?"right":"left";n.forEach(l=>{l.Ai()&&l.gt(Tt(this.Li)).X(e,r,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),r=[],i=this.tn.fp(),l=n.Zc().Rn(i,this.Li);l.length&&r.push(l);const o=this.ap(),f=this.qv?"right":"left";r.forEach(d=>{d.forEach(g=>{g.gt(Tt(this.Li)).X(e,o,this.Fv,f)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Lc(this.ko.fontSize,this.ko.fontFamily)}}function Jz(t,e){var n,r;return(r=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function xd(t,e){var n,r;return(r=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function Kz(t,e){var n,r;return(r=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function Zz(t,e){var n,r;return(r=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}class O1{constructor(e,n){this.Ev=Rr({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Qr,this.Op=new Qr,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(r),this.Gv=Ao(r,Rr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=Ao(r,Rr({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const l=this.Jv.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new N1(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Do(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Do(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return Tt(this.Np)}qp(e){var n,r;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(O1.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new Gz(this.Wp,this.Qd),this.Pp.bt()):((r=this.Pp)===null||r===void 0||r.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(Tt(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(Tt(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,r=e.localY;this.Gp(n,r,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const r=e.localX,i=e.localY;this.Gp(r,i,e);const l=this.wr(r,i);this.Qd.Qp((n=l==null?void 0:l.Lv)!==null&&n!==void 0?n:null),this.$i().jc(l&&{Hc:l.Hc,Iv:l.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const r=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,r)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,r=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=Tt(this.Lp),l=i.x+(n-this.Ip.x),o=i.y+(r-this.Ip.y);this.Gp(l,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const r=this.Np;return r===null?null:function(i,l,o){const f=i.Uo(),d=function(g,p,v){var _,b;let w,S;for(const j of g){const I=(b=(_=j.va)===null||_===void 0?void 0:_.call(j,p,v))!==null&&b!==void 0?b:[];for(const Z of I)T=Z.zOrder,(!(A=w==null?void 0:w.zOrder)||T==="top"&&A!=="top"||T==="normal"&&A==="bottom")&&(w=Z,S=j)}var T,A;return w&&S?{zv:w,Hc:S}:null}(f,l,o);if((d==null?void 0:d.zv.zOrder)==="top")return md(d);for(const g of f){if(d&&d.Hc===g&&d.zv.zOrder!=="bottom"&&!d.zv.isBackground)return md(d);const p=Xz(g.Pn(i),l,o);if(p!==null)return{Hc:g,Bv:p.Bv,Iv:p.Iv};if(d&&d.Hc===g&&d.zv.zOrder!=="bottom"&&d.zv.isBackground)return md(d)}return d!=null&&d.zv?md(d):null}(r,e,n)}_m(e,n){Tt(n==="left"?this.Cp:this.Tp).cp(Rr({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){wo(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=Tt(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const r=n.Dt();r!==null&&e.P_(r),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const r=No(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(r,Jz),this.vm(r),this.pm(r),this.fm(r,xd),this.fm(r,Kz)))}this.Jv.applySuggestedBitmapSize();const n=No(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.bm(n),this.fm(n,Zz))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const r=n.localX,i=n.localY;e.M()&&e.m(this.$i().St().Nu(r),{x:r,y:i},n)}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,l=this.$i(),o=l.q(),f=l.bd();o===f?D0(e,0,0,r,i,f):gk(e,0,0,r,i,o,f)}vm(e){const n=Tt(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,xd,ax,n),this.Mm(e,xd,Od,n)}bm(e){this.Mm(e,xd,Od,this.$i().Zc())}fm(e,n){const r=Tt(this.Np).Uo();for(const i of r)this.Mm(e,n,ax,i);for(const i of r)this.Mm(e,n,Od,i)}Mm(e,n,r,i){const l=Tt(this.Np),o=l.$t().Wc(),f=o!==null&&o.Hc===i,d=o!==null&&f&&o.Iv!==void 0?o.Iv.Mr:void 0;lx(n,g=>r(g,e,f,d),i,l)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,r=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),r||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();n&&this.Cp===null&&(this.Cp=new nS(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),r&&this.Tp===null&&(this.Tp=new nS(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,r){this.$i().ld(this.Sm(e),this.km(n),r,Tt(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,r){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,r);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),r=this.fp();if(n.z_(r,r.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const i=performance.now(),l=n.St();this.Ep.Vr(l.Hu(),i),this.Ep.Qu(i)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Tt(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),r=n.St();if(r.Ni())return;const i=this.Qd.W(),l=i.handleScroll,o=i.kineticScroll;if((!l.pressedMouseMove||e.Dv)&&(!l.horzTouchDrag&&!l.vertTouchDrag||!e.Dv))return;const f=this.Np.vn(),d=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:d,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const g=r.le();this.Ep=new Yz(.2/g,7/g,.997,15/g),this.Ep.Yd(r.Hu(),this.Rp.Od)}else this.Ep=null;f.Ni()||n.A_(this.Np,f,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(f.Ni()||n.I_(this.Np,f,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(r.Hu(),d))}}class rS{constructor(e,n,r,i,l){this.ft=!0,this.Ev=Rr({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=r.ud,this.cn=n,this.Tm=i,this.Pm=l,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=Ao(this.Kv,Rr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Do(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){wo(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=No(this.Gv);n!==null&&n.useBitmapCoordinateSpace(r=>{this.mp(r),this.Ie(r)})}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const l=Math.floor(this.Oc.W().C*r),o=Math.floor(this.Oc.W().C*i),f=this.qv?n.width-l:0;e.fillRect(f,0,l,o)}mp({context:e,bitmapSize:n}){D0(e,0,0,n.width,n.height,this.Pm())}}function A1(t){return e=>{var n,r;return(r=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:[]}}const Qz=A1("normal"),e7=A1("top"),t7=A1("bottom");class n7{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=Rr({width:0,height:0}),this.Om=new Qr,this.Fv=new Of(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=Ao(this.Im,Rr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=Ao(this.Im,Rr({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new N1(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Do(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Do(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,r){wo(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(Rr({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(Rr({width:r,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const r=No(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(r,t7)}),this.wp(r),this.$m(r,Qz)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=No(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,e7))}$m(e,n){const r=this.Qd.$t().wt();for(const i of r)lx(n,l=>ax(l,e,!1,void 0),i,void 0);for(const i of r)lx(n,l=>Od(l,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:n}){D0(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:r}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*r));e.fillRect(0,0,n.width,i)}}wp(e){const n=this.Qd.$t().St(),r=n.Ha();if(!r||r.length===0)return;const i=this.q_.maxTickMarkWeight(r),l=this.jm(),o=n.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:d,verticalPixelRatio:g})=>{f.strokeStyle=this.qm(),f.fillStyle=this.qm();const p=Math.max(1,Math.floor(d)),v=Math.floor(.5*d);f.beginPath();const _=Math.round(l.T*g);for(let b=r.length;b--;){const w=Math.round(r[b].coord*d);f.rect(w-v,0,p,_)}f.fill()}),e.useMediaCoordinateSpace(({context:f})=>{const d=l.C+l.T+l.L+l.P/2;f.textAlign="center",f.textBaseline="middle",f.fillStyle=this.$(),f.font=this._p();for(const g of r)if(g.weight<i){const p=g.needAlignCoordinate?this.Ym(f,g.coord,g.label):g.coord;f.fillText(g.label,p,d)}this.Qd.W().timeScale.allowBoldLabels&&(f.font=this.Zm());for(const g of r)if(g.weight>=i){const p=g.needAlignCoordinate?this.Ym(f,g.coord,g.label):g.coord;f.fillText(g.label,p,d)}})}Ym(e,n,r){const i=this.Fv.xi(e,r),l=i/2,o=Math.floor(n-l)+.5;return o<0?n+=Math.abs(0-o):o+i>this.Ev.width&&(n-=Math.abs(this.Ev.width-(o+i))),n}Um(e,n){const r=this.jm();for(const i of e)for(const l of i.Qi())l.gt().X(n,r)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Lc(this.j(),this.cn.fontFamily)}Zm(){return Lc(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Of,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const r=this.j();e.P=r,e.R=n,e.L=3*r/12,e.B=3*r/12,e.ji=9*r/12,e.N=0,e.Hm=4*r/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const r={ud:this.Qd.$t().ud()},i=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,l=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new rS("left",n,r,i,l),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new rS("right",n,r,i,l),this.Am.appendChild(this.Dm.lp()))}}const r7=!!Ic&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Ic&&(!((Sm=navigator==null?void 0:navigator.userAgentData)===null||Sm===void 0)&&Sm.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Sm;class i7{constructor(e,n,r){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Qr,this.Op=new Qr,this.Rc=new Qr,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=r,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),wm(this.cn)&&this.hb(!0),this.$i=new Hz(this.Vc.bind(this),this.cn,r),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new n7(this,this.q_),this.sb.appendChild(this.ab.lp());const l=n.autoSize&&this.ob();let o=this.cn.width,f=this.cn.height;if(l||o===0||f===0){const d=e.getBoundingClientRect();o=o||d.width,f=f||d.height}this._b(o,f),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],Tt(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,r=!1){if(this.ho===n&&this.__===e)return;const i=function(f){const d=Math.floor(f.width),g=Math.floor(f.height);return Rr({width:d-d%2,height:g-g%2})}(Rr({width:e,height:n}));this.ho=i.height,this.__=i.width;const l=this.ho+"px",o=this.__+"px";Tt(this.Xd).style.height=l,Tt(this.Xd).style.width=o,this.sb.style.height=l,this.sb.style.width=o,r?this.mb(Ni.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=Ni.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=wm(this.cn);this.$i.$h(e);const r=wm(this.cn);r!==n&&this.hb(r),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=Tt(n.getContext("2d"));return this.gb(r),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:Tt(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return Ji(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,r=0;const i=this.Xm[0],l=(f,d)=>{let g=0;for(let p=0;p<this.Xm.length;p++){const v=this.Xm[p],_=Tt(f==="left"?v.wm():v.gm()),b=_.xp();e!==null&&_.Sp(e,d,g),g+=b.height}};this.xb()&&(l("left",0),n+=Tt(i.wm()).xp().width);for(let f=0;f<this.Xm.length;f++){const d=this.Xm[f],g=d.xp();e!==null&&d.Sp(e,n,r),r+=g.height}n+=i.xp().width,this.Sb()&&(l("right",n),n+=Tt(i.gm()).xp().width);const o=(f,d,g)=>{Tt(f==="left"?this.ab.Lm():this.ab.Em()).Sp(Tt(e),d,g)};if(this.cn.timeScale.visible){const f=this.ab.xp();if(e!==null){let d=0;this.xb()&&(o("left",d,r),d=Tt(i.wm()).xp().width),this.ab.Sp(e,d,r),d+=f.width,this.Sb()&&o("right",d,r)}r+=f.height}return Rr({width:n,height:r})}Pb(){let e=0,n=0,r=0;for(const w of this.Xm)this.xb()&&(n=Math.max(n,Tt(w.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(r=Math.max(r,Tt(w.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=w.M_();n=sx(n),r=sx(r);const i=this.__,l=this.ho,o=Math.max(i-n-r,0),f=this.cn.timeScale.visible;let d=f?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var g;d=(g=d)+g%2;const p=0+d,v=l<p?0:l-p,_=v/e;let b=0;for(let w=0;w<this.Xm.length;++w){const S=this.Xm[w];S.qp(this.$i.qc()[w]);let T=0,A=0;A=w===this.Xm.length-1?v-b:Math.round(S.M_()*_),T=Math.max(A,2),b+=T,S.cp(Rr({width:o,height:T})),this.xb()&&S._m(n,"left"),this.Sb()&&S._m(r,"right"),S.fp()&&this.$i.Kc(S.fp(),T)}this.ab.Fm(Rr({width:f?o:0,height:d}),f?n:0,f?r:0),this.$i.S_(o),this.Gm!==n&&(this.Gm=n),this.Jm!==r&&(this.Jm=r)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return r7?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),r=n*e.deltaX/100,i=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const l=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,l)}r!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*r)}mb(e,n){var r;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(l=>{l.Xp()}),((r=this.Qm)===null||r===void 0?void 0:r.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const r of e.Qn())this.ns(r,n)}Vb(e){const n=this.$i.qc();for(let r=0;r<n.length;r++)e.Hn(r).Wn&&n[r].N_()}ns(e,n){const r=this.$i.St();switch(e.qn){case 0:r.hc();break;case 1:r.lc(e.Vt);break;case 2:r.Gn(e.Vt);break;case 3:r.Jn(e.Vt);break;case 4:r.qu();break;case 5:e.Vt.Qu(n)||r.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const r=this.Qm;this.Qm=null,this.mb(r,n);for(const i of r.Qn())if(i.qn===5&&!i.Vt.Qu(n)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,r=this.Xm.length;for(let i=n;i<r;i++){const l=Ji(this.Xm.pop());this.sb.removeChild(l.lp()),l.lm().p(this),l.am().p(this),l.S()}for(let i=r;i<n;i++){const l=new O1(this,e[i]);l.lm().l(this.Bb.bind(this),this),l.am().l(this.Ab.bind(this),this),this.Xm.push(l),this.sb.insertBefore(l.lp(),this.ab.lp())}for(let i=0;i<n;i++){const l=e[i],o=this.Xm[i];o.fp()!==l?o.qp(l):o.Up()}this.cb(),this.Pb()}Ib(e,n,r){var i;const l=new Map;e!==null&&this.$i.wt().forEach(p=>{const v=p.In().ll(e);v!==null&&l.set(p,v)});let o;if(e!==null){const p=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;p!==void 0&&(o=p)}const f=this.$t().Wc(),d=f!==null&&f.Hc instanceof k1?f.Hc:void 0,g=f!==null&&f.Iv!==void 0?f.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:n??void 0,Eb:d,Nb:l,Fb:g,Wb:r??void 0}}Bb(e,n,r){this.Vp.m(()=>this.Ib(e,n,r))}Ab(e,n,r){this.Op.m(()=>this.Ib(e,n,r))}lb(e,n,r){this.Rc.m(()=>this.Ib(e,n,r))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(r=>r.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function wm(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function s7(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Rk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function iS(t,e,n,r){const i=n.value,l={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.color!==void 0&&(l.V=n.color),l}function a7(t,e,n,r){const i=n.value,l={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.lineColor!==void 0&&(l.lt=n.lineColor),n.topColor!==void 0&&(l.Ps=n.topColor),n.bottomColor!==void 0&&(l.Rs=n.bottomColor),l}function l7(t,e,n,r){const i=n.value,l={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.topLineColor!==void 0&&(l.Re=n.topLineColor),n.bottomLineColor!==void 0&&(l.De=n.bottomLineColor),n.topFillColor1!==void 0&&(l.ke=n.topFillColor1),n.topFillColor2!==void 0&&(l.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(l.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(l.Te=n.bottomFillColor2),l}function o7(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),i}function c7(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),n.borderColor!==void 0&&(i.Ot=n.borderColor),n.wickColor!==void 0&&(i.Xh=n.wickColor),i}function u7(t,e,n,r,i){const l=Ji(i)(n),o=Math.max(...l),f=Math.min(...l),d=l[l.length-1],g=[d,o,f,d],p=n,{time:v,color:_}=p;return{ee:e,ot:t,Vt:g,zb:r,$e:Rk(p,["time","color"]),V:_}}function vd(t){return t.Vt!==void 0}function sS(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function xo(t){return(e,n,r,i,l,o)=>function(f,d){return d?d(f):(g=f).open===void 0&&g.value===void 0;var g}(r,o)?sS({ot:e,ee:n,zb:i},r):sS(t(e,n,r,i,l),r)}function aS(t){return{Candlestick:xo(c7),Bar:xo(o7),Area:xo(a7),Baseline:xo(l7),Histogram:xo(iS),Line:xo(iS),Custom:xo(u7)}[t]}function lS(t){return{ee:0,Hb:new Map,la:t}}function oS(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function cS(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),Ji(e)}class f7{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let r=this.qb.size!==0,i=!1;const l=this.Yb.get(e);if(l!==void 0)if(this.Yb.size===1)r=!1,i=!0,this.qb.clear();else for(const d of this.Xb)d.pointData.Hb.delete(e)&&(i=!0);let o=[];if(n.length!==0){const d=n.map(b=>b.time),g=this.q_.createConverterToInternalObj(n),p=aS(e.Qh()),v=e.Ca(),_=e.Ta();o=n.map((b,w)=>{const S=g(b.time),T=this.q_.key(S);let A=this.qb.get(T);A===void 0&&(A=lS(S),this.qb.set(T,A),i=!0);const j=p(S,A.ee,b,d[w],v,_);return A.Hb.set(e,j),j})}r&&this.Gb(),this.Jb(e,o);let f=-1;if(i){const d=[];this.qb.forEach(g=>{d.push({timeWeight:0,time:g.la,pointData:g,originalTime:cS(g.Hb)})}),d.sort((g,p)=>this.q_.key(g.time)-this.q_.key(p.time)),f=this.Qb(d)}return this.tw(e,f,function(d,g,p){const v=oS(d,p),_=oS(g,p);if(v!==void 0&&_!==void 0)return{ta:v.Ub>=_.Ub&&v.$b>=_.$b}}(this.Yb.get(e),l,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const r=n;(function(S){S.zb===void 0&&(S.zb=S.time)})(r),this.q_.preprocessData(n);const i=this.q_.createConverterToInternalObj([n])(n.time),l=this.Zb.get(e);if(l!==void 0&&this.q_.key(i)<this.q_.key(l))throw new Error(`Cannot update oldest data, last time=${l}, new time=${i}`);let o=this.qb.get(this.q_.key(i));const f=o===void 0;o===void 0&&(o=lS(i),this.qb.set(this.q_.key(i),o));const d=aS(e.Qh()),g=e.Ca(),p=e.Ta(),v=d(i,o.ee,n,r.zb,g,p);o.Hb.set(e,v),this.nw(e,v);const _={ta:vd(v)};if(!f)return this.tw(e,-1,_);const b={timeWeight:0,time:o.la,pointData:o,originalTime:cS(o.Hb)},w=Gf(this.Xb,this.q_.key(b.time),(S,T)=>this.q_.key(S.time)<T);this.Xb.splice(w,0,b);for(let S=w;S<this.Xb.length;++S)Em(this.Xb[S].pointData,S);return this.q_.fillWeightsForPoints(this.Xb,w),this.tw(e,w,_)}nw(e,n){let r=this.Yb.get(e);r===void 0&&(r=[],this.Yb.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.q_.key(n.ot)>this.q_.key(i.ot)?vd(n)&&r.push(n):vd(n)?r[r.length-1]=n:r.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(vd)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let r=0;r<this.Xb.length&&r<e.length;++r){const i=this.Xb[r],l=e[r];if(this.q_.key(i.time)!==this.q_.key(l.time)){n=r;break}l.timeWeight=i.timeWeight,Em(l.pointData,r)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let r=n;r<e.length;++r)Em(e[r].pointData,r);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,r){const i={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((l,o)=>{i.ew.set(o,{$e:l,rw:o===e?r:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:r}),i.St.hw=this.Xb,i.St.lw=n;else{const l=this.Yb.get(e);i.ew.set(e,{$e:l||[],rw:r})}return i}}function Em(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function D1(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function uS(t){const e=D1(t);return t.V!==void 0&&(e.color=t.V),e}function h7(t){const e=D1(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function d7(t){const e=D1(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function jk(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function g7(t){const e=jk(t);return t.V!==void 0&&(e.color=t.V),e}function p7(t){const e=jk(t),{V:n,Ot:r,Xh:i}=t;return n!==void 0&&(e.color=n),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function ox(t){return{Area:h7,Line:uS,Baseline:d7,Histogram:uS,Bar:g7,Candlestick:p7,Custom:m7}[t]}function m7(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const x7={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},v7={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},y7={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:b1,attributionLogo:!0},Tm={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},b7={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},_7={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:b1,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function fS(){return{width:0,height:0,autoSize:!1,layout:y7,crosshair:x7,grid:v7,overlayPriceScales:Object.assign({},Tm),leftPriceScale:Object.assign(Object.assign({},Tm),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Tm),{visible:!0}),timeScale:b7,watermark:_7,localization:{locale:Ic?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class S7{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return R0(this.ow)?this.aw.Mb(this.ow):0}Li(){return Tt(this.aw.$t().Uc(this.ow)).Dt}}function hS(t,e,n){const r=Rk(t,["time","originalTime"]),i=Object.assign({time:e},r);return n!==void 0&&(i.originalTime=n),i}const w7={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class E7{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class T7{constructor(e,n,r,i,l){this.uw=new Qr,this.Es=e,this.cw=n,this.dw=r,this.q_=l,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new Rc(new hf(e.from,e.to)).lu(),r=this.Es.In();if(r.Ni())return null;const i=r.ll(n.Os(),1),l=r.ll(n.ui(),-1),o=Tt(r.el()),f=Tt(r.An());if(i!==null&&l!==null&&i.ee>l.ee)return{barsBefore:e.from-o,barsAfter:f-e.to};const d={barsBefore:i===null||i.ee===o?e.from-o:i.ee-o,barsAfter:l===null||l.ee===f?f-e.to:f-l.ee};return i!==null&&l!==null&&(d.from=i.zb,d.to=l.zb),d}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const r=this.Es.In().ll(e,n);return r===null?null:ox(this.seriesType())(r)}data(){const e=ox(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(r=>hS(r,this.q_.convertHorzItemToInternal(r.time),r.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>hS(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return Qa(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=ca(Qa(w7),e),r=this.Es.ea(n);return new E7(r)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class k7{constructor(e,n,r){this.ww=new Qr,this.mu=new Qr,this.Om=new Qr,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=r}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},r=this.yl.Iu(n);this.$i.pd(r)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){Xl(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),r=this.yl.Va(n,!1);return r===null?null:this.yl.It(r)}coordinateToTime(e){const n=this.$i.St(),r=n.Nu(e),i=n.Ui(r);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},Qa(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function C7(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let r=0;for(;r<8;r++){const i=Math.round(n);if(Math.abs(i-n)<1e-8)return r;n*=10}return r}(e.minMove))}function dS(t){return function(e){if(cd(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;cd(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),cd(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const n=e.handleScroll;cd(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class N7{constructor(e,n,r){this.Sw=new Map,this.kw=new Map,this.yw=new Qr,this.Cw=new Qr,this.Tw=new Qr,this.Pw=new f7(n);const i=r===void 0?Qa(fS()):ca(Qa(fS()),dS(r));this.q_=n,this.aw=new i7(e,i,n),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const l=this.aw.$t();this.Dw=new k7(l,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,r){this.autoSizeActive()||this.aw._b(e,n,r)}addCustomSeries(e,n){const r=Ec(e),i=Object.assign(Object.assign({},ck),r.defaultOptions());return this.Vw("Custom",i,n,r)}addAreaSeries(e){return this.Vw("Area",fF,e)}addBaselineSeries(e){return this.Vw("Baseline",hF,e)}addBarSeries(e){return this.Vw("Bar",cF,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",oF,e)}addHistogramSeries(e){return this.Vw("Histogram",dF,e)}addLineSeries(e){return this.Vw("Line",uF,e)}removeSeries(e){const n=Ji(this.Sw.get(e)),r=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(r),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new S7(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(dS(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,r){const i=this.Sw.get(r);if(i===void 0)return;const l=this.aw.$t().dr(i);l!==null&&this.aw.$t().ad(e,n,l)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,r={},i){C7(r.priceFormat);const l=ca(Qa(uk),Qa(n),r),o=this.aw.$t().dd(e,l,i),f=new T7(o,this,this,this,this.q_);return this.Sw.set(f,o),this.kw.set(o,f),f}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((r,i)=>i.J(r.$e,r.rw)),n.Wu()}Bw(e){return Ji(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((i,l)=>{const o=l.Qh(),f=ox(o)(i);if(o!=="Custom")Xl(s7(f));else{const d=l.Ta();Xl(!d||d(f)===!1)}n.set(this.Bw(l),f)});const r=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:r,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function O7(t,e,n){let r;if(Yf(t)){const l=document.getElementById(t);Xl(l!==null,`Cannot find element in DOM with id=${t}`),r=l}else r=t;const i=new N7(r,e,n);return e.setOptions(i.options()),i}function A7(t,e){return O7(t,new Z2,Z2.Id(e))}Object.assign(Object.assign({},uk),ck);class gS{constructor(e,n,r){this.next=r,r&&(r.prev=this),this.prev=n,n&&(n.next=this),this.data=e}}class D7{constructor(){this._length=0}get head(){return this._head&&this._head.data}get tail(){return this._tail&&this._tail.data}get current(){return this._current&&this._current.data}get length(){return this._length}push(e){this._tail=new gS(e,this._tail),this._length===0&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}pop(){var e=this._tail;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}shift(){var e=this._head;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}unshift(e){this._head=new gS(e,void 0,this._head),this._length===0&&(this._tail=this._head,this._next=this._head),this._length++}unshiftCurrent(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}removeCurrent(){var e=this._current;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}resetCursor(){return this._current=this._next=this._head,this}next(){var e=this._next;if(e!==void 0)return this._next=e.next,this._current=e,e.data}}let M7={};function R7(t){return M7[t]}function j7(t){let e=R7("precision");return e?parseFloat(t.toPrecision(e)):t}class wi{constructor(e){this.format=e.format||j7}static reverseInputs(e){e.reversedInput&&(e.values&&e.values.reverse(),e.open&&e.open.reverse(),e.high&&e.high.reverse(),e.low&&e.low.reverse(),e.close&&e.close.reverse(),e.volume&&e.volume.reverse(),e.timestamp&&e.timestamp.reverse())}getResult(){return this.result}}class Df extends wi{constructor(e){super(e),this.period=e.period,this.price=e.values;var n=function*(r){var i=new D7,l=0,o=1,f=yield,d;for(i.push(0);;)o<r?(o++,i.push(f),l=l+f):(l=l-i.shift()+f,d=l/r,i.push(f)),f=yield d};this.generator=n(this.period),this.generator.next(),this.result=[],this.price.forEach(r=>{var i=this.generator.next(r);i.value!==void 0&&this.result.push(this.format(i.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}Df.calculate=L7;function L7(t){wi.reverseInputs(t);var e=new Df(t).result;return t.reversedInput&&e.reverse(),wi.reverseInputs(t),e}class i0 extends wi{constructor(e){super(e);var n=e.period,r=e.values,i=2/(n+1),l;this.result=[],l=new Df({period:n,values:[]});var o=function*(){for(var f=yield,d;;)d!==void 0&&f!==void 0?(d=(f-d)*i+d,f=yield d):(f=yield,d=l.nextValue(f),d&&(f=yield d))};this.generator=o(),this.generator.next(),this.generator.next(),r.forEach(f=>{var d=this.generator.next(f);d.value!=null&&this.result.push(this.format(d.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}i0.calculate=I7;function I7(t){wi.reverseInputs(t);var e=new i0(t).result;return t.reversedInput&&e.reverse(),wi.reverseInputs(t),e}class M1 extends wi{constructor(e){super(e);var n=e.SimpleMAOscillator?Df:i0,r=e.SimpleMASignal?Df:i0,i=new n({period:e.fastPeriod,values:[],format:d=>d}),l=new n({period:e.slowPeriod,values:[],format:d=>d}),o=new r({period:e.signalPeriod,values:[],format:d=>d}),f=this.format;this.result=[],this.generator=function*(){for(var d=0,g,p,v,_,b,w;;){if(d<e.slowPeriod){g=yield,b=i.nextValue(g),w=l.nextValue(g),d++;continue}b&&w&&(p=b-w,v=o.nextValue(p)),_=p-v,g=yield{MACD:f(p),signal:v?f(v):void 0,histogram:isNaN(_)?void 0:f(_)},b=i.nextValue(g),w=l.nextValue(g)}}(),this.generator.next(),e.values.forEach(d=>{var g=this.generator.next(d);g.value!=null&&this.result.push(g.value)})}nextValue(e){var n=this.generator.next(e).value;return n}}M1.calculate=P7;function P7(t){wi.reverseInputs(t);var e=new M1(t).result;return t.reversedInput&&e.reverse(),wi.reverseInputs(t),e}class R1 extends wi{constructor(e){super(e);let n=e.values,r=e.period,i=this.format;this.generator=function*(l){var o=yield,f=1,d=0,g,p,v=o;for(o=yield;;)p=o-v,p=p>0?p:0,p>0&&(d=d+p),f<l?f++:g===void 0?g=d/l:g=(g*(l-1)+p)/l,v=o,g=g!==void 0?i(g):void 0,o=yield g}(r),this.generator.next(),this.result=[],n.forEach(l=>{var o=this.generator.next(l);o.value!==void 0&&this.result.push(o.value)})}nextValue(e){return this.generator.next(e).value}}R1.calculate=F7;function F7(t){wi.reverseInputs(t);var e=new R1(t).result;return t.reversedInput&&e.reverse(),wi.reverseInputs(t),e}class j1 extends wi{constructor(e){super(e);let n=e.values,r=e.period,i=this.format;this.generator=function*(l){var o=yield,f=1,d=0,g,p,v=o;for(o=yield;;)p=v-o,p=p>0?p:0,p>0&&(d=d+p),f<l?f++:g===void 0?g=d/l:g=(g*(l-1)+p)/l,v=o,g=g!==void 0?i(g):void 0,o=yield g}(r),this.generator.next(),this.result=[],n.forEach(l=>{var o=this.generator.next(l);o.value!==void 0&&this.result.push(o.value)})}nextValue(e){return this.generator.next(e).value}}j1.calculate=z7;function z7(t){wi.reverseInputs(t);var e=new j1(t).result;return t.reversedInput&&e.reverse(),wi.reverseInputs(t),e}class L1 extends wi{constructor(e){super(e);var n=e.period,r=e.values,i=new R1({period:n,values:[]}),l=new j1({period:n,values:[]});this.generator=function*(o){for(var f=yield,d,g,p,v;;)d=i.nextValue(f),g=l.nextValue(f),d!==void 0&&g!==void 0&&(g===0?v=100:d===0?v=0:(p=d/g,p=isNaN(p)?0:p,v=parseFloat((100-100/(1+p)).toFixed(2)))),f=yield v}(),this.generator.next(),this.result=[],r.forEach(o=>{var f=this.generator.next(o);f.value!==void 0&&this.result.push(f.value)})}nextValue(e){return this.generator.next(e).value}}L1.calculate=B7;function B7(t){wi.reverseInputs(t);var e=new L1(t).result;return t.reversedInput&&e.reverse(),wi.reverseInputs(t),e}function Lk(t,e){return function(){return t.apply(e,arguments)}}const{toString:H7}=Object.prototype,{getPrototypeOf:I1}=Object,{iterator:I0,toStringTag:Ik}=Symbol,P0=(t=>e=>{const n=H7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ha=t=>(t=t.toLowerCase(),e=>P0(e)===t),F0=t=>e=>typeof e===t,{isArray:Gc}=Array,Mf=F0("undefined");function U7(t){return t!==null&&!Mf(t)&&t.constructor!==null&&!Mf(t.constructor)&&ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Pk=ha("ArrayBuffer");function $7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Pk(t.buffer),e}const W7=F0("string"),ss=F0("function"),Fk=F0("number"),z0=t=>t!==null&&typeof t=="object",V7=t=>t===!0||t===!1,Ad=t=>{if(P0(t)!=="object")return!1;const e=I1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ik in t)&&!(I0 in t)},Y7=ha("Date"),G7=ha("File"),q7=ha("Blob"),X7=ha("FileList"),J7=t=>z0(t)&&ss(t.pipe),K7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ss(t.append)&&((e=P0(t))==="formdata"||e==="object"&&ss(t.toString)&&t.toString()==="[object FormData]"))},Z7=ha("URLSearchParams"),[Q7,eB,tB,nB]=["ReadableStream","Request","Response","Headers"].map(ha),rB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Gc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),o=l.length;let f;for(r=0;r<o;r++)f=l[r],e.call(null,t[f],f,t)}}function zk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bk=t=>!Mf(t)&&t!==bo;function cx(){const{caseless:t}=Bk(this)&&this||{},e={},n=(r,i)=>{const l=t&&zk(e,i)||i;Ad(e[l])&&Ad(r)?e[l]=cx(e[l],r):Ad(r)?e[l]=cx({},r):Gc(r)?e[l]=r.slice():e[l]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qf(arguments[r],n);return e}const iB=(t,e,n,{allOwnKeys:r}={})=>(qf(e,(i,l)=>{n&&ss(i)?t[l]=Lk(i,n):t[l]=i},{allOwnKeys:r}),t),sB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lB=(t,e,n,r)=>{let i,l,o;const f={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)o=i[l],(!r||r(o,t,e))&&!f[o]&&(e[o]=t[o],f[o]=!0);t=n!==!1&&I1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},cB=t=>{if(!t)return null;if(Gc(t))return t;let e=t.length;if(!Fk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},uB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&I1(Uint8Array)),fB=(t,e)=>{const r=(t&&t[I0]).call(t);let i;for(;(i=r.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},hB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},dB=ha("HTMLFormElement"),gB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),pS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),pB=ha("RegExp"),Hk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qf(n,(i,l)=>{let o;(o=e(i,l,t))!==!1&&(r[l]=o||i)}),Object.defineProperties(t,r)},mB=t=>{Hk(t,(e,n)=>{if(ss(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ss(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xB=(t,e)=>{const n={},r=i=>{i.forEach(l=>{n[l]=!0})};return Gc(t)?r(t):r(String(t).split(e)),n},vB=()=>{},yB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function bB(t){return!!(t&&ss(t.append)&&t[Ik]==="FormData"&&t[I0])}const _B=t=>{const e=new Array(10),n=(r,i)=>{if(z0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const l=Gc(r)?[]:{};return qf(r,(o,f)=>{const d=n(o,i+1);!Mf(d)&&(l[f]=d)}),e[i]=void 0,l}}return r};return n(t,0)},SB=ha("AsyncFunction"),wB=t=>t&&(z0(t)||ss(t))&&ss(t.then)&&ss(t.catch),Uk=((t,e)=>t?setImmediate:e?((n,r)=>(bo.addEventListener("message",({source:i,data:l})=>{i===bo&&l===n&&r.length&&r.shift()()},!1),i=>{r.push(i),bo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ss(bo.postMessage)),EB=typeof queueMicrotask<"u"?queueMicrotask.bind(bo):typeof process<"u"&&process.nextTick||Uk,TB=t=>t!=null&&ss(t[I0]),$e={isArray:Gc,isArrayBuffer:Pk,isBuffer:U7,isFormData:K7,isArrayBufferView:$7,isString:W7,isNumber:Fk,isBoolean:V7,isObject:z0,isPlainObject:Ad,isReadableStream:Q7,isRequest:eB,isResponse:tB,isHeaders:nB,isUndefined:Mf,isDate:Y7,isFile:G7,isBlob:q7,isRegExp:pB,isFunction:ss,isStream:J7,isURLSearchParams:Z7,isTypedArray:uB,isFileList:X7,forEach:qf,merge:cx,extend:iB,trim:rB,stripBOM:sB,inherits:aB,toFlatObject:lB,kindOf:P0,kindOfTest:ha,endsWith:oB,toArray:cB,forEachEntry:fB,matchAll:hB,isHTMLForm:dB,hasOwnProperty:pS,hasOwnProp:pS,reduceDescriptors:Hk,freezeMethods:mB,toObjectSet:xB,toCamelCase:gB,noop:vB,toFiniteNumber:yB,findKey:zk,global:bo,isContextDefined:Bk,isSpecCompliantForm:bB,toJSONObject:_B,isAsyncFn:SB,isThenable:wB,setImmediate:Uk,asap:EB,isIterable:TB};function Rn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}$e.inherits(Rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const $k=Rn.prototype,Wk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Wk[t]={value:t}});Object.defineProperties(Rn,Wk);Object.defineProperty($k,"isAxiosError",{value:!0});Rn.from=(t,e,n,r,i,l)=>{const o=Object.create($k);return $e.toFlatObject(t,o,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),Rn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,l&&Object.assign(o,l),o};const kB=null;function ux(t){return $e.isPlainObject(t)||$e.isArray(t)}function Vk(t){return $e.endsWith(t,"[]")?t.slice(0,-2):t}function mS(t,e,n){return t?t.concat(e).map(function(i,l){return i=Vk(i),!n&&l?"["+i+"]":i}).join(n?".":""):e}function CB(t){return $e.isArray(t)&&!t.some(ux)}const NB=$e.toFlatObject($e,{},null,function(e){return/^is[A-Z]/.test(e)});function B0(t,e,n){if(!$e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,T){return!$e.isUndefined(T[S])});const r=n.metaTokens,i=n.visitor||p,l=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(e);if(!$e.isFunction(i))throw new TypeError("visitor must be a function");function g(w){if(w===null)return"";if($e.isDate(w))return w.toISOString();if($e.isBoolean(w))return w.toString();if(!d&&$e.isBlob(w))throw new Rn("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(w)||$e.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,S,T){let A=w;if(w&&!T&&typeof w=="object"){if($e.endsWith(S,"{}"))S=r?S:S.slice(0,-2),w=JSON.stringify(w);else if($e.isArray(w)&&CB(w)||($e.isFileList(w)||$e.endsWith(S,"[]"))&&(A=$e.toArray(w)))return S=Vk(S),A.forEach(function(I,Z){!($e.isUndefined(I)||I===null)&&e.append(o===!0?mS([S],Z,l):o===null?S:S+"[]",g(I))}),!1}return ux(w)?!0:(e.append(mS(T,S,l),g(w)),!1)}const v=[],_=Object.assign(NB,{defaultVisitor:p,convertValue:g,isVisitable:ux});function b(w,S){if(!$e.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(w),$e.forEach(w,function(A,j){(!($e.isUndefined(A)||A===null)&&i.call(e,A,$e.isString(j)?j.trim():j,S,_))===!0&&b(A,S?S.concat(j):[j])}),v.pop()}}if(!$e.isObject(t))throw new TypeError("data must be an object");return b(t),e}function xS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function P1(t,e){this._pairs=[],t&&B0(t,this,e)}const Yk=P1.prototype;Yk.append=function(e,n){this._pairs.push([e,n])};Yk.toString=function(e){const n=e?function(r){return e.call(this,r,xS)}:xS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function OB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gk(t,e,n){if(!e)return t;const r=n&&n.encode||OB;$e.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let l;if(i?l=i(e,n):l=$e.isURLSearchParams(e)?e.toString():new P1(e,n).toString(r),l){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class vS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$e.forEach(this.handlers,function(r){r!==null&&e(r)})}}const qk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AB=typeof URLSearchParams<"u"?URLSearchParams:P1,DB=typeof FormData<"u"?FormData:null,MB=typeof Blob<"u"?Blob:null,RB={isBrowser:!0,classes:{URLSearchParams:AB,FormData:DB,Blob:MB},protocols:["http","https","file","blob","url","data"]},F1=typeof window<"u"&&typeof document<"u",fx=typeof navigator=="object"&&navigator||void 0,jB=F1&&(!fx||["ReactNative","NativeScript","NS"].indexOf(fx.product)<0),LB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IB=F1&&window.location.href||"http://localhost",PB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:F1,hasStandardBrowserEnv:jB,hasStandardBrowserWebWorkerEnv:LB,navigator:fx,origin:IB},Symbol.toStringTag,{value:"Module"})),zi={...PB,...RB};function FB(t,e){return B0(t,new zi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,l){return zi.isNode&&$e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function zB(t){return $e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BB(t){const e={},n=Object.keys(t);let r;const i=n.length;let l;for(r=0;r<i;r++)l=n[r],e[l]=t[l];return e}function Xk(t){function e(n,r,i,l){let o=n[l++];if(o==="__proto__")return!0;const f=Number.isFinite(+o),d=l>=n.length;return o=!o&&$e.isArray(i)?i.length:o,d?($e.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!f):((!i[o]||!$e.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],l)&&$e.isArray(i[o])&&(i[o]=BB(i[o])),!f)}if($e.isFormData(t)&&$e.isFunction(t.entries)){const n={};return $e.forEachEntry(t,(r,i)=>{e(zB(r),i,n,0)}),n}return null}function HB(t,e,n){if($e.isString(t))try{return(e||JSON.parse)(t),$e.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xf={transitional:qk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,l=$e.isObject(e);if(l&&$e.isHTMLForm(e)&&(e=new FormData(e)),$e.isFormData(e))return i?JSON.stringify(Xk(e)):e;if($e.isArrayBuffer(e)||$e.isBuffer(e)||$e.isStream(e)||$e.isFile(e)||$e.isBlob(e)||$e.isReadableStream(e))return e;if($e.isArrayBufferView(e))return e.buffer;if($e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return FB(e,this.formSerializer).toString();if((f=$e.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return B0(f?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),HB(e)):e}],transformResponse:[function(e){const n=this.transitional||Xf.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if($e.isResponse(e)||$e.isReadableStream(e))return e;if(e&&$e.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(f){if(o)throw f.name==="SyntaxError"?Rn.from(f,Rn.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zi.classes.FormData,Blob:zi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],t=>{Xf.headers[t]={}});const UB=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$B=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&UB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},yS=Symbol("internals");function $u(t){return t&&String(t).trim().toLowerCase()}function Dd(t){return t===!1||t==null?t:$e.isArray(t)?t.map(Dd):String(t)}function WB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const VB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function km(t,e,n,r,i){if($e.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!$e.isString(e)){if($e.isString(r))return e.indexOf(r)!==-1;if($e.isRegExp(r))return r.test(e)}}function YB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function GB(t,e){const n=$e.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,l,o){return this[r].call(this,e,i,l,o)},configurable:!0})})}let as=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function l(f,d,g){const p=$u(d);if(!p)throw new Error("header name must be a non-empty string");const v=$e.findKey(i,p);(!v||i[v]===void 0||g===!0||g===void 0&&i[v]!==!1)&&(i[v||d]=Dd(f))}const o=(f,d)=>$e.forEach(f,(g,p)=>l(g,p,d));if($e.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if($e.isString(e)&&(e=e.trim())&&!VB(e))o($B(e),n);else if($e.isObject(e)&&$e.isIterable(e)){let f={},d,g;for(const p of e){if(!$e.isArray(p))throw TypeError("Object iterator must return a key-value pair");f[g=p[0]]=(d=f[g])?$e.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}o(f,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=$u(e),e){const r=$e.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return WB(i);if($e.isFunction(n))return n.call(this,i,r);if($e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$u(e),e){const r=$e.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||km(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function l(o){if(o=$u(o),o){const f=$e.findKey(r,o);f&&(!n||km(r,r[f],f,n))&&(delete r[f],i=!0)}}return $e.isArray(e)?e.forEach(l):l(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const l=n[r];(!e||km(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const n=this,r={};return $e.forEach(this,(i,l)=>{const o=$e.findKey(r,l);if(o){n[o]=Dd(i),delete n[l];return}const f=e?YB(l):String(l).trim();f!==l&&delete n[l],n[f]=Dd(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&$e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[yS]=this[yS]={accessors:{}}).accessors,i=this.prototype;function l(o){const f=$u(o);r[f]||(GB(i,o),r[f]=!0)}return $e.isArray(e)?e.forEach(l):l(e),this}};as.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(as.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});$e.freezeMethods(as);function Cm(t,e){const n=this||Xf,r=e||n,i=as.from(r.headers);let l=r.data;return $e.forEach(t,function(f){l=f.call(n,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function Jk(t){return!!(t&&t.__CANCEL__)}function qc(t,e,n){Rn.call(this,t??"canceled",Rn.ERR_CANCELED,e,n),this.name="CanceledError"}$e.inherits(qc,Rn,{__CANCEL__:!0});function Kk(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Rn("Request failed with status code "+n.status,[Rn.ERR_BAD_REQUEST,Rn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function XB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,l=0,o;return e=e!==void 0?e:1e3,function(d){const g=Date.now(),p=r[l];o||(o=g),n[i]=d,r[i]=g;let v=l,_=0;for(;v!==i;)_+=n[v++],v=v%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),g-o<e)return;const b=p&&g-p;return b?Math.round(_*1e3/b):void 0}}function JB(t,e){let n=0,r=1e3/e,i,l;const o=(g,p=Date.now())=>{n=p,i=null,l&&(clearTimeout(l),l=null),t.apply(null,g)};return[(...g)=>{const p=Date.now(),v=p-n;v>=r?o(g,p):(i=g,l||(l=setTimeout(()=>{l=null,o(i)},r-v)))},()=>i&&o(i)]}const s0=(t,e,n=3)=>{let r=0;const i=XB(50,250);return JB(l=>{const o=l.loaded,f=l.lengthComputable?l.total:void 0,d=o-r,g=i(d),p=o<=f;r=o;const v={loaded:o,total:f,progress:f?o/f:void 0,bytes:d,rate:g||void 0,estimated:g&&f&&p?(f-o)/g:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(v)},n)},bS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},_S=t=>(...e)=>$e.asap(()=>t(...e)),KB=zi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,zi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(zi.origin),zi.navigator&&/(msie|trident)/i.test(zi.navigator.userAgent)):()=>!0,ZB=zi.hasStandardBrowserEnv?{write(t,e,n,r,i,l){const o=[t+"="+encodeURIComponent(e)];$e.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),$e.isString(r)&&o.push("path="+r),$e.isString(i)&&o.push("domain="+i),l===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function e9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Zk(t,e,n){let r=!QB(e);return t&&(r||n==!1)?e9(t,e):e}const SS=t=>t instanceof as?{...t}:t;function Mo(t,e){e=e||{};const n={};function r(g,p,v,_){return $e.isPlainObject(g)&&$e.isPlainObject(p)?$e.merge.call({caseless:_},g,p):$e.isPlainObject(p)?$e.merge({},p):$e.isArray(p)?p.slice():p}function i(g,p,v,_){if($e.isUndefined(p)){if(!$e.isUndefined(g))return r(void 0,g,v,_)}else return r(g,p,v,_)}function l(g,p){if(!$e.isUndefined(p))return r(void 0,p)}function o(g,p){if($e.isUndefined(p)){if(!$e.isUndefined(g))return r(void 0,g)}else return r(void 0,p)}function f(g,p,v){if(v in e)return r(g,p);if(v in t)return r(void 0,g)}const d={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:f,headers:(g,p,v)=>i(SS(g),SS(p),v,!0)};return $e.forEach(Object.keys(Object.assign({},t,e)),function(p){const v=d[p]||i,_=v(t[p],e[p],p);$e.isUndefined(_)&&v!==f||(n[p]=_)}),n}const Qk=t=>{const e=Mo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:l,headers:o,auth:f}=e;e.headers=o=as.from(o),e.url=Gk(Zk(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&o.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let d;if($e.isFormData(n)){if(zi.hasStandardBrowserEnv||zi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[g,...p]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([g||"multipart/form-data",...p].join("; "))}}if(zi.hasStandardBrowserEnv&&(r&&$e.isFunction(r)&&(r=r(e)),r||r!==!1&&KB(e.url))){const g=i&&l&&ZB.read(l);g&&o.set(i,g)}return e},t9=typeof XMLHttpRequest<"u",n9=t9&&function(t){return new Promise(function(n,r){const i=Qk(t);let l=i.data;const o=as.from(i.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:g}=i,p,v,_,b,w;function S(){b&&b(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function A(){if(!T)return;const I=as.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),Q={data:!f||f==="text"||f==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:I,config:t,request:T};Kk(function(L){n(L),S()},function(L){r(L),S()},Q),T=null}"onloadend"in T?T.onloadend=A:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(A)},T.onabort=function(){T&&(r(new Rn("Request aborted",Rn.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new Rn("Network Error",Rn.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let Z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Q=i.transitional||qk;i.timeoutErrorMessage&&(Z=i.timeoutErrorMessage),r(new Rn(Z,Q.clarifyTimeoutError?Rn.ETIMEDOUT:Rn.ECONNABORTED,t,T)),T=null},l===void 0&&o.setContentType(null),"setRequestHeader"in T&&$e.forEach(o.toJSON(),function(Z,Q){T.setRequestHeader(Q,Z)}),$e.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),f&&f!=="json"&&(T.responseType=i.responseType),g&&([_,w]=s0(g,!0),T.addEventListener("progress",_)),d&&T.upload&&([v,b]=s0(d),T.upload.addEventListener("progress",v),T.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(p=I=>{T&&(r(!I||I.type?new qc(null,t,T):I),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const j=qB(i.url);if(j&&zi.protocols.indexOf(j)===-1){r(new Rn("Unsupported protocol "+j+":",Rn.ERR_BAD_REQUEST,t));return}T.send(l||null)})},r9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const l=function(g){if(!i){i=!0,f();const p=g instanceof Error?g:this.reason;r.abort(p instanceof Rn?p:new qc(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,l(new Rn(`timeout ${e} of ms exceeded`,Rn.ETIMEDOUT))},e);const f=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:d}=r;return d.unsubscribe=()=>$e.asap(f),d}},i9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},s9=async function*(t,e){for await(const n of a9(t))yield*i9(n,e)},a9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},wS=(t,e,n,r)=>{const i=s9(t,e);let l=0,o,f=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:g,value:p}=await i.next();if(g){f(),d.close();return}let v=p.byteLength;if(n){let _=l+=v;n(_)}d.enqueue(new Uint8Array(p))}catch(g){throw f(g),g}},cancel(d){return f(d),i.return()}},{highWaterMark:2})},H0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",e4=H0&&typeof ReadableStream=="function",l9=H0&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),t4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},o9=e4&&t4(()=>{let t=!1;const e=new Request(zi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ES=64*1024,hx=e4&&t4(()=>$e.isReadableStream(new Response("").body)),a0={stream:hx&&(t=>t.body)};H0&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!a0[e]&&(a0[e]=$e.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Rn(`Response type '${e}' is not supported`,Rn.ERR_NOT_SUPPORT,r)})})})(new Response);const c9=async t=>{if(t==null)return 0;if($e.isBlob(t))return t.size;if($e.isSpecCompliantForm(t))return(await new Request(zi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if($e.isArrayBufferView(t)||$e.isArrayBuffer(t))return t.byteLength;if($e.isURLSearchParams(t)&&(t=t+""),$e.isString(t))return(await l9(t)).byteLength},u9=async(t,e)=>{const n=$e.toFiniteNumber(t.getContentLength());return n??c9(e)},f9=H0&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:l,timeout:o,onDownloadProgress:f,onUploadProgress:d,responseType:g,headers:p,withCredentials:v="same-origin",fetchOptions:_}=Qk(t);g=g?(g+"").toLowerCase():"text";let b=r9([i,l&&l.toAbortSignal()],o),w;const S=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let T;try{if(d&&o9&&n!=="get"&&n!=="head"&&(T=await u9(p,r))!==0){let Q=new Request(e,{method:"POST",body:r,duplex:"half"}),Y;if($e.isFormData(r)&&(Y=Q.headers.get("content-type"))&&p.setContentType(Y),Q.body){const[L,U]=bS(T,s0(_S(d)));r=wS(Q.body,ES,L,U)}}$e.isString(v)||(v=v?"include":"omit");const A="credentials"in Request.prototype;w=new Request(e,{..._,signal:b,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:A?v:void 0});let j=await fetch(w,_);const I=hx&&(g==="stream"||g==="response");if(hx&&(f||I&&S)){const Q={};["status","statusText","headers"].forEach(q=>{Q[q]=j[q]});const Y=$e.toFiniteNumber(j.headers.get("content-length")),[L,U]=f&&bS(Y,s0(_S(f),!0))||[];j=new Response(wS(j.body,ES,L,()=>{U&&U(),S&&S()}),Q)}g=g||"text";let Z=await a0[$e.findKey(a0,g)||"text"](j,t);return!I&&S&&S(),await new Promise((Q,Y)=>{Kk(Q,Y,{data:Z,headers:as.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:w})})}catch(A){throw S&&S(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Rn("Network Error",Rn.ERR_NETWORK,t,w),{cause:A.cause||A}):Rn.from(A,A&&A.code,t,w)}}),dx={http:kB,xhr:n9,fetch:f9};$e.forEach(dx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TS=t=>`- ${t}`,h9=t=>$e.isFunction(t)||t===null||t===!1,n4={getAdapter:t=>{t=$e.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let l=0;l<e;l++){n=t[l];let o;if(r=n,!h9(n)&&(r=dx[(o=String(n)).toLowerCase()],r===void 0))throw new Rn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+l]=r}if(!r){const l=Object.entries(i).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=e?l.length>1?`since :
`+l.map(TS).join(`
`):" "+TS(l[0]):"as no adapter specified";throw new Rn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:dx};function Nm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qc(null,t)}function kS(t){return Nm(t),t.headers=as.from(t.headers),t.data=Cm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),n4.getAdapter(t.adapter||Xf.adapter)(t).then(function(r){return Nm(t),r.data=Cm.call(t,t.transformResponse,r),r.headers=as.from(r.headers),r},function(r){return Jk(r)||(Nm(t),r&&r.response&&(r.response.data=Cm.call(t,t.transformResponse,r.response),r.response.headers=as.from(r.response.headers))),Promise.reject(r)})}const r4="1.10.0",U0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{U0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const CS={};U0.transitional=function(e,n,r){function i(l,o){return"[Axios v"+r4+"] Transitional option '"+l+"'"+o+(r?". "+r:"")}return(l,o,f)=>{if(e===!1)throw new Rn(i(o," has been removed"+(n?" in "+n:"")),Rn.ERR_DEPRECATED);return n&&!CS[o]&&(CS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,o,f):!0}};U0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function d9(t,e,n){if(typeof t!="object")throw new Rn("options must be an object",Rn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const l=r[i],o=e[l];if(o){const f=t[l],d=f===void 0||o(f,l,t);if(d!==!0)throw new Rn("option "+l+" must be "+d,Rn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Rn("Unknown option "+l,Rn.ERR_BAD_OPTION)}}const Md={assertOptions:d9,validators:U0},ba=Md.validators;let Eo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vS,response:new vS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:l}=n;r!==void 0&&Md.assertOptions(r,{silentJSONParsing:ba.transitional(ba.boolean),forcedJSONParsing:ba.transitional(ba.boolean),clarifyTimeoutError:ba.transitional(ba.boolean)},!1),i!=null&&($e.isFunction(i)?n.paramsSerializer={serialize:i}:Md.assertOptions(i,{encode:ba.function,serialize:ba.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Md.assertOptions(n,{baseUrl:ba.spelling("baseURL"),withXsrfToken:ba.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=l&&$e.merge(l.common,l[n.method]);l&&$e.forEach(["delete","get","head","post","put","patch","common"],w=>{delete l[w]}),n.headers=as.concat(o,l);const f=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,f.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let p,v=0,_;if(!d){const w=[kS.bind(this),void 0];for(w.unshift.apply(w,f),w.push.apply(w,g),_=w.length,p=Promise.resolve(n);v<_;)p=p.then(w[v++],w[v++]);return p}_=f.length;let b=n;for(v=0;v<_;){const w=f[v++],S=f[v++];try{b=w(b)}catch(T){S.call(this,T);break}}try{p=kS.call(this,b)}catch(w){return Promise.reject(w)}for(v=0,_=g.length;v<_;)p=p.then(g[v++],g[v++]);return p}getUri(e){e=Mo(this.defaults,e);const n=Zk(e.baseURL,e.url,e.allowAbsoluteUrls);return Gk(n,e.params,e.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(e){Eo.prototype[e]=function(n,r){return this.request(Mo(r||{},{method:e,url:n,data:(r||{}).data}))}});$e.forEach(["post","put","patch"],function(e){function n(r){return function(l,o,f){return this.request(Mo(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}Eo.prototype[e]=n(),Eo.prototype[e+"Form"]=n(!0)});let g9=class i4{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(i=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](i);r._listeners=null}),this.promise.then=i=>{let l;const o=new Promise(f=>{r.subscribe(f),l=f}).then(i);return o.cancel=function(){r.unsubscribe(l)},o},e(function(l,o,f){r.reason||(r.reason=new qc(l,o,f),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new i4(function(i){e=i}),cancel:e}}};function p9(t){return function(n){return t.apply(null,n)}}function m9(t){return $e.isObject(t)&&t.isAxiosError===!0}const gx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gx).forEach(([t,e])=>{gx[e]=t});function s4(t){const e=new Eo(t),n=Lk(Eo.prototype.request,e);return $e.extend(n,Eo.prototype,e,{allOwnKeys:!0}),$e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return s4(Mo(t,i))},n}const jr=s4(Xf);jr.Axios=Eo;jr.CanceledError=qc;jr.CancelToken=g9;jr.isCancel=Jk;jr.VERSION=r4;jr.toFormData=B0;jr.AxiosError=Rn;jr.Cancel=jr.CanceledError;jr.all=function(e){return Promise.all(e)};jr.spread=p9;jr.isAxiosError=m9;jr.mergeConfig=Mo;jr.AxiosHeaders=as;jr.formToJSON=t=>Xk($e.isHTMLForm(t)?new FormData(t):t);jr.getAdapter=n4.getAdapter;jr.HttpStatusCode=gx;jr.default=jr;const{Axios:V$,AxiosError:Y$,CanceledError:G$,isCancel:q$,CancelToken:X$,VERSION:J$,all:K$,Cancel:Z$,isAxiosError:Q$,spread:eW,toFormData:tW,AxiosHeaders:nW,HttpStatusCode:rW,formToJSON:iW,getAdapter:sW,mergeConfig:aW}=jr,x9="http://150.241.244.130:10000";let l0=null;function v9(){var e,n,r;let t="   https://taken-drive-pacific-excessive.trycloudflare.com";if(t!==void 0&&t!=="")return typeof window<"u"&&((e=window.location)==null?void 0:e.protocol)==="https:"&&t.startsWith("http://")&&(t="https://"+t.slice(7)),t;if(typeof window<"u"&&((n=window.location)!=null&&n.origin)){const i=window.location.origin;if(i.startsWith("http://150.241.244.130")||i.startsWith("http://localhost")||i.startsWith("https://localhost"))return""}return typeof window<"u"&&((r=window.location)==null?void 0:r.protocol)==="https:"?"https://150.241.244.130:10000":x9}function sa(){return l0||v9()}function y9(){var o,f;if(typeof window>"u")return Promise.resolve();const t=typeof import.meta<"u"&&"/lab_anish/"||"/",n=(t==="./"||t==="."?"":t.replace(/\/$/,""))+"/api-config.json",r=new URL(n,window.location.origin).href,i=r+(r.includes("?")?"&":"?")+"t="+Date.now(),l=typeof window<"u"&&((f=(o=window.location)==null?void 0:o.hostname)==null?void 0:f.includes("github.io"));return l&&console.log("[LAB] Fetching API config:",i),fetch(i,{cache:"no-store"}).then(d=>(l&&console.log("[LAB] api-config.json status:",d.status,d.statusText),d.ok?d.json():null)).then(d=>{d&&typeof d.apiBaseUrl=="string"&&d.apiBaseUrl?(l0=d.apiBaseUrl.replace(/\/$/,""),l&&console.log("[LAB] Using API from config:",l0),window.dispatchEvent(new Event("api-config-loaded"))):l&&console.warn("[LAB] api-config.json missing or empty apiBaseUrl, using build-time URL")}).catch(d=>{l&&console.warn("[LAB] api-config.json fetch failed:",(d==null?void 0:d.message)||d)})}typeof window<"u"&&y9();typeof window<"u"&&sa();function Nn(t){const e=sa();return e?`${e.replace(/\/$/,"")}${t.startsWith("/")?t:`/${t}`}`:t}const b9=Nn("/api/klines");function _9(t){return Math.floor(t/1e3)}function S9(t){return t?t.replace(/[^A-Z0-9]/gi,"").replace(/(PERP|USDTFUT|USDTPERP|USDTPERF|USDTPER)/,"").replace(/\d{6,}$/,"").toUpperCase():""}function Fl(t,e){return t[e]??t[e.toLowerCase()]??t[e.replace("_","").toLowerCase()]??"N/A"}function px(t){return/^[A-Z]+USDT$/.test(t)}const w9=({symbol:t,trade:e,interval:n="15m",theme:r="dark",width:i=400,height:l=300})=>{x.useRef();const o=x.useRef(),[f,d]=x.useState(null);return x.useEffect(()=>{let g,p,v,_,b,w,S,T=!1;async function A(){d(null);const j=S9(t);if(!px(j)){d("Invalid or unsupported symbol");return}const Z={"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d"}[n]||"15m",Q=`${b9}?symbol=${j}&interval=${Z}&limit=200`;try{const{data:Y}=await jr.get(Q);if(T)return;if(!Y||!Array.isArray(Y)||Y.length===0){d("No data for this symbol"),console.warn("[CustomChart] No data for",j,Y);return}const L=Y.map(Ye=>({time:_9(Ye[0]),open:+Ye[1],high:+Ye[2],low:+Ye[3],close:+Ye[4],value:+Ye[5],volume:+Ye[5]})),U=L.map(Ye=>Ye.close),q=L1.calculate({period:9,values:U}),ie=M1.calculate({values:U,fastPeriod:12,slowPeriod:26,signalPeriod:9,SimpleMAOscillator:!1,SimpleMASignal:!1});g=A7(o.current,{width:i,height:l,layout:{background:{color:r==="dark"?"#181818":"#fff"},textColor:r==="dark"?"#fff":"#222"},grid:{vertLines:{color:"#222"},horzLines:{color:"#222"}},timeScale:{timeVisible:!0,secondsVisible:!1},rightPriceScale:{visible:!1}}),p=g.addCandlestickSeries(),p.setData(L),v=g.addLineSeries({color:"#fbc02d",lineWidth:2,priceScaleId:"rsi"}),v.setData(q.map((Ye,ee)=>({time:L[ee+(L.length-q.length)].time,value:Ye}))),g.addLineSeries({color:"#42a5f5",lineWidth:2,priceScaleId:"macd"}).setData(ie.map((Ye,ee)=>({time:L[ee+(L.length-ie.length)].time,value:Ye.MACD}))),g.addLineSeries({color:"#ff9800",lineWidth:2,priceScaleId:"macd"}).setData(ie.map((Ye,ee)=>({time:L[ee+(L.length-ie.length)].time,value:Ye.signal})));const De=g.addHistogramSeries({priceScaleId:"macd",scaleMargins:{top:.7,bottom:0}}),We=ie.map((Ye,ee,Pe)=>{const Fe=Ye.MACD-Ye.signal;let X="#26a69a";return ee>0?Fe>0&&Fe>Pe[ee-1].MACD-Pe[ee-1].signal?X="#26a69a":Fe>0?X="#b2dfdb":Fe<0&&Fe<Pe[ee-1].MACD-Pe[ee-1].signal?X="#ef5350":X="#ffcdd2":X=Fe>=0?"#26a69a":"#ef5350",{time:L[ee+(L.length-ie.length)].time,value:Fe,color:X}});De.setData(We),Fl(e,"Buy_Price")!=="N/A"&&(_=p.createPriceLine({price:+Fl(e,"Buy_Price"),color:"#00e676",lineWidth:2,lineStyle:2,title:"Buy"})),Fl(e,"Sell_Price")!=="N/A"&&(b=p.createPriceLine({price:+Fl(e,"Sell_Price"),color:"#ff1744",lineWidth:2,lineStyle:2,title:"Sell"})),Fl(e,"Stop_Price")!=="N/A"&&(w=p.createPriceLine({price:+Fl(e,"Stop_Price"),color:"#ffd600",lineWidth:2,lineStyle:2,title:"Stop"})),Fl(e,"Save_Price")!=="N/A"&&(S=p.createPriceLine({price:+Fl(e,"Save_Price"),color:"#00b0ff",lineWidth:2,lineStyle:2,title:"Save"}))}catch(Y){d("No data for this symbol (CORS or symbol error)"),console.error("[CustomChart] Error fetching data for",j,Y)}}return A(),()=>{T=!0,g&&g.remove()}},[t,e,n,r,i,l]),u.jsx("div",{style:{width:i,height:l,background:r==="dark"?"#181818":"#fff",borderRadius:8,position:"relative"},children:f?u.jsx("div",{style:{color:"#fff",textAlign:"center",paddingTop:l/2-30,fontWeight:"bold"},children:f}):u.jsx("div",{ref:o,style:{width:i,height:l}})})},E9=({trades:t=[],layout:e=3,interval:n="15m",theme:r="dark"})=>{const[i,l]=x.useState(e),[o,f]=x.useState(n),[d,g]=x.useState(r),[p,v]=x.useState(0),[_,b]=x.useState(10),[w,S]=x.useState(14),[T,A]=x.useState({}),[j,I]=x.useState(400),Z=t.filter(L=>px(L.Pair.replace(/<[^>]+>/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase())),Q=Z.slice(p*_,(p+1)*_),Y=Math.ceil(Z.length/_);return u.jsxs("div",{style:{background:d==="dark"?"#111":"#fff",minHeight:"100vh",padding:24},children:[u.jsxs("div",{style:{marginBottom:16,color:d==="dark"?"#fff":"#222"},children:[u.jsxs("label",{children:["Interval:",u.jsx("select",{value:o,onChange:L=>f(L.target.value),style:{marginLeft:8},children:["1m","3m","5m","15m","30m","1h","4h","1d"].map(L=>u.jsx("option",{value:L,children:L},L))})]}),u.jsxs("label",{style:{marginLeft:16},children:["Layout:",u.jsx("select",{value:i,onChange:L=>l(Number(L.target.value)),style:{marginLeft:8},children:[1,2,3,4,5,6].map(L=>u.jsxs("option",{value:L,children:[L," per row"]},L))})]}),u.jsxs("label",{style:{marginLeft:16},children:["Theme:",u.jsx("select",{value:d,onChange:L=>g(L.target.value),style:{marginLeft:8},children:["dark","light"].map(L=>u.jsx("option",{value:L,children:L},L))})]}),u.jsxs("label",{style:{marginLeft:16},children:["Page Size:",u.jsx("select",{value:_,onChange:L=>{b(Number(L.target.value)),v(0)},style:{marginLeft:8},children:[5,10,20,50,100].map(L=>u.jsx("option",{value:L,children:L},L))})]}),u.jsxs("label",{style:{marginLeft:16},children:["Font Size:",u.jsx("select",{value:w,onChange:L=>S(Number(L.target.value)),style:{marginLeft:8},children:[12,14,16,18,20].map(L=>u.jsxs("option",{value:L,children:[L,"px"]},L))})]}),u.jsxs("label",{style:{marginLeft:16},children:["Grid Width:",u.jsx("input",{type:"range",min:200,max:800,value:j,onChange:L=>I(Number(L.target.value)),style:{marginLeft:8,verticalAlign:"middle"}}),u.jsxs("span",{style:{marginLeft:8},children:[j,"px"]})]}),u.jsxs("span",{style:{marginLeft:16},children:["Page ",p+1," / ",Y]}),u.jsx("button",{disabled:p===0,onClick:()=>v(L=>Math.max(0,L-1)),style:{marginLeft:8},children:"Prev"}),u.jsx("button",{disabled:p>=Y-1,onClick:()=>v(L=>Math.min(Y-1,L+1)),style:{marginLeft:8},children:"Next"})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${i}, ${j}px)`,gap:24},children:Q.map((L,U)=>{const q=L.Pair.replace(/<[^>]+>/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase(),ie=px(q),xe=T[U]||{width:j,height:300},ue=Ur.useRef(),[De,We]=Ur.useState(!1),[Ye,ee]=Ur.useState({x:0,y:0,width:xe.width,height:xe.height}),Pe=J=>{We(!0),ee({x:J.clientX,y:J.clientY,width:xe.width,height:xe.height})},Fe=J=>{if(!De)return;const H=J.clientX-Ye.x,K=J.clientY-Ye.y;A(P=>({...P,[U]:{width:Math.max(200,Ye.width+H),height:Math.max(150,Ye.height+K)}}))},X=()=>We(!1);Ur.useEffect(()=>(De?(window.addEventListener("mousemove",Fe),window.addEventListener("mouseup",X)):(window.removeEventListener("mousemove",Fe),window.removeEventListener("mouseup",X)),()=>{window.removeEventListener("mousemove",Fe),window.removeEventListener("mouseup",X)}),[De]);const D=J=>A(H=>({...H,[U]:{...xe,height:Number(J.target.value)}}));return u.jsxs("div",{style:{background:d==="dark"?"#181818":"#f9f9f9",borderRadius:8,padding:8},children:[u.jsx("div",{style:{color:d==="dark"?"#fff":"#222",fontWeight:"bold",marginBottom:4},children:L.Pair}),ie?u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[u.jsx("label",{style:{color:d==="dark"?"#fff":"#222",fontSize:13,marginRight:8},children:"Chart Height:"}),u.jsx("input",{type:"range",min:150,max:800,value:xe.height,onChange:D,style:{flex:1,accentColor:"#6366f1",marginRight:8},title:"Adjust chart height"}),u.jsxs("span",{style:{color:d==="dark"?"#fff":"#222",fontSize:13,minWidth:40,textAlign:"right"},children:[xe.height,"px"]})]}),u.jsxs("div",{style:{position:"relative",width:xe.width,height:xe.height},children:[u.jsx(w9,{symbol:q,trade:L,interval:o,theme:d,width:j,height:xe.height}),u.jsx("div",{ref:ue,onMouseDown:Pe,style:{position:"absolute",right:8,bottom:8,width:32,height:32,background:De?"#444":"#222",cursor:"nwse-resize",borderRadius:6,border:"2px solid #888",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2,boxShadow:De?"0 0 8px #888":"none",fontSize:22,fontWeight:"bold",userSelect:"none"},title:"Drag to resize chart",children:u.jsxs("span",{style:{fontFamily:"monospace",letterSpacing:1},children:["",u.jsx("br",{}),""]})})]})]}):u.jsx("div",{style:{width:400,height:300,display:"flex",alignItems:"center",justifyContent:"center",color:"#f00",background:"#222",borderRadius:8},children:"Invalid or unsupported symbol"}),u.jsxs("div",{style:{color:d==="dark"?"#fff":"#222",fontSize:w,marginTop:8},children:["PL: ",u.jsx("b",{children:L.PL??"N/A"}),u.jsx("br",{}),"Buy: ",u.jsx("b",{children:L.Buy_Price??"N/A"})," | Sell: ",u.jsx("b",{children:L.Sell_Price??"N/A"}),u.jsx("br",{}),"Stop: ",u.jsx("b",{children:L.Stop_Price??"N/A"})," | Save: ",u.jsx("b",{children:L.Save_Price??"N/A"}),u.jsx("br",{}),"Unique ID: ",u.jsx("b",{children:L.Unique_id??L.Unique_ID??"N/A"}),u.jsx("br",{}),"Type: ",u.jsx("b",{children:L.Action??L.Type??"N/A"}),u.jsx("br",{}),"Candle Date: ",u.jsx("b",{children:L.Candel_time??L.Candle_time??"N/A"}),u.jsx("br",{}),"Operator Time: ",u.jsx("b",{children:L.Operator_Trade_time??"N/A"}),u.jsx("br",{}),"Closing Time: ",u.jsx("b",{children:L.Operator_Close_time??"N/A"})]})]},U)})})]})};var Om={exports:{}},Am,NS;function T9(){if(NS)return Am;NS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Am=t,Am}var Dm,OS;function k9(){if(OS)return Dm;OS=1;var t=T9();function e(){}function n(){}return n.resetWarningCache=e,Dm=function(){function r(o,f,d,g,p,v){if(v!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Dm}var AS;function C9(){return AS||(AS=1,Om.exports=k9()()),Om.exports}var N9=C9();const zl=Sx(N9),O9={"2POLE_IN5LOOP":"2P_L",IMACD:"IMACD","2POLE_Direct_Signal":"2P_DS","HIGHEST SWING HIGH":"HSH","LOWEST SWING LOW":"LSL","NORMAL SWING HIGH":"NSH","NORMAL SWING LOW":"NSL",ProGap:"PG",CrossOver:"CO",Spike:"SP",Kicker:"Kicker"},$0=({canonicalSignalKeys:t,selectedSignals:e,setSelectedSignals:n,signalRadioMode:r,setSignalRadioMode:i,signalToggleAll:l,setSignalToggleAll:o,allMachines:f,selectedMachines:d,setSelectedMachines:g,machineRadioMode:p,setMachineRadioMode:v,machineToggleAll:_,setMachineToggleAll:b,selectedActions:w,setSelectedActions:S,actionRadioMode:T,setActionRadioMode:A,actionToggleAll:j,setActionToggleAll:I,trades:Z,darkMode:Q})=>{const Y=U=>U.machineid??U.MachineId??"",L=Array.from(new Set(Z.flatMap(U=>[U.Action,U.action,U.SignalType,U.signal_type].filter(Boolean))));return console.log(" [PairStatsFilters] Available actions:",L),console.log(" [PairStatsFilters] Sample trade:",Z[0]),u.jsxs("div",{className:"w-full flex flex-wrap gap-4 mb-1",style:{background:Q?"#181a20":"#fff",borderRadius:"1.25rem",boxShadow:Q?"0 2px 8px 0 rgba(0,0,0,0.22), 0 1.5px 6px 0 rgba(0,0,0,0.13)":"0 2px 8px 0 rgba(0,0,0,0.08), 0 1.5px 6px 0 rgba(0,0,0,0.06)",border:Q?"1.5px solid #232526":"1.5px solid #e5e7eb",padding:"1.25rem",marginBottom:"0.25rem"},children:[u.jsxs("div",{className:"flex-1 min-w-[260px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2 w-full",style:{background:Q?"linear-gradient(to bottom right, #1e293b 0%, #334155 100%)":"linear-gradient(to bottom right, #e0eafc 0%, #cfdef3 100%)",border:Q?"1.5px solid #334155":"1.5px solid #bcd0ee"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-blue-700 dark:text-blue-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Signal",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),u.jsx("button",{onClick:()=>{const U=!r;if(i(U),U){const q=t.find(ie=>e[ie]);if(q){const ie={};t.forEach(xe=>{ie[xe]=xe===q}),n(ie),localStorage.setItem("pair_stats_selected_signals",JSON.stringify(ie))}}},className:"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-100 px-2 py-1 rounded text-xs font-semibold hover:bg-blue-300 dark:hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 transition-all",title:"Toggle between radio and checkbox mode",children:r?" Check":" Radio"}),!r&&u.jsx("button",{onClick:()=>{const U={};t.forEach(q=>U[q]=l),n(U),o(!l),localStorage.setItem("pair_stats_selected_signals",JSON.stringify(U))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${l?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all signals",children:l?" All":" Uncheck"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(U=>u.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[r?u.jsx("input",{type:"radio",name:"signalFilterRadio",checked:e[U],onChange:()=>{const q={};t.forEach(ie=>{q[ie]=ie===U}),n(q),localStorage.setItem("pair_stats_selected_signals",JSON.stringify(q))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):u.jsx("input",{type:"checkbox",checked:e[U],onChange:()=>{n(q=>{const ie={...q,[U]:!q[U]};return localStorage.setItem("pair_stats_selected_signals",JSON.stringify(ie)),ie})},className:"form-checkbox h-5 w-5 text-blue-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:O9[U]||U})]},U))})]}),u.jsxs("div",{className:"flex-1 min-w-[220px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2",style:{background:Q?"linear-gradient(to bottom right, #14532d 0%, #334155 100%)":"linear-gradient(to bottom right, #e0ffe0 0%, #e0f7ef 100%)",border:Q?"1.5px solid #14532d":"1.5px solid #bde5d6"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-green-700 dark:text-green-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Machine",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-green-400 via-green-300 to-green-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),u.jsx("button",{onClick:()=>{const U=!p;if(v(U),U){const q=f.find(ie=>d[Y(ie)]);if(q){const ie={};f.forEach(xe=>{ie[Y(xe)]=Y(xe)===Y(q)}),g(ie),localStorage.setItem("pair_stats_selected_machines",JSON.stringify(ie))}}},className:"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 px-2 py-1 rounded text-xs font-semibold hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400 transition-all",title:"Toggle between radio and checkbox mode",children:p?" Check":" Radio"}),!p&&u.jsx("button",{onClick:()=>{const U=Object.values(d).every(ie=>ie===!0),q={};f.forEach(ie=>{q[Y(ie)]=!U}),g(q),b(!_),localStorage.setItem("pair_stats_selected_machines",JSON.stringify(q))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(d).every(U=>U===!1)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all machines",children:Object.values(d).every(U=>U===!1)?" All":" Uncheck"})]}),u.jsx("div",{className:"flex flex-wrap gap-2 min-h-[40px] items-center",children:f.length===0?u.jsx("span",{className:"text-gray-400 text-xs",children:"No machines found"}):f.map(U=>u.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[p?u.jsx("input",{type:"radio",name:"machineFilterRadio",checked:d[Y(U)]===!0,onChange:()=>{const q={};f.forEach(ie=>{q[Y(ie)]=Y(ie)===Y(U)}),g(q),localStorage.setItem("pair_stats_selected_machines",JSON.stringify(q))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):u.jsx("input",{type:"checkbox",checked:d[Y(U)]||!1,onChange:()=>{g(q=>{const ie={...q,[Y(U)]:!q[Y(U)]};return localStorage.setItem("pair_stats_selected_machines",JSON.stringify(ie)),ie})},className:"form-checkbox h-5 w-5 text-green-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:Y(U)})]},Y(U)))})]}),u.jsxs("div",{className:"flex-1 min-w-[180px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2",style:{background:Q?"linear-gradient(to bottom right, #831843 0%, #334155 100%)":"linear-gradient(to bottom right, #ffe0f0 0%, #f3e0ff 100%)",border:Q?"1.5px solid #831843":"1.5px solid #e5bde5"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-pink-700 dark:text-pink-200 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:""})," Action",u.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-pink-400 via-pink-300 to-pink-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),u.jsx("button",{onClick:()=>{const U=!T;if(A(U),U){const q=Object.keys(w).find(ie=>w[ie]);if(q){const ie={};Object.keys(w).forEach(xe=>{ie[xe]=xe===q}),S(ie),localStorage.setItem("pair_stats_selected_actions",JSON.stringify(ie))}}},className:"bg-pink-200 dark:bg-pink-800 text-pink-900 dark:text-pink-100 px-2 py-1 rounded text-xs font-semibold hover:bg-pink-300 dark:hover:bg-pink-700 focus:ring-2 focus:ring-pink-400 transition-all",title:"Toggle between radio and checkbox mode",children:T?" Check":" Radio"}),!T&&u.jsx("button",{onClick:()=>{const U={};Object.keys(w).forEach(q=>U[q]=j),S(U),I(!j),localStorage.setItem("pair_stats_selected_actions",JSON.stringify(U))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${j?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all actions",children:j?" All":" Uncheck"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(U=>u.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[T?u.jsx("input",{type:"radio",name:"actionFilterRadio",checked:w[U],onChange:()=>{const q={};L.forEach(ie=>{q[ie]=ie===U}),S(q),localStorage.setItem("pair_stats_selected_actions",JSON.stringify(q))},className:"form-radio h-5 w-5 text-pink-600",style:{accentColor:"#ec4899"}}):u.jsx("input",{type:"checkbox",checked:w[U],onChange:()=>{S(q=>{const ie={...q,[U]:!q[U]};return localStorage.setItem("pair_stats_selected_actions",JSON.stringify(ie)),ie})},className:"form-checkbox h-5 w-5 text-pink-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:U})]},U))})]})]})},A9=[{label:"15 min",value:15},{label:"30 min",value:30},{label:"1 hr",value:60},{label:"3 hr",value:180},{label:"6 hr",value:360},{label:"Anytime",value:1e4}];function DS(t,e,n){const r=Date.now(),i=n*60*1e3;return t.some(l=>{if(l.pair!==e)return!1;const o=l.candel_time||l.candle_time;if(!o)return!1;const f=new Date(o.replace(" ","T")+"Z").getTime();return r-f<=i})}function MS(t,e,n){const r=Date.now(),i=n*60*1e3;return t.filter(l=>{if(l.pair!==e)return!1;const o=l.candel_time||l.candle_time;if(!o)return!1;const f=new Date(o.replace(" ","T")+"Z").getTime();return r-f<=i}).length}const D9=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],M9=[{value:"latest",label:" Latest Running"},{value:"alpha",label:" Alphabetical"},{value:"hedgeCount",label:" Hedge Count"},{value:"profitCount",label:" Profit Count"},{value:"hedgeAmount",label:" Hedge Amount"},{value:"profitAmount",label:" Profit Amount"},{value:"total",label:" Total Trades"},{value:"meanPerTrade",label:"Mean Per Trade (Amount)"},{value:"meanOverall",label:"Mean Overall (Amount)"},{value:"meanCount",label:"Mean of Count (Profit - Loss Count)"}],RS={latest:!1,alpha:!0,hedgeCount:!1,profitCount:!1,hedgeAmount:!1,profitAmount:!1,total:!1,meanPerTrade:!1,meanOverall:!1};function R9({search:t,setSearch:e,sortOption:n,handleSortChange:r,sortAsc:i,handleSortToggle:l,reputationEnabled:o,setReputationEnabled:f,reputationMode:d,setReputationMode:g,reputationIntensity:p,setReputationIntensity:v,density:_,setDensity:b,totalPairs:w,settingsOpen:S,setSettingsOpen:T,darkMode:A,masterFont:j,setMasterFont:I,nameFont:Z,setNameFont:Q,infoFont:Y,setInfoFont:L,notifWindow:U,setNotifWindow:q,notifStyle:ie,setNotifStyle:xe,notifSize:ue,setNotifSize:De,rankBadgeSize:We,setRankBadgeSize:Ye,NOTIF_WINDOWS:ee,settingsRef:Pe,showForClubFilter:Fe,setShowForClubFilter:X}){return u.jsxs("div",{className:"flex-1 min-w-[320px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2 mb-4",style:{background:A?"linear-gradient(to bottom right, #0f172a 0%, #334155 100%)":"linear-gradient(to bottom right, #f8fafc 0%, #e0eafc 100%)",border:A?"1.5px solid #334155":"1.5px solid #bcd0ee",display:"flex",flexDirection:"column",gap:"12px",justifyContent:"space-between",minHeight:120},children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-between w-full",style:{minHeight:0,padding:"6px 0",margin:"0 0 6px 0"},children:[u.jsx("input",{type:"text",className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-white w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Search pair...",value:t,onChange:D=>e(D.target.value),style:{fontSize:13,height:32}}),u.jsxs("select",{value:Fe,onChange:D=>X(D.target.value),className:"px-1 py-1 rounded border bg-white text-black dark:bg-gray-900 dark:text-white",style:{minWidth:120,fontSize:13,height:32},children:[u.jsx("option",{value:"All",children:"All (No Filter)"}),u.jsx("option",{value:"Total Closed Stats",children:"Total Closed Stats"}),u.jsx("option",{value:"Direct Closed Stats",children:"Direct Closed Stats"}),u.jsx("option",{value:"Hedge Closed Stats",children:"Hedge Closed Stats"}),u.jsx("option",{value:"Total Running Stats",children:"Total Running Stats"}),u.jsx("option",{value:"Direct Running Stats",children:"Direct Running Stats"}),u.jsx("option",{value:"Hedge Running Stats",children:"Hedge Running Stats"}),u.jsx("option",{value:"Total Stats",children:"Total Stats"}),u.jsx("option",{value:"Buy Sell Stats",children:"Buy Sell Stats"}),u.jsx("option",{value:"Hedge on Hold",children:"Hedge on Hold"})]}),u.jsx("select",{value:n,onChange:D=>r(D.target.value),className:"px-1 py-1 rounded border bg-white text-black dark:bg-gray-900 dark:text-white",style:{fontSize:13,height:32},children:M9.map(D=>u.jsx("option",{value:D.value,children:D.label},D.value))}),u.jsx("button",{onClick:l,className:"px-1 py-1 rounded border",title:"Toggle Ascending/Descending",style:{fontSize:13,height:32},children:i?"":""}),u.jsxs("button",{type:"button",className:`ml-2 px-3 py-1 rounded-full border font-bold ${o?"bg-blue-600 text-white border-blue-700":"bg-gray-200 text-gray-700 border-gray-400"}`,onClick:()=>f(D=>!D),style:{fontSize:13,height:32},children:["Reputation ",o?"ON":"OFF"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("label",{className:`flex items-center gap-1 ${d==="perTrade"&&o?"animate-pulse-gold":""}`,children:[" ",u.jsx("input",{type:"radio",name:"reputationMode",value:"perTrade",checked:d==="perTrade",onChange:()=>g("perTrade"),disabled:!o})," ",u.jsx("span",{className:"text-xs",children:"Per Trade"})," "]}),u.jsxs("label",{className:`flex items-center gap-1 ${d==="overall"&&o?"animate-pulse-blue":""}`,children:[" ",u.jsx("input",{type:"radio",name:"reputationMode",value:"overall",checked:d==="overall",onChange:()=>g("overall"),disabled:!o})," ",u.jsx("span",{className:"text-xs",children:"Overall"})," "]})]}),o&&u.jsxs("label",{className:"flex items-center gap-2 text-blue-900 dark:text-blue-200 font-semibold",children:[u.jsx("input",{type:"range",min:0,max:1,step:.01,value:p,onChange:D=>v(Number(D.target.value)),className:"w-32 accent-blue-600",style:{verticalAlign:"middle"}}),u.jsxs("span",{className:"ml-2 text-xs",children:[Math.round(p*100),"%"]})]}),u.jsx("button",{className:`px-3 py-1 rounded border text-xs font-bold transition-all ${_==="spacious"?"bg-blue-100 dark:bg-blue-900 border-blue-400 text-blue-700 dark:text-blue-200":"bg-gray-100 dark:bg-gray-800 border-gray-400 text-gray-700 dark:text-gray-200"}`,onClick:()=>b("spacious"),style:{fontSize:13,height:32},children:"Spacious"}),u.jsx("span",{className:"px-2 py-1 rounded bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-100 font-bold text-sm",children:w}),u.jsx("button",{className:`px-3 py-1 rounded border text-xs font-bold transition-all ${_==="compact"?"bg-blue-100 dark:bg-blue-900 border-blue-400 text-blue-700 dark:text-blue-200":"bg-gray-100 dark:bg-gray-800 border-gray-400 text-gray-700 dark:text-gray-200"}`,onClick:()=>b("compact"),style:{fontSize:13,height:32},children:"Compact"}),u.jsx("button",{className:`px-3 py-2 rounded-full border ml-2 ${A?"border-gray-600 bg-gray-900 text-white":"border-gray-300 bg-white text-black"}`,onClick:()=>T(D=>!D),title:"Grid Settings",style:{fontSize:13,height:32},children:u.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),S&&u.jsxs("div",{ref:Pe,className:`absolute right-8 top-20 z-50 w-80 max-h-[60vh] overflow-y-auto p-4 sm:p-4 p-2 rounded-lg shadow-lg border ${A?"bg-gray-900 border-gray-700 text-white":"bg-white border-gray-200 text-black"}`,children:[u.jsx("h3",{className:"font-bold mb-2",children:"Grid Settings"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Master Font Size"}),u.jsx("input",{type:"range",min:"0.7",max:"2",step:"0.05",value:j,onChange:D=>I(Number(D.target.value)),className:"w-full"}),u.jsxs("div",{className:"text-xs mt-1",children:[(j*100).toFixed(0),"%"]})]}),u.jsxs("div",{className:"mb-4 flex gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Name Font Size"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>Q(D=>Math.max(.7,D-.1)),className:"px-2 py-1 rounded bg-gray-300",children:"-"}),u.jsxs("span",{children:[(Z*100).toFixed(0),"%"]}),u.jsx("button",{onClick:()=>Q(D=>Math.min(2,D+.1)),className:"px-2 py-1 rounded bg-gray-300",children:"+"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Info Font Size"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>L(D=>Math.max(.7,D-.1)),className:"px-2 py-1 rounded bg-gray-300",children:"-"}),u.jsxs("span",{children:[(Y*100).toFixed(0),"%"]}),u.jsx("button",{onClick:()=>L(D=>Math.min(2,D+.1)),className:"px-2 py-1 rounded bg-gray-300",children:"+"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Recent Trade Notification Window"}),u.jsx("select",{value:U,onChange:D=>q(Number(D.target.value)),className:"w-full px-2 py-1 rounded border bg-white text-black",children:ee.map(D=>u.jsx("option",{value:D.value,children:D.label},D.value))})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Notification Style"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[u.jsx("input",{type:"radio",checked:ie==="dot",onChange:()=>xe("dot")}),u.jsx("span",{children:"Green Dot"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[u.jsx("input",{type:"radio",checked:ie==="flag",onChange:()=>xe("flag")}),u.jsx("span",{children:"Animated Flag"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Notification Size"}),u.jsx("input",{type:"range",min:.7,max:2,step:.05,value:ue,onChange:D=>De(Number(D.target.value)),className:"w-full"}),u.jsxs("div",{className:"text-xs mt-1",children:[(ue*100).toFixed(0),"%"]})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("label",{htmlFor:"rank-badge-size",className:"block text-sm font-semibold mb-1",children:"Rank Badge Size"}),u.jsx("input",{id:"rank-badge-size",type:"range",min:"0.7",max:"1.6",step:"0.01",value:We,onChange:D=>Ye(Number(D.target.value)),className:"w-full",style:{accentColor:"#fbbf24"}}),u.jsxs("div",{className:"text-xs mt-1",children:[We.toFixed(2),"x"]})]})]})]})}const z1=({onPairSelect:t,candleType:e,interval:n,trades:r=[],selectedPair:i=null,previewMode:l=!1,filterBar:o,darkMode:f,groupModeEnabled:d,selectedGroupPairs:g=[],setSelectedGroupPairs:p,showForClubFilter:v,setShowForClubFilter:_,onVisiblePairsChange:b,...w})=>{var et,it,dt,st,mt,Xt,en,hn,dn,sr,Un,er,Jn,Dr;const[S,T]=x.useState(()=>localStorage.getItem("pair_stats_search")||""),[A,j]=x.useState(!1),[I,Z]=x.useState(()=>Number(localStorage.getItem("pair_stats_master_font"))||1),[Q,Y]=x.useState(()=>Number(localStorage.getItem("pair_stats_name_font"))||1.2),[L,U]=x.useState(()=>Number(localStorage.getItem("pair_stats_info_font"))||1),[q,ie]=x.useState(()=>Number(localStorage.getItem("pair_stats_notif_window"))||15),[xe,ue]=x.useState(()=>localStorage.getItem("pair_stats_notif_style")||"dot"),[De,We]=x.useState(()=>localStorage.getItem("pair_stats_signal_filter")||"all"),[Ye,ee]=x.useState(()=>localStorage.getItem("pair_stats_action_filter")||"all"),[Pe,Fe]=x.useState(()=>localStorage.getItem("pair_stats_machine_filter")||"all"),[X,D]=x.useState(()=>{const de=localStorage.getItem("pair_stats_reputation_intensity");return de!==null?Number(de):0});x.useEffect(()=>{localStorage.setItem("pair_stats_reputation_intensity",X)},[X]);const[J,H]=x.useState(()=>localStorage.getItem("pair_stats_reputation_mode")||"perTrade");x.useEffect(()=>{localStorage.setItem("pair_stats_reputation_mode",J)},[J]);const[K,P]=x.useState(()=>{const de=localStorage.getItem("pair_stats_reputation_enabled");return de===null?!0:de==="true"});x.useEffect(()=>{localStorage.setItem("pair_stats_reputation_enabled",K)},[K]);const G=x.useRef(),[oe,Ne]=x.useState(()=>{const de=localStorage.getItem("pair_stats_selected_signals");if(de)return JSON.parse(de);const Ot={};return D9.forEach(Ve=>Ot[Ve]=!0),Ot}),[Ie,Je]=x.useState(()=>localStorage.getItem("pair_stats_signal_radio_mode")==="true"),[Ke,pn]=x.useState(()=>localStorage.getItem("pair_stats_signal_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_selected_signals",JSON.stringify(oe))},[oe]),x.useEffect(()=>{localStorage.setItem("pair_stats_signal_radio_mode",Ie)},[Ie]),x.useEffect(()=>{localStorage.setItem("pair_stats_signal_toggle_all",Ke)},[Ke]);const[Ft,un]=x.useState([]);x.useEffect(()=>{(async()=>{try{const Ve=await(await fetch(Nn("/api/machines"))).json();un(Array.isArray(Ve.machines)?Ve.machines:[])}catch{un([])}})()},[]);const Zt=Ft,[Bn,ft]=x.useState(()=>{const de=localStorage.getItem("pair_stats_selected_machines");if(de)return JSON.parse(de);const Ot={};return Zt.forEach(Ve=>Ot[Ve.machineid]=!0),Ot}),[He,Ct]=x.useState(()=>localStorage.getItem("pair_stats_machine_radio_mode")==="true"),[yn,mn]=x.useState(()=>localStorage.getItem("pair_stats_machine_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_selected_machines",JSON.stringify(Bn))},[Bn]),x.useEffect(()=>{localStorage.setItem("pair_stats_machine_radio_mode",He)},[He]),x.useEffect(()=>{localStorage.setItem("pair_stats_machine_toggle_all",yn)},[yn]);const Gn=Array.from(new Set(r.map(de=>de.action).filter(Boolean))),[cr,ge]=x.useState(()=>{const de=localStorage.getItem("pair_stats_selected_actions");if(de)return JSON.parse(de);const Ot={};return Gn.forEach(Ve=>Ot[Ve]=!0),Ot}),[ze,nt]=x.useState(()=>localStorage.getItem("pair_stats_action_radio_mode")==="true"),[Ee,Oe]=x.useState(()=>localStorage.getItem("pair_stats_action_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_selected_actions",JSON.stringify(cr))},[cr]),x.useEffect(()=>{localStorage.setItem("pair_stats_action_radio_mode",ze)},[ze]),x.useEffect(()=>{localStorage.setItem("pair_stats_action_toggle_all",Ee)},[Ee]),x.useEffect(()=>{localStorage.setItem("pair_stats_search",S)},[S]),x.useEffect(()=>{localStorage.setItem("pair_stats_master_font",I)},[I]),x.useEffect(()=>{localStorage.setItem("pair_stats_name_font",Q)},[Q]),x.useEffect(()=>{localStorage.setItem("pair_stats_info_font",L)},[L]),x.useEffect(()=>{localStorage.setItem("pair_stats_notif_window",q)},[q]),x.useEffect(()=>{localStorage.setItem("pair_stats_notif_style",xe)},[xe]),x.useEffect(()=>{localStorage.setItem("pair_stats_signal_filter",De)},[De]),x.useEffect(()=>{localStorage.setItem("pair_stats_action_filter",Ye)},[Ye]),x.useEffect(()=>{localStorage.setItem("pair_stats_machine_filter",Pe)},[Pe]);const[me,Ge]=x.useState(()=>Number(localStorage.getItem("pair_stats_notif_size"))||1);x.useEffect(()=>{localStorage.setItem("pair_stats_notif_size",me)},[me]),x.useEffect(()=>{if(!A)return;function de(Ot){G.current&&!G.current.contains(Ot.target)&&j(!1)}return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[A]);function cn(de){return de.filter(Ot=>!(Object.keys(oe).length&&!oe[Ot.signalfrom]||Object.keys(Bn).length&&!Bn[Ot.machineid]||Object.keys(cr).length&&!cr[Ot.action]))}const Qt=(de,Ot)=>{const Ve=cn(Ot.filter(Ut=>Ut.pair===de)),Lt=Ve.filter(Ut=>Ut.action==="SELL").length,le=Ve.filter(Ut=>Ut.action==="BUY").length,Ce=Ve.filter(Ut=>Ut.hedge===!0||Ut.hedge==="true"||Ut.hedge===1||Ut.hedge==="1"||typeof Ut.hedge=="string"&&parseFloat(Ut.hedge)>0).length,yt=Ve.filter(Ut=>Ut.type==="running"||Ut.type==="assigned"||Ut.type==="assign").length,Wt=Ve.filter(Ut=>Ut.type==="close"&&Ut.pl_after_comm>0).length,Dn=Ve.filter(Ut=>Ut.pl_after_comm>0).reduce((Ut,Yt)=>Ut+(parseFloat(Yt.pl_after_comm)||0),0),bt=Ve.length;return{sellCount:Lt,buyCount:le,hedgeCount:Ce,runningCount:yt,profitClosedCount:Wt,totalProfitAmount:Dn,totalCount:bt}};function V(de,Ot){return(l?Ot.filter(Lt=>{const le=Lt.hedge===!0||Lt.hedge==="true"||Lt.hedge===1||Lt.hedge==="1"||typeof Lt.hedge=="string"&&parseFloat(Lt.hedge)>0;return Lt.pair===de&&le&&Lt.pl_after_comm!==void 0}):cn(Ot.filter(Lt=>{const le=Lt.hedge===!0||Lt.hedge==="true"||Lt.hedge===1||Lt.hedge==="1"||typeof Lt.hedge=="string"&&parseFloat(Lt.hedge)>0;return Lt.pair===de&&le&&Lt.pl_after_comm!==void 0}))).reduce((Lt,le)=>Lt+(parseFloat(le.pl_after_comm)||0),0)}function Se(de,Ot,Ve){de=de.replace("#",""),Ot=Ot.replace("#","");const Lt=parseInt(de.substring(0,2),16),le=parseInt(de.substring(2,4),16),Ce=parseInt(de.substring(4,6),16),yt=parseInt(Ot.substring(0,2),16),Wt=parseInt(Ot.substring(2,4),16),Dn=parseInt(Ot.substring(4,6),16),bt=Math.round(Lt+(yt-Lt)*Ve),Ut=Math.round(le+(Wt-le)*Ve),Yt=Math.round(Ce+(Dn-Ce)*Ve);return`#${bt.toString(16).padStart(2,"0")}${Ut.toString(16).padStart(2,"0")}${Yt.toString(16).padStart(2,"0")}`}function Be(de,Ot,Ve){return[Se(de[0],Ot[0],Ve),Se(de[1],Ot[1],Ve)]}const Mt=f?["#232526","#414345"]:["#f3f4f6","#e0eafc"];function ot(de){if(typeof de!="string")return Mt;const Ot=de.match(/#([0-9a-fA-F]{6})[^#]+#([0-9a-fA-F]{6})/);return Ot?[`#${Ot[1]}`,`#${Ot[2]}`]:Mt}const Dt=Array.from(new Set(r.map(de=>de.pair).filter(Boolean))),ht={};Dt.forEach(de=>{ht[de]=Qt(de,r)});const _t=Dt.map(de=>{var Ut,Yt;const Ot=((Ut=ht[de])==null?void 0:Ut.totalProfitAmount)||0,Ve=V(de,r)||0,Lt=((Yt=ht[de])==null?void 0:Yt.totalCount)||0,le=Ot+Ve,Ce=Lt>0?le/Lt:0,yt=r.filter(sn=>sn.pair===de),Wt=yt.filter(sn=>sn.pl_after_comm>0).length,Dn=yt.filter(sn=>sn.pl_after_comm<0).length,bt=Wt-Dn;return{pair:de,meanOverall:le,meanPerTrade:Ce,profit:Ot,hedge:Ve,totalCount:Lt,meanCount:bt}}),jt=de=>J==="perTrade"?de.meanPerTrade:de.meanOverall,Bt=[..._t].sort((de,Ot)=>jt(Ot)-jt(de)),$t="#008000",rn="#e0eafc",qn="#fbeee6",Pn="#ff5252",wn={},qt=Bt.length,fn=Bt.findIndex(de=>jt(de)<0),kn=fn===-1?qt:fn,Hn=qt-kn;Bt.forEach((de,Ot)=>{let Ve;if(jt(de)>=0&&kn>0){const Lt=kn>1?Ot/(kn-1):0;Ve=`linear-gradient(135deg, ${Se($t,rn,Lt*.7)} 0%, ${Se($t,rn,Lt)} 100%)`}else if(jt(de)<0&&Hn>0){const Lt=Ot-kn,le=Hn>1?Lt/(Hn-1):0;Ve=`linear-gradient(135deg, ${Se(qn,Pn,le*.7)} 0%, ${Se(qn,Pn,le)} 100%)`}else Ve=f?"linear-gradient(135deg, #232526 0%, #414345 100%)":"linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%)";wn[de.pair]={mean:jt(de),isPositive:jt(de)>=0,cardBg:Ve}});const En=Dt.filter(de=>{if(S&&!de.toLowerCase().includes(S.toLowerCase()))return!1;const Ot=r.filter(Ve=>Ve.Pair===de);return!(De!=="all"&&(De==="signal"&&!Ot.some(Ve=>Ve.Signal)||De==="radio"&&!Ot.some(Ve=>Ve.Radio)||!["signal","radio","all"].includes(De)&&!Ot.some(Ve=>Ve.Signal===De))||Ye!=="all"&&!Ot.some(Ve=>Ve.action===Ye)||Pe!=="all"&&!Ot.some(Ve=>Ve.Machine===Pe))}),[Cn,hr]=x.useState(()=>localStorage.getItem("pair_stats_sort_option")||"latest"),[_n,we]=x.useState(()=>{const de=localStorage.getItem("pair_stats_sort_orders");return de?JSON.parse(de):{...RS}}),E=_n[Cn]??RS[Cn]??!0;x.useEffect(()=>{localStorage.setItem("pair_stats_sort_option",Cn)},[Cn]),x.useEffect(()=>{localStorage.setItem("pair_stats_sort_orders",JSON.stringify(_n))},[_n]);const O=de=>{hr(de)},R=()=>{we(de=>({...de,[Cn]:!E}))},M=[...En].sort((de,Ot)=>{const Ve=ht[de],Lt=ht[Ot];switch(Cn){case"alpha":return E?de.localeCompare(Ot):Ot.localeCompare(de);case"hedgeCount":return E?Ve.hedgeCount-Lt.hedgeCount:Lt.hedgeCount-Ve.hedgeCount;case"profitCount":return E?Ve.profitClosedCount-Lt.profitClosedCount:Lt.profitClosedCount-Ve.profitClosedCount;case"hedgeAmount":return E?V(de,r)-V(Ot,r):V(Ot,r)-V(de,r);case"profitAmount":return E?Ve.totalProfitAmount-Lt.totalProfitAmount:Lt.totalProfitAmount-Ve.totalProfitAmount;case"total":return E?Ve.totalCount-Lt.totalCount:Lt.totalCount-Ve.totalCount;case"latest":default:{const le=Ce=>{const yt=r.filter(Wt=>Wt.pair===Ce&&(Wt.type==="running"||Wt.type==="assigned"||Wt.type==="assign"));return yt.length===0?0:Math.max(...yt.map(Wt=>{const Dn=Wt.candel_time||Wt.candle_time;return Dn?new Date(Dn.replace(" ","T")+"Z").getTime():0}))};return E?le(de)-le(Ot):le(Ot)-le(de)}case"meanPerTrade":{const le=_t.find(yt=>yt.pair===de),Ce=_t.find(yt=>yt.pair===Ot);return((Ce==null?void 0:Ce.meanPerTrade)||0)-((le==null?void 0:le.meanPerTrade)||0)}case"meanOverall":{const le=_t.find(yt=>yt.pair===de),Ce=_t.find(yt=>yt.pair===Ot);return((Ce==null?void 0:Ce.meanOverall)||0)-((le==null?void 0:le.meanOverall)||0)}case"meanCount":{const le=_t.find(yt=>yt.pair===de),Ce=_t.find(yt=>yt.pair===Ot);return((Ce==null?void 0:Ce.meanCount)||0)-((le==null?void 0:le.meanCount)||0)}}}),F={animation:"fadeSlideIn 0.5s cubic-bezier(0.4,0,0.2,1)"},W="#1e3a8a",[se,Te]=x.useState(()=>localStorage.getItem("pair_stats_density")||"spacious");x.useEffect(()=>{localStorage.setItem("pair_stats_density",se)},[se]);const[he,be]=x.useState(()=>Number(localStorage.getItem("rank_badge_size"))||1);if(x.useEffect(()=>{localStorage.setItem("rank_badge_size",he)},[he]),x.useEffect(()=>{typeof b=="function"&&b(M)},[JSON.stringify(M)]),l&&i){const de=i,Ot=DS(r,de,q),Ve=MS(r,de,q);let Lt=f?"#444":"#ddd",le=f?"linear-gradient(135deg, #232526 0%, #414345 100%)":"linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%)",Ce=!1,yt=!1,Wt=3;if(K&&X>0&&wn[de]){const Or=wn[de].cardBg,Wn=ot(Or),ai=Be(Mt,Wn,X);le=`linear-gradient(135deg, ${ai[0]} 0%, ${ai[1]} 100%)`,Ce=wn[de].isPositive,yt=!wn[de].isPositive,Wt=wn[de].bin,Lt=Ce?"#43e97b":yt?"#ff5858":Lt}let Dn;K?X<.27?Dn="#fff":Dn="#000":Dn="#fff";let bt;X<=.3?bt="#16a34a":X<=.55?bt="#fff":bt=W;const Ut=Bt.findIndex(Or=>Or.pair===de),Yt=Ut>=0?Ut+1:null,sn=Bt.length,Fr=Ce&&Ut<sn/2,br=yt&&Ut>=sn/2;let dr="#bfa100";if(K&&wn[de]){dr="#000";const Or=wn[de].isPositive,Wn=!Or;(Or&&Ut<sn*.25||Wn&&Ut>=sn*.75)&&(dr="#fff")}return u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:220},children:u.jsxs("div",{className:`relative flex flex-col justify-between rounded shadow transition-all duration-300 break-words group ${se==="compact"?"p-2":""}`,style:{wordBreak:"break-word",overflowWrap:"break-word",minWidth:se==="compact"?"140px":"220px",maxWidth:"100%",minHeight:se==="compact"?`${120*I*L}px`:`${180*I*L}px`,padding:se==="compact"?`${8*I*L}px`:`${16*I*L}px`,border:`2.5px solid ${Lt}`,background:le,color:Dn,...F,fontSize:se==="compact"?`${.92*L*I}rem`:void 0},onClick:l?void 0:()=>{window.open(`/reports/list?pair=${encodeURIComponent(de)}&interval=${encodeURIComponent(n)}&type=${encodeURIComponent(e)}`,"_blank")},children:[u.jsx("style",{children:`
            .group:hover {
              transform: scale(1.08);
              box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13);
              z-index: 2;
              border-color: ${Ce?"#43e97b":yt?"#ff5252":"#60a5fa"} !important;
              box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13), 0 0 0 4px ${Ce?"rgba(67,233,123,0.25)":yt?"rgba(255,82,82,0.22)":"rgba(96,165,250,0.18)"};
              transition: transform 0.22s cubic-bezier(0.4,0,0.2,1), box-shadow 0.22s cubic-bezier(0.4,0,0.2,1), border-color 0.22s cubic-bezier(0.4,0,0.2,1);
            }
          `}),Yt&&K&&u.jsxs("span",{className:`absolute top-0 right-0 z-10 px-3 py-1.5 rounded-bl-xl rounded-tr-lg text-xs font-extrabold shadow-xl border-2 transition-transform duration-200 select-none flex items-center gap-1
                ${Yt===1?"border-yellow-400 bg-gradient-to-r from-yellow-200 via-yellow-100 to-white":""}
                ${Yt===2?"border-gray-400 bg-gradient-to-r from-gray-200 via-gray-100 to-white":""}
                ${Yt===3?"border-amber-700 bg-gradient-to-r from-amber-200 via-amber-100 to-white":""}
                ${Yt>3?"border-white bg-white/60 backdrop-blur-md":""}
                ${J==="perTrade"?"animate-pulse-gold":""}
                ${J==="overall"?"animate-pulse-blue":""}
                hover:scale-110`,style:{letterSpacing:"0.04em",boxShadow:"0 4px 24px 0 rgba(0,0,0,0.10), 0 1.5px 4px 0 rgba(0,0,0,0.10)",color:Yt===1?"#bfa100":Yt===2?"#888":Yt===3?"#a16207":"#1e293b",borderWidth:"2.5px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",minWidth:"54px",justifyContent:"center",background:Yt>3?"rgba(255,255,255,0.65)":void 0,backdropFilter:Yt>3?"blur(6px)":void 0,fontSize:`${he}em`,padding:`${.7*he}em ${1.1*he}em`},children:[Yt===1&&"",Yt===2&&"",Yt===3&&"",u.jsxs("span",{children:["#",Yt]})]}),Ot&&xe==="dot"&&u.jsx("span",{className:"absolute top-0 left-2 flex items-center z-10",style:{transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:u.jsx("span",{className:"rounded-full animate-pulse border-2 border-white flex items-center justify-center text-xs font-extrabold",style:{minWidth:`${1.5*me}em`,minHeight:`${1.5*me}em`,width:`${1.5*me}em`,height:`${1.5*me}em`,background:"#bfa100",color:dr,fontWeight:"bold",fontSize:`${1*me}em`},children:Ve})}),Ot&&xe==="flag"&&u.jsxs("span",{className:"absolute top-0 left-2 flex items-center z-10 animate-bounce",style:{fontSize:`${1.5*me}rem`,transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:[u.jsx("span",{style:{color:"#bfa100",fontWeight:"bold"},children:""}),u.jsx("span",{className:"ml-1 text-xs font-extrabold",style:{color:dr,fontSize:`${1*me}rem`,fontWeight:"bold"},children:Ve})]}),u.jsx("div",{className:"font-bold mb-2 pair-name",style:{fontSize:`${1.2*Q*I}rem`,wordBreak:"break-word"},children:de}),u.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center",style:{flex:1},children:[u.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full mb-2",style:{fontSize:`${1*L*I}rem`,lineHeight:1.4,textAlign:"center"},children:[u.jsx("div",{children:"Sell"}),u.jsx("div",{children:"Buy"}),u.jsx("div",{children:"Hedge"}),u.jsx("div",{children:"Running"}),u.jsx("div",{children:u.jsx("b",{children:(et=ht[de])==null?void 0:et.sellCount})}),u.jsx("div",{children:u.jsx("b",{children:(it=ht[de])==null?void 0:it.buyCount})}),u.jsx("div",{children:u.jsx("b",{children:(dt=ht[de])==null?void 0:dt.hedgeCount})}),u.jsx("div",{children:u.jsx("b",{children:(st=ht[de])==null?void 0:st.runningCount})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full",style:{fontSize:`${1*L*I}rem`,lineHeight:1.4,textAlign:"center"},children:[u.jsx("div",{children:"Closed"}),u.jsx("div",{children:"Profit"}),u.jsx("div",{children:"Hedge"}),u.jsx("div",{children:"Total"}),u.jsx("div",{children:u.jsx("b",{children:(mt=ht[de])==null?void 0:mt.profitClosedCount})}),u.jsx("div",{children:u.jsx("b",{style:{color:Ce&&Fr&&((Xt=ht[de])==null?void 0:Xt.totalProfitAmount)<0?"#fff":Ce||yt?bt:((en=ht[de])==null?void 0:en.totalProfitAmount)>0?"limegreen":((hn=ht[de])==null?void 0:hn.totalProfitAmount)<0?"red":void 0,fontWeight:Ce||yt?"bold":void 0},children:((dn=ht[de])==null?void 0:dn.totalProfitAmount)>0?`+${(sr=ht[de])==null?void 0:sr.totalProfitAmount.toFixed(2)}`:((Un=ht[de])==null?void 0:Un.totalProfitAmount)<0?`-${Math.abs((er=ht[de])==null?void 0:er.totalProfitAmount).toFixed(2)}`:(Jn=ht[de])==null?void 0:Jn.totalProfitAmount.toFixed(2)})}),u.jsx("div",{children:u.jsx("b",{style:{color:yt&&br&&V(de,r)>0?"#fff":Ce?"red":yt?Wt===0?statYellow:"red":V(de,r)>0?"limegreen":V(de,r)<0?"red":void 0,fontWeight:Ce||yt?"bold":void 0},children:V(de,r)>0?`+${V(de,r).toFixed(2)}`:V(de,r)<0?`-${Math.abs(V(de,r)).toFixed(2)}`:V(de,r).toFixed(2)})}),u.jsx("div",{children:u.jsx("b",{children:(Dr=ht[de])==null?void 0:Dr.totalCount})})]})]})]},de)})}const ve=`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 ${se==="compact"?"xl:grid-cols-6 gap-2":"gap-4"}${i&&!l?" grid-faded":""}`;return u.jsxs("div",{className:`p-2 sm:p-4 min-h-screen transition-colors duration-300 ${f?"bg-black text-white":"bg-white text-black"}`,children:[u.jsx("div",{"aria-hidden":"true",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",opacity:f?.18:.13,background:f?"linear-gradient(120deg, #232526 0%, #414345 50%, #232526 100%)":"linear-gradient(120deg, #e0eafc 0%, #cfdef3 50%, #e0eafc 100%)",backgroundSize:"200% 200%",animation:"moveGradient 16s ease-in-out infinite"}}),u.jsxs("div",{className:"w-full flex flex-wrap gap-4 mb-4 flex-col sm:flex-row",children:[o,u.jsx(R9,{search:S,setSearch:T,sortOption:Cn,handleSortChange:O,sortAsc:E,handleSortToggle:R,reputationEnabled:K,setReputationEnabled:P,reputationMode:J,setReputationMode:H,reputationIntensity:X,setReputationIntensity:D,density:se,setDensity:Te,totalPairs:M.filter(de=>En.includes(de)).length,settingsOpen:A,setSettingsOpen:j,darkMode:f,masterFont:I,setMasterFont:Z,nameFont:Q,setNameFont:Y,infoFont:L,setInfoFont:U,notifWindow:q,setNotifWindow:ie,notifStyle:xe,setNotifStyle:ue,notifSize:me,setNotifSize:Ge,rankBadgeSize:he,setRankBadgeSize:be,NOTIF_WINDOWS:A9,settingsRef:G,showForClubFilter:v,setShowForClubFilter:_})]}),M.length===0?u.jsx("div",{className:ve,style:{minHeight:"320px",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("span",{style:{fontSize:24,fontWeight:600},children:"No grid available"})}):u.jsx("div",{className:ve,children:M.filter(de=>En.includes(de)).map(de=>{var ai,li,ji,cs,Kt,Ki,tn,$i,Mn,Vr,Ts,Zi,Nt,gi;const Ot=DS(r,de,q),Ve=MS(r,de,q);let Lt=f?"#444":"#ddd",le=f?"linear-gradient(135deg, #232526 0%, #414345 100%)":"linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%)",Ce=!1,yt=!1,Wt=3;if(K&&X>0&&wn[de]){const zt=wn[de].cardBg,Li=ot(zt),Gt=Be(Mt,Li,X);le=`linear-gradient(135deg, ${Gt[0]} 0%, ${Gt[1]} 100%)`,Ce=wn[de].isPositive,yt=!wn[de].isPositive,Wt=wn[de].bin,Lt=Ce?"#43e97b":yt?"#ff5858":Lt}let Dn;K?X<.27?Dn="#fff":Dn="#000":Dn="#fff";let bt;X<=.3?bt="#16a34a":X<=.55?bt="#fff":bt=W;const Ut=Bt.findIndex(zt=>zt.pair===de),Yt=Ut>=0?Ut+1:null,sn=Bt.length,Fr=Ce&&Ut<sn/2,br=yt&&Ut>=sn/2;let dr="#bfa100";if(K&&wn[de]){dr="#000";const zt=wn[de].isPositive,Li=!zt;(zt&&Ut<sn*.25||Li&&Ut>=sn*.75)&&(dr="#fff")}const Or=d&&g&&g.includes(de),Wn=`relative flex flex-col justify-between rounded shadow transition-all duration-300 break-words group ${se==="compact"?"p-2":""}${Or?" selected-for-group":""}`;return u.jsxs("div",{className:Wn,style:{wordBreak:"break-word",overflowWrap:"break-word",minWidth:se==="compact"?"140px":"220px",maxWidth:"100%",minHeight:se==="compact"?`${120*I*L}px`:`${180*I*L}px`,padding:se==="compact"?`${8*I*L}px`:`${16*I*L}px`,border:`2.5px solid ${Lt}`,background:le,color:Dn,...F,fontSize:se==="compact"?`${.92*L*I}rem`:void 0,filter:i&&de!==i&&!l?"blur(2px) brightness(0.7)":void 0,opacity:i&&de!==i&&!l?.5:1,pointerEvents:i&&de!==i&&!l?"none":void 0},onClick:()=>{d&&p?p(zt=>zt.includes(de)?zt.filter(Gt=>Gt!==de):[...zt,de]):t(de)},children:[u.jsx("style",{children:`
                  .group:hover {
                    transform: scale(1.08);
                    box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13);
                    z-index: 2;
                    border-color: ${Ce?"#43e97b":yt?"#ff5252":"#60a5fa"} !important;
                    box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13), 0 0 0 4px ${Ce?"rgba(67,233,123,0.25)":yt?"rgba(255,82,82,0.22)":"rgba(96,165,250,0.18)"};
                    transition: transform 0.22s cubic-bezier(0.4,0,0.2,1), box-shadow 0.22s cubic-bezier(0.4,0,0.2,1), border-color 0.22s cubic-bezier(0.4,0,0.2,1);
                  }
                  ${d?`
                    .group {
                      animation: glitter 1.5s infinite;
                    }
                    .group.selected-for-group {
                      animation: none;
                      transform: scale(1.05);
                      border: 3px solid #f59e0b;
                    }
                  `:""}

                  @keyframes glitter {
                    0%, 100% { transform: scale(1); }
                    50% { transform: scale(1.02); }
                  }
                `}),Yt&&K&&u.jsxs("span",{className:`absolute top-0 right-0 z-10 px-3 py-1.5 rounded-bl-xl rounded-tr-lg text-xs font-extrabold shadow-xl border-2 transition-transform duration-200 select-none flex items-center gap-1
                      ${Yt===1?"border-yellow-400 bg-gradient-to-r from-yellow-200 via-yellow-100 to-white":""}
                      ${Yt===2?"border-gray-400 bg-gradient-to-r from-gray-200 via-gray-100 to-white":""}
                      ${Yt===3?"border-amber-700 bg-gradient-to-r from-amber-200 via-amber-100 to-white":""}
                      ${Yt>3?"border-white bg-white/60 backdrop-blur-md":""}
                      ${J==="perTrade"?"animate-pulse-gold":""}
                      ${J==="overall"?"animate-pulse-blue":""}
                      hover:scale-110`,style:{letterSpacing:"0.04em",boxShadow:"0 4px 24px 0 rgba(0,0,0,0.10), 0 1.5px 4px 0 rgba(0,0,0,0.10)",color:Yt===1?"#bfa100":Yt===2?"#888":Yt===3?"#a16207":"#1e293b",borderWidth:"2.5px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",minWidth:"54px",justifyContent:"center",background:Yt>3?"rgba(255,255,255,0.65)":void 0,backdropFilter:Yt>3?"blur(6px)":void 0,fontSize:`${he}em`,padding:`${.7*he}em ${1.1*he}em`},children:[Yt===1&&"",Yt===2&&"",Yt===3&&"",u.jsxs("span",{children:["#",Yt]})]}),Ot&&xe==="dot"&&u.jsx("span",{className:"absolute top-0 left-2 flex items-center z-10",style:{transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:u.jsx("span",{className:"rounded-full animate-pulse border-2 border-white flex items-center justify-center text-xs font-extrabold",style:{minWidth:`${1.5*me}em`,minHeight:`${1.5*me}em`,width:`${1.5*me}em`,height:`${1.5*me}em`,background:"#bfa100",color:dr,fontWeight:"bold",fontSize:`${1*me}em`},children:Ve})}),Ot&&xe==="flag"&&u.jsxs("span",{className:"absolute top-0 left-2 flex items-center z-10 animate-bounce",style:{fontSize:`${1.5*me}rem`,transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:[u.jsx("span",{style:{color:"#bfa100",fontWeight:"bold"},children:""}),u.jsx("span",{className:"ml-1 text-xs font-extrabold",style:{color:dr,fontSize:`${1*me}rem`,fontWeight:"bold"},children:Ve})]}),u.jsx("div",{className:"font-bold mb-2 pair-name",style:{fontSize:`${1.2*Q*I}rem`,wordBreak:"break-word"},children:de}),u.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center",style:{flex:1},children:[u.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full mb-2",style:{fontSize:`${1*L*I}rem`,lineHeight:1.4,textAlign:"center"},children:[u.jsx("div",{children:"Sell"}),u.jsx("div",{children:"Buy"}),u.jsx("div",{children:"Hedge"}),u.jsx("div",{children:"Running"}),u.jsx("div",{children:u.jsx("b",{children:(ai=ht[de])==null?void 0:ai.sellCount})}),u.jsx("div",{children:u.jsx("b",{children:(li=ht[de])==null?void 0:li.buyCount})}),u.jsx("div",{children:u.jsx("b",{children:(ji=ht[de])==null?void 0:ji.hedgeCount})}),u.jsx("div",{children:u.jsx("b",{children:(cs=ht[de])==null?void 0:cs.runningCount})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full",style:{fontSize:`${1*L*I}rem`,lineHeight:1.4,textAlign:"center"},children:[u.jsx("div",{children:"Closed"}),u.jsx("div",{children:"Profit"}),u.jsx("div",{children:"Hedge"}),u.jsx("div",{children:"Total"}),u.jsx("div",{children:u.jsx("b",{children:(Kt=ht[de])==null?void 0:Kt.profitClosedCount})}),u.jsx("div",{children:u.jsx("b",{style:{color:Ce&&Fr&&((Ki=ht[de])==null?void 0:Ki.totalProfitAmount)<0?"#fff":Ce||yt?bt:((tn=ht[de])==null?void 0:tn.totalProfitAmount)>0?"limegreen":(($i=ht[de])==null?void 0:$i.totalProfitAmount)<0?"red":void 0,fontWeight:Ce||yt?"bold":void 0},children:((Mn=ht[de])==null?void 0:Mn.totalProfitAmount)>0?`+${(Vr=ht[de])==null?void 0:Vr.totalProfitAmount.toFixed(2)}`:((Ts=ht[de])==null?void 0:Ts.totalProfitAmount)<0?`-${Math.abs((Zi=ht[de])==null?void 0:Zi.totalProfitAmount).toFixed(2)}`:(Nt=ht[de])==null?void 0:Nt.totalProfitAmount.toFixed(2)})}),u.jsx("div",{children:u.jsx("b",{style:{color:yt&&br&&V(de,r)>0?"#fff":Ce?"red":yt?Wt===0?statYellow:"red":V(de,r)>0?"limegreen":V(de,r)<0?"red":void 0,fontWeight:Ce||yt?"bold":void 0},children:V(de,r)>0?`+${V(de,r).toFixed(2)}`:V(de,r)<0?`-${Math.abs(V(de,r)).toFixed(2)}`:V(de,r).toFixed(2)})}),u.jsx("div",{children:u.jsx("b",{children:(gi=ht[de])==null?void 0:gi.totalCount})})]})]})]},de)})}),u.jsx("style",{children:`
        .grid-faded > div:not(.selected) {
          transition: filter 0.4s cubic-bezier(0.4,0,0.2,1), opacity 0.4s cubic-bezier(0.4,0,0.2,1);
        }
        .selected {
          z-index: 20;
          transform: scale(1.12) translate(-12vw, -8vh);
          box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13), 0 0 0 6px #fbbf24cc;
          transition: transform 0.5s cubic-bezier(0.4,0,0.2,1), box-shadow 0.5s cubic-bezier(0.4,0,0.2,1);
        }
      `}),u.jsx("div",{style:{position:"fixed",right:"1.5rem",bottom:"1.2rem",zIndex:20,fontSize:"1rem",fontWeight:600,color:f?"rgba(255,255,255,0.32)":"rgba(30,41,59,0.32)",letterSpacing:"0.04em",pointerEvents:"none",userSelect:"none",fontFamily:"Inter, Segoe UI, Arial, sans-serif",textShadow:f?"0 1px 4px #0008":"0 1px 4px #fff8"},children:"Crafted by LAB"})]})};z1.propTypes={onPairSelect:zl.func.isRequired,candleType:zl.string,interval:zl.string,trades:zl.array,selectedPair:zl.string,previewMode:zl.bool,filterBar:zl.node,darkMode:zl.bool};function j9(t){if(!t&&t!==0)return null;if(typeof t=="number"&&!Number.isNaN(t))return Math.max(0,Math.floor(t));const e=String(t).trim().toLowerCase();if(!e)return null;if(/^\d{1,2}(:\d{1,2}){0,2}$/.test(e)){const o=e.split(":").map(f=>parseInt(f,10)||0);if(o.length===3){const[f,d,g]=o;return f*3600+d*60+g}if(o.length===2){const[f,d]=o;return f*60+d}return o[0]}let n=0;const r=/(\d+)(h|m|s)/g;let i;for(;(i=r.exec(e))!==null;){const o=parseInt(i[1],10),f=i[2];f==="h"&&(n+=o*3600),f==="m"&&(n+=o*60),f==="s"&&(n+=o)}if(n>0)return n;const l=parseInt(e,10);return Number.isNaN(l)?null:Math.max(0,l)}function Mm(t){if(t==null||Number.isNaN(t))return"--";const e=Math.max(0,Math.floor(t));if(e<60)return`${e}s`;if(e<3600){const l=Math.floor(e/60),o=e%60;return`${l}m ${o}s`}const n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60;return`${n}h ${r}m ${i}s`}function a4({onRefresh:t,storageKey:e="default",initialIntervalSec:n=20,initialAutoOn:r=!1,style:i,className:l}){const[o,f]=Ur.useState(()=>{try{const Y=localStorage.getItem(`refresh_${e}_autoOn`);return Y?JSON.parse(Y)===!0:r}catch{return r}}),[d,g]=Ur.useState(()=>{try{const Y=localStorage.getItem(`refresh_${e}_intervalSec`),L=Y?parseInt(Y,10):n;return Number.isNaN(L)?n:L}catch{return n}}),[p,v]=Ur.useState(()=>Date.now()),[_,b]=Ur.useState(0),[w,S]=Ur.useState(!1);Ur.useEffect(()=>{const Y=setInterval(()=>b(L=>L+1),1e3);return()=>clearInterval(Y)},[]),Ur.useEffect(()=>{try{localStorage.setItem(`refresh_${e}_autoOn`,JSON.stringify(o))}catch{}},[o,e]),Ur.useEffect(()=>{try{localStorage.setItem(`refresh_${e}_intervalSec`,String(d))}catch{}},[d,e]),Ur.useEffect(()=>{if(!o)return;const Y=Date.now(),L=p+d*1e3;Y>=L&&T()},[_,o,d]);const T=async()=>{if(!w){S(!0),v(Date.now());try{await Promise.resolve(t&&t())}catch{}finally{S(!1)}}},A=Ur.useMemo(()=>{if(!o)return null;const Y=p+d*1e3;return Math.max(0,Math.ceil((Y-Date.now())/1e3))},[o,d,p,_]),j=Ur.useMemo(()=>o?null:Math.max(0,Math.floor((Date.now()-p)/1e3)),[o,p,_]),I=()=>{const Y=prompt("Set auto refresh interval (e.g., 45, 90s, 2m, 1h 5m, or HH:MM:SS):",String(d));if(Y==null)return;const L=j9(Y);if(L==null||L<=0){alert("Please enter a valid time greater than 0.");return}g(L)},Z={display:"flex",alignItems:"center",gap:8,...i},Q={padding:"6px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"#f3f4f6",fontWeight:700,cursor:"pointer"};return u.jsxs("div",{className:l,style:Z,children:[u.jsxs("button",{onClick:T,disabled:w,title:w?"Refreshing...":o?"Click to refresh now":"Click to refresh",style:{...Q,background:w?"#fbbf24":"#e5e7eb",borderColor:w?"#f59e0b":"#cbd5e1",opacity:w?.8:1,cursor:w?"not-allowed":"pointer"},children:[w?"":""," ",Mm(o?A:j)]}),u.jsx("button",{onClick:()=>f(Y=>!Y),title:"Auto Refresh",style:{...Q,background:o?"linear-gradient(90deg, #22c55e 60%, #16a34a 100%)":"#e5e7eb",color:o?"#fff":"#111827",border:"none"},children:o?"Auto: ON":"Auto: OFF"}),u.jsx("button",{onClick:I,title:`Set interval (current: ${Mm(d)})`,style:{...Q,padding:"6px 8px",borderRadius:999},children:""})]})}const yd=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(t===!1||t==="false"||t===0||t==="0"||t===null||t===void 0)return!1;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},jS=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1};function L9({width:t=400,height:e=80,opacity:n=.4}){const[r,i]=x.useState([]),[l,o]=x.useState([]),f=x.useRef(0),d=[0,40,80,120,160,200,240,280,320,360,400];return x.useEffect(()=>{let g;function p(){f.current+=.008;const v=d.map((b,w)=>{const S=40+20*Math.sin(f.current+w*.5)+10*Math.sin(f.current*.5+w);return`${b},${Math.round(S+20)}`}),_=d.map((b,w)=>{const S=40+20*Math.cos(f.current+w*.6)+10*Math.cos(f.current*.4+w);return`${b},${Math.round(S)}`});i(v),o(_),g=requestAnimationFrame(p)}return p(),()=>cancelAnimationFrame(g)},[]),u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0,opacity:n},viewBox:`0 0 ${t} ${e}`,fill:"none",preserveAspectRatio:"none",children:[u.jsx("polyline",{points:r.join(" "),stroke:"green",strokeWidth:"4",fill:"none",strokeLinejoin:"round"}),u.jsx("polyline",{points:l.join(" "),stroke:"red",strokeWidth:"4",fill:"none",strokeLinejoin:"round"})]})}const I9=()=>{const t=zc(),[e,n]=x.useState(()=>{if(typeof window<"u"){const ft=localStorage.getItem("pair_stats_theme");return ft?ft==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}),[r,i]=x.useState("Regular"),[l,o]=x.useState("15m"),[f,d]=x.useState([]),[g,p]=x.useState([]),[v,_]=x.useState(!1),[b,w]=x.useState([]),[S,T]=x.useState("All"),[A,j]=x.useState([]),I=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],[Z,Q]=x.useState(()=>{const ft=localStorage.getItem("pair_stats_selected_signals");if(ft)return JSON.parse(ft);const He={};return I.forEach(Ct=>He[Ct]=!0),He}),[Y,L]=x.useState(()=>localStorage.getItem("pair_stats_signal_radio_mode")==="true"),[U,q]=x.useState(()=>localStorage.getItem("pair_stats_signal_toggle_all")==="true"),[ie,xe]=x.useState([]);x.useEffect(()=>{(async()=>{try{const Ct=await(await fetch(Nn("/api/machines"))).json();xe(Array.isArray(Ct.machines)?Ct.machines:[])}catch{xe([])}})()},[]);const ue=ie,[De,We]=x.useState(()=>{const ft=localStorage.getItem("pair_stats_selected_machines");if(ft)return JSON.parse(ft);const He={};return ue.forEach(Ct=>He[Ct.machineid]=!0),He}),[Ye,ee]=x.useState(()=>localStorage.getItem("pair_stats_machine_radio_mode")==="true"),[Pe,Fe]=x.useState(()=>localStorage.getItem("pair_stats_machine_toggle_all")==="true"),[X,D]=x.useState(()=>{const ft=localStorage.getItem("pair_stats_selected_actions");return ft?JSON.parse(ft):{BUY:!0,SELL:!0}}),[J,H]=x.useState(()=>localStorage.getItem("pair_stats_action_radio_mode")==="true"),[K,P]=x.useState(()=>localStorage.getItem("pair_stats_action_toggle_all")==="true");x.useEffect(()=>{fetch(Nn("/api/trades")).then(ft=>ft.json()).then(ft=>{const He=Array.isArray(ft.trades)?ft.trades:[];d(He);const Ct=[...new Set(He.map(yn=>yn.pair).filter(Boolean))];p(Ct)}).catch(()=>{d([]),p([])})},[]);const G=async()=>{try{const[ft,He]=await Promise.all([fetch(Nn("/api/machines")),fetch(Nn("/api/trades"))]),Ct=ft.ok?await ft.json():{machines:[]},yn=He.ok?await He.json():{trades:[]},mn=Array.isArray(Ct.machines)?Ct.machines:[],Gn=Array.isArray(yn.trades)?yn.trades:[];xe(mn),d(Gn);const cr=[...new Set(Gn.map(ge=>ge.pair).filter(Boolean))];p(cr)}catch{}};x.useEffect(()=>{g.length>0&&console.log("Unique symbols in dashboard:",g,"Count:",g.length)},[g]);const oe=pn(f);function Ne(ft,He){if(He==="All")return ft;switch(He){case"Total Closed Stats":return ft.filter(Ct=>Ct.type==="close"||Ct.type==="hedge_close");case"Direct Closed Stats":return ft.filter(Ct=>Ct.type==="close");case"Hedge Closed Stats":return ft.filter(Ct=>yd(Ct.hedge)&&Ct.type==="hedge_close");case"Total Running Stats":return ft.filter(Ct=>Ct.type==="running"||Ct.type==="hedge_hold");case"Direct Running Stats":return ft.filter(Ct=>{const yn=yd(Ct.hedge);return(Ct.type==="running"||Ct.type==="hedge_hold")&&!yn});case"Hedge Running Stats":return ft.filter(Ct=>{const yn=yd(Ct.hedge);return!jS(Ct.hedge_1_1_bool)&&yn&&(Ct.type==="running"||Ct.type==="hedge_hold")});case"Total Stats":return ft;case"Buy Sell Stats":return ft.filter(Ct=>Ct.action==="BUY"||Ct.action==="SELL");case"Hedge on Hold":return ft.filter(Ct=>{const yn=yd(Ct.hedge),mn=jS(Ct.hedge_1_1_bool);return yn&&mn&&(Ct.type==="running"||Ct.type==="hedge_hold")});default:return ft}}const Ie=Ne(oe,S),Je=[...new Set(Ie.map(ft=>ft.pair).filter(Boolean))];x.useEffect(()=>{Je.length>0?console.log("Filtered symbols for",S,":",Je,"Count:",Je.length):console.log("No symbols for",S)},[Je,S]);const Ke=ft=>{v?w(He=>He.some(yn=>yn===ft)?He.filter(yn=>yn!==ft):[...He,ft]):t(`/reports/list?pair=${encodeURIComponent(ft)}&interval=${encodeURIComponent(l)}&type=${encodeURIComponent(r)}`)};function pn(ft){return ft.filter(He=>!(Object.keys(Z).length&&!Z[He.signalfrom]||Object.keys(De).length&&!De[He.machineid]||Object.keys(X).length&&!X[He.action]))}pn(f),x.useEffect(()=>{e?(document.body.classList.add("dark"),localStorage.setItem("pair_stats_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pair_stats_theme","light"))},[e]);const Ft=u.jsx($0,{canonicalSignalKeys:I,selectedSignals:Z,setSelectedSignals:Q,signalRadioMode:Y,setSignalRadioMode:L,signalToggleAll:U,setSignalToggleAll:q,allMachines:ue,selectedMachines:De,setSelectedMachines:We,machineRadioMode:Ye,setMachineRadioMode:ee,machineToggleAll:Pe,setMachineToggleAll:Fe,selectedActions:X,setSelectedActions:D,actionRadioMode:J,setActionRadioMode:H,actionToggleAll:K,setActionToggleAll:P,trades:f,darkMode:e}),[un,Zt]=x.useState(!1),Bn=Ie.filter(ft=>Je.includes(ft.pair));return u.jsxs("div",{style:{minHeight:"100vh",width:"100vw",position:"relative",background:e?"#000":"#f8fafc",display:"flex"},children:[u.jsx(y1,{isOpen:un,toggleSidebar:()=>Zt(!un)}),u.jsxs("div",{style:{flex:1,minWidth:0,marginLeft:un?"256px":"80px",transition:"margin-left 0.3s",padding:"0 24px"},children:[u.jsxs("div",{className:"sticky top-0 z-40 flex justify-between items-center border-b border-gray-200 dark:border-gray-700 shadow-sm bg-[#f5f6fa] dark:bg-black",style:{minHeight:"80px",height:"80px",padding:"0 16px",position:"relative",overflow:"hidden"},children:[u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none"},children:u.jsx(L9,{width:1600,height:80,opacity:.4})}),u.jsx("div",{style:{width:48,zIndex:1}}),u.jsxs("h1",{className:"relative z-10 text-4xl font-extrabold text-center bg-gradient-to-r from-blue-500 via-pink-500 to-yellow-400 bg-clip-text text-transparent drop-shadow-lg tracking-tight animate-pulse",style:{WebkitTextStroke:"1px #222",textShadow:"0 4px 24px rgba(0,0,0,0.18)",margin:0,zIndex:1},children:["LAB",u.jsx("span",{className:"block w-16 h-1 mx-auto mt-2 rounded-full bg-gradient-to-r from-blue-400 via-pink-400 to-yellow-300 animate-gradient-x"})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginRight:0,zIndex:1},children:[u.jsx(a4,{onRefresh:G,storageKey:"report_dashboard",initialIntervalSec:60,initialAutoOn:!1}),u.jsxs("button",{onClick:()=>_(ft=>!ft),style:{background:v?"linear-gradient(90deg, #22c55e 60%, #16a34a 100%)":"linear-gradient(90deg, #e5e7eb 60%, #d1d5db 100%)",color:v?"#fff":"#222",border:"none",borderRadius:10,padding:"6px 14px",fontWeight:700,fontSize:15,cursor:"pointer",marginRight:4,boxShadow:v?"0 2px 8px #22c55e44":"0 1px 2px #8882",transition:"all 0.18s cubic-bezier(.4,2,.6,1)",transform:v?"scale(1.04)":"scale(1)",outline:v?"2px solid #22c55e":"none",display:"flex",alignItems:"center",gap:6},className:v?"animate-pulse":"",title:"Enable/Disable Group Mode",children:[u.jsx("span",{style:{fontSize:18},children:v?"":""}),"Group Mode"]}),u.jsxs("button",{onClick:()=>{const ft=new Set(A),He=new Set(b),Ct=A.every(yn=>He.has(yn));w(Ct?b.filter(yn=>!ft.has(yn)):Array.from(new Set([...b,...A])))},disabled:!v,style:{padding:"6px 14px",borderRadius:10,border:"none",background:v?"#2563eb":"#e5e7eb",color:v?"#fff":"#888",fontWeight:700,fontSize:15,boxShadow:v?"0 2px 8px #2563eb44":"0 1px 2px #8882",cursor:v?"pointer":"not-allowed",opacity:v?1:.6,transition:"all 0.18s cubic-bezier(.4,2,.6,1)",display:"flex",alignItems:"center",gap:6},title:"Select/Unselect All",children:[u.jsx("span",{style:{fontSize:18},children:b.length===A.length?"":""}),"Select All"]}),u.jsxs("button",{onClick:()=>{const ft=b.join(",");t(`/pages/group-view?symbols=${encodeURIComponent(ft)}&interval=${encodeURIComponent(l)}&type=${encodeURIComponent(r)}`)},disabled:b.length===0,style:{padding:"6px 14px",borderRadius:10,border:"none",background:b.length>0?"linear-gradient(90deg, #6366f1 60%, #0ea5e9 100%)":"#e5e7eb",color:b.length>0?"#fff":"#888",fontWeight:700,fontSize:15,boxShadow:b.length>0?"0 2px 8px #6366f144":"0 1px 2px #8882",cursor:b.length>0?"pointer":"not-allowed",opacity:b.length>0?1:.6,transition:"all 0.18s cubic-bezier(.4,2,.6,1)",display:"flex",alignItems:"center",gap:6,animation:b.length>0?"pulse 1.2s infinite":"none"},title:"View Selected Group",children:[u.jsx("span",{style:{fontSize:18},children:""}),"View in Group (",b.length,")"]}),u.jsx("button",{onClick:()=>n(ft=>!ft),className:"z-20 p-2 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-110 transition-all",title:e?"Switch to Light Mode":"Switch to Dark Mode",style:{fontSize:22,marginLeft:10},children:e?"":""})]})]}),u.jsx(z1,{onPairSelect:Ke,candleType:r,interval:l,trades:Bn,selectedPair:null,darkMode:e,filterBar:Ft,groupModeEnabled:v,selectedGroupPairs:b,setSelectedGroupPairs:w,showForClubFilter:S,setShowForClubFilter:T,onVisiblePairsChange:j},"main-grid")]})]})},P9=({gridPreview:t,filterBar:e})=>u.jsx("div",{style:{padding:32,position:"relative"},children:u.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:24,marginBottom:24,width:"100%",minWidth:0},children:[u.jsx("div",{style:{minWidth:220,minHeight:180},children:t}),u.jsx("div",{style:{flex:1,minWidth:0,maxWidth:"100%",overflowX:"auto",background:"rgba(255,255,255,0.04)",borderRadius:16,border:"1.5px solid #333",padding:8,marginLeft:0},children:u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16,width:"100%",minWidth:0},children:e})})]})}),l4=x.createContext({dragDropManager:void 0});function Is(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var LS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),IS=function(){return Math.random().toString(36).substring(7).split("").join(".")},PS={INIT:"@@redux/INIT"+IS(),REPLACE:"@@redux/REPLACE"+IS()};function F9(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function o4(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Is(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Is(1));return n(o4)(t,e)}if(typeof t!="function")throw new Error(Is(2));var i=t,l=e,o=[],f=o,d=!1;function g(){f===o&&(f=o.slice())}function p(){if(d)throw new Error(Is(3));return l}function v(S){if(typeof S!="function")throw new Error(Is(4));if(d)throw new Error(Is(5));var T=!0;return g(),f.push(S),function(){if(T){if(d)throw new Error(Is(6));T=!1,g();var j=f.indexOf(S);f.splice(j,1),o=null}}}function _(S){if(!F9(S))throw new Error(Is(7));if(typeof S.type>"u")throw new Error(Is(8));if(d)throw new Error(Is(9));try{d=!0,l=i(l,S)}finally{d=!1}for(var T=o=f,A=0;A<T.length;A++){var j=T[A];j()}return S}function b(S){if(typeof S!="function")throw new Error(Is(10));i=S,_({type:PS.REPLACE})}function w(){var S,T=v;return S={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(Is(11));function I(){j.next&&j.next(p())}I();var Z=T(I);return{unsubscribe:Z}}},S[LS]=function(){return this},S}return _({type:PS.INIT}),r={dispatch:_,subscribe:v,getState:p,replaceReducer:b},r[LS]=w,r}function jn(t,e,...n){if(z9()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(e.replace(/%s/g,function(){return n[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function z9(){return typeof process<"u"&&!0}function B9(t,e,n){return e.split(".").reduce((r,i)=>r&&r[i]?r[i]:n||null,t)}function H9(t,e){return t.filter(n=>n!==e)}function c4(t){return typeof t=="object"}function U9(t,e){const n=new Map,r=l=>{n.set(l,n.has(l)?n.get(l)+1:1)};t.forEach(r),e.forEach(r);const i=[];return n.forEach((l,o)=>{l===1&&i.push(o)}),i}function $9(t,e){return t.filter(n=>e.indexOf(n)>-1)}const B1="dnd-core/INIT_COORDS",W0="dnd-core/BEGIN_DRAG",H1="dnd-core/PUBLISH_DRAG_SOURCE",V0="dnd-core/HOVER",Y0="dnd-core/DROP",G0="dnd-core/END_DRAG";function FS(t,e){return{type:B1,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const W9={type:B1,payload:{clientOffset:null,sourceClientOffset:null}};function V9(t){return function(n=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:l,getSourceClientOffset:o}=r,f=t.getMonitor(),d=t.getRegistry();t.dispatch(FS(l)),Y9(n,f,d);const g=X9(n,f);if(g==null){t.dispatch(W9);return}let p=null;if(l){if(!o)throw new Error("getSourceClientOffset must be defined");G9(o),p=o(g)}t.dispatch(FS(l,p));const _=d.getSource(g).beginDrag(f,g);if(_==null)return;q9(_),d.pinSource(g);const b=d.getSourceType(g);return{type:W0,payload:{itemType:b,item:_,sourceId:g,clientOffset:l||null,sourceClientOffset:p||null,isSourcePublic:!!i}}}}function Y9(t,e,n){jn(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){jn(n.getSource(r),"Expected sourceIds to be registered.")})}function G9(t){jn(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function q9(t){jn(c4(t),"Item must be an object.")}function X9(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function J9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){J9(t,i,n[i])})}return t}function Z9(t){return function(n={}){const r=t.getMonitor(),i=t.getRegistry();Q9(r),nH(r).forEach((o,f)=>{const d=eH(o,f,i,r),g={type:Y0,payload:{dropResult:K9({},n,d)}};t.dispatch(g)})}}function Q9(t){jn(t.isDragging(),"Cannot call drop while not dragging."),jn(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function eH(t,e,n,r){const i=n.getTarget(t);let l=i?i.drop(r,t):void 0;return tH(l),typeof l>"u"&&(l=e===0?{}:r.getDropResult()),l}function tH(t){jn(typeof t>"u"||c4(t),"Drop result must either be an object or undefined.")}function nH(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function rH(t){return function(){const n=t.getMonitor(),r=t.getRegistry();iH(n);const i=n.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(n,i),r.unpinSource()),{type:G0}}}function iH(t){jn(t.isDragging(),"Cannot call endDrag while not dragging.")}function mx(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function sH(t){return function(n,{clientOffset:r}={}){aH(n);const i=n.slice(0),l=t.getMonitor(),o=t.getRegistry(),f=l.getItemType();return oH(i,o,f),lH(i,l,o),cH(i,l,o),{type:V0,payload:{targetIds:i,clientOffset:r||null}}}}function aH(t){jn(Array.isArray(t),"Expected targetIds to be an array.")}function lH(t,e,n){jn(e.isDragging(),"Cannot call hover while not dragging."),jn(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const i=t[r];jn(t.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const l=n.getTarget(i);jn(l,"Expected targetIds to be registered.")}}function oH(t,e,n){for(let r=t.length-1;r>=0;r--){const i=t[r],l=e.getTargetType(i);mx(l,n)||t.splice(r,1)}}function cH(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function uH(t){return function(){if(t.getMonitor().isDragging())return{type:H1}}}function fH(t){return{beginDrag:V9(t),publishDragSource:uH(t),hover:sH(t),drop:Z9(t),endDrag:rH(t)}}class hH{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(l){return(...o)=>{const f=l.apply(e,o);typeof f<"u"&&n(f)}}const i=fH(this);return Object.keys(i).reduce((l,o)=>{const f=i[o];return l[o]=r(f),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function dH(t,e){return{x:t.x+e.x,y:t.y+e.y}}function u4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gH(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:u4(dH(e,r),n)}function pH(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:u4(e,n)}const df=[],U1=[];df.__IS_NONE__=!0;U1.__IS_ALL__=!0;function mH(t,e){return t===df?!1:t===U1||typeof e>"u"?!0:$9(e,t).length>0}class xH{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;jn(typeof e=="function","listener must be a function."),jn(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const l=()=>{const o=this.store.getState(),f=o.stateId;try{f===i||f===i+1&&!mH(o.dirtyHandlerIds,r)||e()}finally{i=f}};return this.store.subscribe(l)}subscribeToOffsetChange(e){jn(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return jn(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(jn(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();return mx(r,i)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(jn(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),i=this.getItemType();return r!==i?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),l=this.getItemType();if(l&&!mx(i,l))return!1;const o=this.getTargetIds();if(!o.length)return!1;const f=o.indexOf(e);return r?f===o.length-1:f>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return gH(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return pH(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const zS=typeof global<"u"?global:self,f4=zS.MutationObserver||zS.WebKitMutationObserver;function h4(t){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),t()}}}function vH(t){let e=1;const n=new f4(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const yH=typeof f4=="function"?vH:h4;class bH{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,i=e.length-this.index;r<i;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=yH(this.flush),this.requestErrorThrow=h4(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class _H{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class SH{create(e){const n=this.freeTasks,r=n.length?n.pop():new _H(this.onError,i=>n[n.length]=i);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const d4=new bH,wH=new SH(d4.registerPendingError);function EH(t){d4.enqueueTask(wH.create(t))}const $1="dnd-core/ADD_SOURCE",W1="dnd-core/ADD_TARGET",V1="dnd-core/REMOVE_SOURCE",q0="dnd-core/REMOVE_TARGET";function TH(t){return{type:$1,payload:{sourceId:t}}}function kH(t){return{type:W1,payload:{targetId:t}}}function CH(t){return{type:V1,payload:{sourceId:t}}}function NH(t){return{type:q0,payload:{targetId:t}}}function OH(t){jn(typeof t.canDrag=="function","Expected canDrag to be a function."),jn(typeof t.beginDrag=="function","Expected beginDrag to be a function."),jn(typeof t.endDrag=="function","Expected endDrag to be a function.")}function AH(t){jn(typeof t.canDrop=="function","Expected canDrop to be a function."),jn(typeof t.hover=="function","Expected hover to be a function."),jn(typeof t.drop=="function","Expected beginDrag to be a function.")}function xx(t,e){if(e&&Array.isArray(t)){t.forEach(n=>xx(n,!1));return}jn(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Us;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Us||(Us={}));let DH=0;function MH(){return DH++}function RH(t){const e=MH().toString();switch(t){case Us.SOURCE:return`S${e}`;case Us.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function BS(t){switch(t[0]){case"S":return Us.SOURCE;case"T":return Us.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function HS(t,e){const n=t.entries();let r=!1;do{const{done:i,value:[,l]}=n.next();if(l===e)return!0;r=!!i}while(!r);return!1}class jH{addSource(e,n){xx(e),OH(n);const r=this.addHandler(Us.SOURCE,e,n);return this.store.dispatch(TH(r)),r}addTarget(e,n){xx(e,!0),AH(n);const r=this.addHandler(Us.TARGET,e,n);return this.store.dispatch(kH(r)),r}containsHandler(e){return HS(this.dragSources,e)||HS(this.dropTargets,e)}getSource(e,n=!1){return jn(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return jn(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return jn(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return jn(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return BS(e)===Us.SOURCE}isTargetId(e){return BS(e)===Us.TARGET}removeSource(e){jn(this.getSource(e),"Expected an existing source."),this.store.dispatch(CH(e)),EH(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){jn(this.getTarget(e),"Expected an existing target."),this.store.dispatch(NH(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);jn(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){jn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const i=RH(e);return this.types.set(i,n),e===Us.SOURCE?this.dragSources.set(i,r):e===Us.TARGET&&this.dropTargets.set(i,r),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const LH=(t,e)=>t===e;function IH(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function PH(t,e,n=LH){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function FH(t=df,e){switch(e.type){case V0:break;case $1:case W1:case q0:case V1:return df;case W0:case H1:case G0:case Y0:default:return U1}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,i=U9(n,r);if(!(i.length>0||!PH(n,r)))return df;const o=r[r.length-1],f=n[n.length-1];return o!==f&&(o&&i.push(o),f&&i.push(f)),i}function zH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){zH(t,i,n[i])})}return t}const US={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function HH(t=US,e){const{payload:n}=e;switch(e.type){case B1:case W0:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case V0:return IH(t.clientOffset,n.clientOffset)?t:BH({},t,{clientOffset:n.clientOffset});case G0:case Y0:return US;default:return t}}function UH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){UH(t,i,n[i])})}return t}const $H={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function WH(t=$H,e){const{payload:n}=e;switch(e.type){case W0:return yc({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case H1:return yc({},t,{isSourcePublic:!0});case V0:return yc({},t,{targetIds:n.targetIds});case q0:return t.targetIds.indexOf(n.targetId)===-1?t:yc({},t,{targetIds:H9(t.targetIds,n.targetId)});case Y0:return yc({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case G0:return yc({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function VH(t=0,e){switch(e.type){case $1:case W1:return t+1;case V1:case q0:return t-1;default:return t}}function YH(t=0){return t+1}function GH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){GH(t,i,n[i])})}return t}function XH(t={},e){return{dirtyHandlerIds:FH(t.dirtyHandlerIds,{type:e.type,payload:qH({},e.payload,{prevTargetIds:B9(t,"dragOperation.targetIds",[])})}),dragOffset:HH(t.dragOffset,e),refCount:VH(t.refCount,e),dragOperation:WH(t.dragOperation,e),stateId:YH(t.stateId)}}function JH(t,e=void 0,n={},r=!1){const i=KH(r),l=new xH(i,new jH(i)),o=new hH(i,l),f=t(o,e,n);return o.receiveBackend(f),o}function KH(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return o4(XH,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function ZH(t,e){if(t==null)return{};var n=QH(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let $S=0;const Rd=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Y1=x.memo(function(e){var{children:n}=e,r=ZH(e,["children"]);const[i,l]=eU(r);return x.useEffect(()=>{if(l){const o=g4();return++$S,()=>{--$S===0&&(o[Rd]=null)}}},[]),u.jsx(l4.Provider,{value:i,children:n})});function eU(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=tU(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function tU(t,e=g4(),n,r){const i=e;return i[Rd]||(i[Rd]={dragDropManager:JH(t,e,n,r)}),i[Rd]}function g4(){return typeof global<"u"?global:window}var Rm,WS;function nU(){return WS||(WS=1,Rm=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,l;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[i]))return!1;for(i=r;i--!==0;){var o=l[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Rm}var rU=nU();const iU=Sx(rU),Ro=typeof window<"u"?x.useLayoutEffect:x.useEffect;function sU(t,e,n){const[r,i]=x.useState(()=>e(t)),l=x.useCallback(()=>{const o=e(t);iU(r,o)||(i(o),n&&n())},[r,t,n]);return Ro(l),[r,l]}function aU(t,e,n){const[r,i]=sU(t,e,n);return Ro(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(i,{handlerIds:[o]})},[t,i]),r}function p4(t,e,n){return aU(e,t||(()=>({})),()=>n.reconnect())}function m4(t,e){const n=[];return typeof t!="function"&&n.push(t),x.useMemo(()=>typeof t=="function"?t():t,n)}function lU(t){return x.useMemo(()=>t.hooks.dragSource(),[t])}function oU(t){return x.useMemo(()=>t.hooks.dragPreview(),[t])}let jm=!1,Lm=!1;class cU{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){jn(!jm,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return jm=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{jm=!1}}isDragging(){if(!this.sourceId)return!1;jn(!Lm,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Lm=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Lm=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Im=!1;class uU{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;jn(!Im,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Im=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Im=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function fU(t,e,n){const r=n.getRegistry(),i=r.addTarget(t,e);return[i,()=>r.removeTarget(i)]}function hU(t,e,n){const r=n.getRegistry(),i=r.addSource(t,e);return[i,()=>r.removeSource(i)]}function vx(t,e,n,r){let i;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const l=Object.keys(t),o=Object.keys(e);if(l.length!==o.length)return!1;const f=Object.prototype.hasOwnProperty.bind(e);for(let d=0;d<l.length;d++){const g=l[d];if(!f(g))return!1;const p=t[g],v=e[g];if(i=void 0,i===!1||i===void 0&&p!==v)return!1}return!0}function yx(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dU(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function gU(t){return(e=null,n=null)=>{if(!x.isValidElement(e)){const l=e;return t(l,n),l}const r=e;return dU(r),pU(r,n?l=>t(l,n):t)}}function x4(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const i=gU(r);e[n]=()=>i}}),e}function VS(t,e){typeof t=="function"?t(e):t.current=e}function pU(t,e){const n=t.ref;return jn(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?x.cloneElement(t,{ref:r=>{VS(n,r),VS(e,r)}}):x.cloneElement(t,{ref:e})}class mU{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!vx(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!vx(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=x4({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,yx(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,yx(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class xU{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!vx(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=x4({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,yx(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Xc(){const{dragDropManager:t}=x.useContext(l4);return jn(t!=null,"Expected drag drop context"),t}function vU(t,e){const n=Xc(),r=x.useMemo(()=>new mU(n.getBackend()),[n]);return Ro(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Ro(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function yU(){const t=Xc();return x.useMemo(()=>new cU(t),[t])}class bU{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,i=this.monitor,{isDragging:l}=r;return l?l(i):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:i}=e;i&&i(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function _U(t,e,n){const r=x.useMemo(()=>new bU(t,e,n),[e,n]);return x.useEffect(()=>{r.spec=t},[t]),r}function SU(t){return x.useMemo(()=>{const e=t.type;return jn(e!=null,"spec.type must be defined"),e},[t])}function wU(t,e,n){const r=Xc(),i=_U(t,e,n),l=SU(t);Ro(function(){if(l!=null){const[f,d]=hU(l,i,r);return e.receiveHandlerId(f),n.receiveHandlerId(f),d}},[r,e,n,i,l])}function G1(t,e){const n=m4(t);jn(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=yU(),i=vU(n.options,n.previewOptions);return wU(n,r,i),[p4(n.collect,r,i),lU(i),oU(i)]}function EU(t){return x.useMemo(()=>t.hooks.dropTarget(),[t])}function TU(t){const e=Xc(),n=x.useMemo(()=>new xU(e.getBackend()),[e]);return Ro(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function kU(){const t=Xc();return x.useMemo(()=>new uU(t),[t])}function CU(t){const{accept:e}=t;return x.useMemo(()=>(jn(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class NU{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function OU(t,e){const n=x.useMemo(()=>new NU(t,e),[e]);return x.useEffect(()=>{n.spec=t},[t]),n}function AU(t,e,n){const r=Xc(),i=OU(t,e),l=CU(t);Ro(function(){const[f,d]=fU(l,i,r);return e.receiveHandlerId(f),n.receiveHandlerId(f),d},[r,e,i,n,l.map(o=>o.toString()).join("|")])}function q1(t,e){const n=m4(t),r=kU(),i=TU(n.options);return AU(n,r,i),[p4(n.collect,r,i),EU(i)]}function v4(t){let e=null;return()=>(e==null&&(e=t()),e)}function DU(t,e){return t.filter(n=>n!==e)}function MU(t,e){const n=new Set,r=l=>n.add(l);t.forEach(r),e.forEach(r);const i=[];return n.forEach(l=>i.push(l)),i}class RU{enter(e){const n=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=MU(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=DU(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class jU{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(n[r]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const y4="__NATIVE_FILE__",b4="__NATIVE_URL__",_4="__NATIVE_TEXT__",S4="__NATIVE_HTML__",YS=Object.freeze(Object.defineProperty({__proto__:null,FILE:y4,HTML:S4,TEXT:_4,URL:b4},Symbol.toStringTag,{value:"Module"}));function Pm(t,e,n){const r=e.reduce((i,l)=>i||t.getData(l),"");return r??n}const bx={[y4]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[S4]:{exposeProperties:{html:(t,e)=>Pm(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[b4]:{exposeProperties:{urls:(t,e)=>Pm(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[_4]:{exposeProperties:{text:(t,e)=>Pm(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function LU(t,e){const n=bx[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new jU(n);return r.loadDataTransfer(e),r}function Fm(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(bx).filter(n=>{const r=bx[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const IU=v4(()=>/firefox/i.test(navigator.userAgent)),w4=v4(()=>!!window.safari);class GS{interpolate(e){const{xs:n,ys:r,c1s:i,c2s:l,c3s:o}=this;let f=n.length-1;if(e===n[f])return r[f];let d=0,g=o.length-1,p;for(;d<=g;){p=Math.floor(.5*(d+g));const b=n[p];if(b<e)d=p+1;else if(b>e)g=p-1;else return r[p]}f=Math.max(0,g);const v=e-n[f],_=v*v;return r[f]+i[f]*v+l[f]*_+o[f]*v*_}constructor(e,n){const{length:r}=e,i=[];for(let b=0;b<r;b++)i.push(b);i.sort((b,w)=>e[b]<e[w]?-1:1);const l=[],o=[];let f,d;for(let b=0;b<r-1;b++)f=e[b+1]-e[b],d=n[b+1]-n[b],l.push(f),o.push(d/f);const g=[o[0]];for(let b=0;b<l.length-1;b++){const w=o[b],S=o[b+1];if(w*S<=0)g.push(0);else{f=l[b];const T=l[b+1],A=f+T;g.push(3*A/((A+T)/w+(A+f)/S))}}g.push(o[o.length-1]);const p=[],v=[];let _;for(let b=0;b<g.length-1;b++){_=o[b];const w=g[b],S=1/l[b],T=w+g[b+1]-_-_;p.push((_-w-T)*S),v.push(T*S*S)}this.xs=e,this.ys=n,this.c1s=g,this.c2s=p,this.c3s=v}}const PU=1;function E4(t){const e=t.nodeType===PU?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function bd(t){return{x:t.clientX,y:t.clientY}}function FU(t){var e;return t.nodeName==="IMG"&&(IU()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function zU(t,e,n,r){let i=t?e.width:n,l=t?e.height:r;return w4()&&t&&(l/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:l}}function BU(t,e,n,r,i){const l=FU(e),f=E4(l?t:e),d={x:n.x-f.x,y:n.y-f.y},{offsetWidth:g,offsetHeight:p}=t,{anchorX:v,anchorY:_}=r,{dragPreviewWidth:b,dragPreviewHeight:w}=zU(l,e,g,p),S=()=>{let Y=new GS([0,.5,1],[d.y,d.y/p*w,d.y+w-p]).interpolate(_);return w4()&&l&&(Y+=(window.devicePixelRatio-1)*w),Y},T=()=>new GS([0,.5,1],[d.x,d.x/g*b,d.x+b-g]).interpolate(v),{offsetX:A,offsetY:j}=i,I=A===0||A,Z=j===0||j;return{x:I?A:T(),y:Z?j:S()}}class HU{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function UU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){UU(t,i,n[i])})}return t}class $U{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const i=o=>this.handleDragStart(o,e),l=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",i),n.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",i),n.removeEventListener("selectstart",l),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),l=o=>this.handleDrop(o,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",i),n.addEventListener("drop",l),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",i),n.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return qS({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return qS({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(YS).some(n=>YS[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=LU(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const l=this.sourceNodes.get(i);return l&&E4(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const o=bd(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:f}=i,d=Fm(f);if(this.monitor.isDragging()){if(f&&typeof f.setDragImage=="function"){const p=this.monitor.getSourceId(),v=this.sourceNodes.get(p),_=this.sourcePreviewNodes.get(p)||v;if(_){const{anchorX:b,anchorY:w,offsetX:S,offsetY:T}=this.getCurrentSourcePreviewNodeOptions(),I=BU(v,_,o,{anchorX:b,anchorY:w},{offsetX:S,offsetY:T});f.setDragImage(_,I.x,I.y)}}try{f==null||f.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:g}=this.getCurrentSourcePreviewNodeOptions();g?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(d)this.beginDragNativeItem(d);else{if(f&&!f.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:f}=i,d=Fm(f);d&&this.beginDragNativeItem(d,f)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,l.length>0&&this.actions.hover(l,{clientOffset:bd(i)}),l.some(f=>this.monitor.canDropOnTarget(f))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=bd(i),this.scheduleHover(l),(l||[]).some(f=>this.monitor.canDropOnTarget(f))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;i.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(i.dataTransfer)}else Fm(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:bd(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const l=i.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(i.preventDefault(),l.dragDrop()))},this.options=new HU(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new RU(this.isNodeInDocument)}}const X1=function(e,n,r){return new $U(e,n,r)};function WU(){return new URLSearchParams($s().search)}const XS=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],JS=["1m","3m","5m","15m","30m","1h","4h","1d"],Wu=[{label:"Symbol",value:"symbol"},{label:"Interval",value:"interval"},{label:"Signal Type",value:"signal_type"},{label:"Signal Source",value:"signal_source"},{label:"Candle Pattern",value:"candle_pattern"},{label:"Price",value:"price"},{label:"Squeeze Status",value:"squeeze_status"},{label:"Active Squeeze",value:"active_squeeze"},{label:"Machine ID",value:"machine_id"},{label:"Timestamp",value:"timestamp"},{label:"Processing Time",value:"processing_time_ms"},{label:"Created At",value:"created_at"},{label:"Unique ID",value:"Unique_id"},{label:"PL",value:"PL"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1",value:"Hedge_1_1"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Active Squeeze Trend",value:"signal_data_active_squeeze_trend"},{label:"Overall Trend RC",value:"signal_data_overall_trend_RC"},{label:"Overall Trend Percentage RC",value:"signal_data_overall_trend_percentage_RC"},{label:"Overall Trend HC",value:"signal_data_overall_trend_HC"},{label:"Overall Trend Percentage HC",value:"signal_data_overall_trend_percentage_HC"},{label:"Overall Trend 4h",value:"signal_data_overall_trend_4h"},{label:"Overall Trend Percentage 4h",value:"signal_data_overall_trend_percentage_4h"},{label:"Overall Trend 1h",value:"signal_data_overall_trend_1h"},{label:"Overall Trend Percentage 1h",value:"signal_data_overall_trend_percentage_1h"},{label:"Volume 1h",value:"signal_data_volume_1h"}],VU=[{label:"Machine ID",value:"MachineId"},{label:"Unique ID",value:"Unique_id"},{label:"Candle Time",value:"Candel_time"},{label:"Fetcher Trade Time",value:"Fetcher_Trade_time"},{label:"Operator Trade Time",value:"Operator_Trade_time"},{label:"Pair",value:"Pair"},{label:"Interval",value:"Interval"},{label:"Action",value:"Action"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Type",value:"Type"},{label:"Operator Close Time",value:"Operator_Close_time"},{label:"Signal From",value:"SignalFrom"},{label:"Profit Journey",value:"Profit_journey"},{label:"Commission Journey",value:"Commision_journey"},{label:"Stop Price",value:"Stop_price"},{label:"Save Price",value:"Save_price"},{label:"Min Comm",value:"Min_comm"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1 Bool",value:"Hedge_1_1_bool"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Min Profit",value:"Min_profit"},{label:"Buy Qty",value:"Buy_qty"},{label:"Buy Price",value:"Buy_price"},{label:"Buy PL",value:"Buy_pl"},{label:"Added Qty",value:"Added_qty"},{label:"Sell Qty",value:"Sell_qty"},{label:"Sell Price",value:"Sell_price"},{label:"Sell PL",value:"Sell_pl"},{label:"Close Price",value:"Close_price"},{label:"Commission",value:"Commission"},{label:"Investment",value:"Investment"},{label:"Swing1",value:"Swing1"},{label:"Swing2",value:"Swing2"},{label:"Swing3",value:"Swing3"},{label:"Swing4",value:"Swing4"},{label:"Swing5",value:"Swing5"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Temp High Point",value:"Temp_High_Point"},{label:"Temp Low Point",value:"Temp_Low_Point"}],KS="LABEL_ROW";function YU({item:t,index:e,moveLabel:n,children:r,onHover:i,onDrop:l}){const o=Ur.useRef(null),[,f]=q1({accept:KS,hover(p){p.index!==e&&(n(p.index,e),p.index=e,i&&i())},drop(){l&&l()}}),[{isDragging:d},g]=G1({type:KS,item:{index:e},collect:p=>({isDragging:p.isDragging()})});return g(f(o)),u.jsx("div",{ref:o,style:{opacity:d?.5:1,cursor:"grab",width:"auto",minWidth:160,maxWidth:340,flex:"1 1 220px",marginBottom:0,background:"inherit",boxSizing:"border-box",display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:r})}function GU({items:t,moveLabel:e,renderRow:n,activeJsonLabels:r,setActiveJsonLabels:i,showUnchecked:l,dragOverIndex:o,setDragOverIndex:f}){return u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,width:"100%",alignItems:"flex-start",justifyContent:"flex-start",boxSizing:"border-box",minHeight:60,position:"relative"},children:t.map((d,g)=>u.jsxs("div",{style:{position:"relative",minWidth:220,maxWidth:340,flex:"1 1 220px",boxSizing:"border-box",marginBottom:0,display:"flex"},children:[o===g&&u.jsxs("div",{style:{position:"absolute",top:-8,left:0,width:"100%",height:0,zIndex:10,pointerEvents:"none",display:"flex",alignItems:"center"},children:[u.jsx("div",{style:{width:32,height:32,background:"#0ea5e9",color:"#fff",borderRadius:"50%",fontWeight:700,fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",marginLeft:8,marginBottom:2},children:g+1}),u.jsx("div",{style:{flex:1,height:4,background:"#ffe066",borderRadius:2,marginLeft:12,marginRight:8}})]}),u.jsxs(YU,{item:d,index:g,moveLabel:e,onHover:()=>f(g),onDrop:()=>f(null),children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:22},children:[u.jsxs("span",{style:{fontWeight:700,color:"#0ea5e9",minWidth:22,textAlign:"right"},children:[g+1,"."]}),d&&d.type==="json"&&Array.isArray(d.intervals)&&(()=>{const p=(d.intervals||[]).filter(({exists:w})=>w),v=p.filter(({interval:w})=>{var S;return!!((S=r==null?void 0:r[d.value])!=null&&S[w])}),_=p.length>0&&v.length===p.length,b=()=>{const w=!_;i(S=>{const T={...S};return T[d.value]||(T[d.value]={}),p.forEach(({interval:A})=>{T[d.value][A]=w}),T})};return u.jsxs("button",{onClick:b,style:{padding:"2px 8px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:_?"#22c55e":"#ef4444",color:"#fff",cursor:"pointer",transition:"background 0.2s",boxShadow:_?"0 2px 4px #22c55e44":"0 2px 4px #ef444444",minWidth:36},title:`${_?"Uncheck":"Check"} all intervals for ${(d==null?void 0:d.label)||""}`,children:[v.length,"/",p.length]})})()]}),n&&n(d,g)]})]},d.type+"_"+d.value))})}const qU=()=>{var Ra,qs;const t=WU(),e=t.get("pair")||"",n=t.get("interval")||"15m",r=t.get("type")||"Regular",i=z=>{if(!z)return"";try{const fe=new Date(z);if(isNaN(fe.getTime()))return z;const ye=fe.getUTCDate().toString().padStart(2,"0"),Ze=(fe.getUTCMonth()+1).toString().padStart(2,"0"),gt=fe.getUTCFullYear().toString().slice(-2),Et=fe.getUTCHours().toString().padStart(2,"0"),Vt=fe.getUTCMinutes().toString().padStart(2,"0");return`${ye}-${Ze}-${gt} ${Et}:${Vt}`}catch{return z}},l=z=>{const fe=["Candle_Time","timestamp","created_at","Time","Candel_time","Fetcher_Trade_time","Operator_Trade_time","Operator_Close_time","candle_time","time","date"],ye=["processing_time_ms","processing_time"];return fe.some(gt=>z.toLowerCase().includes(gt.toLowerCase()))&&!ye.some(gt=>z.toLowerCase().includes(gt.toLowerCase()))},o=(z,fe)=>{if(z==null||z==="")return"";if(l(fe))return i(z);if(fe==="PL"){const ye=parseFloat(z);if(!isNaN(ye))return ye.toFixed(2)}return String(z)},[f,d]=x.useState(()=>{const z=localStorage.getItem("pair_stats_theme");if(z)return z==="dark";const fe=localStorage.getItem("theme");return fe?fe==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{f?(document.body.classList.add("dark"),localStorage.setItem("pair_stats_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pair_stats_theme","light"))},[f]),x.useEffect(()=>{const z=fe=>{if(fe.key==="theme"||fe.key==="pair_stats_theme"){const ye=fe.newValue==="dark";d(ye)}};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[]);const[g,p]=x.useState(()=>{const z=localStorage.getItem("pair_stats_selected_signals");if(z)return JSON.parse(z);const fe={};return XS.forEach(ye=>fe[ye]=!0),fe}),[v,_]=x.useState(()=>localStorage.getItem("pair_stats_signal_radio_mode")==="true"),[b,w]=x.useState(()=>localStorage.getItem("pair_stats_signal_toggle_all")==="true"),[S,T]=x.useState([]);x.useEffect(()=>{(async()=>{try{const ye=await(await fetch(Nn("/api/machines"))).json();T(Array.isArray(ye.machines)?ye.machines:[])}catch{T([])}})()},[]);const A=S,[j,I]=x.useState(()=>{const z=localStorage.getItem("pair_stats_selected_machines");if(z)return JSON.parse(z);const fe={};return A.forEach(ye=>fe[ye.MachineId]=!0),fe}),[Z,Q]=x.useState(()=>localStorage.getItem("pair_stats_machine_radio_mode")==="true"),[Y,L]=x.useState(()=>localStorage.getItem("pair_stats_machine_toggle_all")==="true"),[U,q]=x.useState(()=>{const z=localStorage.getItem("pair_stats_selected_actions");return z?JSON.parse(z):{BUY:!0,SELL:!0}}),[ie,xe]=x.useState(()=>localStorage.getItem("pair_stats_action_radio_mode")==="true"),[ue,De]=x.useState(()=>localStorage.getItem("pair_stats_action_toggle_all")==="true"),[We,Ye]=x.useState([]);x.useEffect(()=>{fetch(Nn("/api/trades")).then(z=>z.json()).then(z=>{const fe=Array.isArray(z.trades)?z.trades:[],ye=e?fe.filter(Ze=>Ze.Pair===e):fe;Ye(ye)}).catch(()=>Ye([]))},[e]);const[ee,Pe]=x.useState([]),[Fe,X]=x.useState(1),[D,J]=x.useState(1),[H,K]=x.useState(0),[P,G]=x.useState(()=>{const z=localStorage.getItem("listview_logs_per_page");return z?parseInt(z):100}),[oe,Ne]=x.useState(!0),[Ie,Je]=x.useState([]),[Ke,pn]=x.useState(!1);x.useEffect(()=>{Ne(!0),X(1);const z=e?`${Nn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&page=1&limit=${P}`:`${Nn("/api/SignalProcessingLogs")}?page=1&limit=${P}`;fetch(z).then(fe=>fe.json()).then(fe=>{var Ze,gt;const ye=Array.isArray(fe.logs)?fe.logs:[];if(Pe(ye),K(((Ze=fe.pagination)==null?void 0:Ze.total)||ye.length),J(((gt=fe.pagination)==null?void 0:gt.totalPages)||1),Ne(!1),Array.isArray(fe.logs)&&fe.logs.length>0){let Et;try{Et=typeof fe.logs[0].json_data=="string"?JSON.parse(fe.logs[0].json_data):fe.logs[0].json_data}catch{return}}}).catch(fe=>{console.error("[ListViewPage] Error fetching logs:",fe),Pe([]),Ne(!1)})},[e,P]);const[Ft,un]=x.useState(()=>{const z=localStorage.getItem("pair_stats_selected_candle_types");return z?JSON.parse(z):{Regular:!0,Heiken:!1}});x.useEffect(()=>{localStorage.setItem("pair_stats_selected_candle_types",JSON.stringify(Ft))},[Ft]);const Zt=ee.filter(z=>{var gt;const fe=((gt=z.candle_pattern)==null?void 0:gt.toLowerCase())||"",ye=fe==="regular"||fe==="normal"||fe==="regular_candle",Ze=fe==="heiken"||fe==="heikin"||fe==="heiken-ashi"||fe==="heiken_ashi"||fe==="heiken_candle";return Ft.Regular&&ye||Ft.Heiken&&Ze?!0:(!Ft.Regular&&!Ft.Heiken,!1)}),Bn=x.useMemo(()=>{const z={Regular:0,Heiken:0,Unknown:0};return ee.forEach(fe=>{var Et;const ye=((Et=fe.candle_pattern)==null?void 0:Et.toLowerCase())||"";ye==="regular"||ye==="normal"||ye==="regular_candle"?z.Regular++:ye==="heiken"||ye==="heikin"||ye==="heiken-ashi"||ye==="heiken_ashi"||ye==="heiken_candle"?z.Heiken++:z.Unknown++}),z},[ee]);function ft(z){return z.filter(fe=>!(Object.keys(g).length&&!g[fe.SignalFrom]||Object.keys(j).length&&!j[fe.MachineId]||Object.keys(U).length&&!U[fe.Action]))}const He=ft(We),Ct=z=>{if(z<1||z>D)return;Ne(!0),X(z);const fe=e?`${Nn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&page=${z}&limit=${P}`:`${Nn("/api/SignalProcessingLogs")}?page=${z}&limit=${P}`;fetch(fe).then(ye=>ye.json()).then(ye=>{var gt;const Ze=Array.isArray(ye.logs)?ye.logs:[];Pe(Ze),console.log(`[ListViewPage] Fetched ${Ze.length} logs for symbol: ${e||"all"} (Page ${z} of ${((gt=ye.pagination)==null?void 0:gt.totalPages)||1})`)}).catch(ye=>{console.error("[ListViewPage] Error fetching logs:",ye),Pe([])}).finally(()=>{Ne(!1)})},yn=u.jsx($0,{canonicalSignalKeys:XS,selectedSignals:g,setSelectedSignals:p,signalRadioMode:v,setSignalRadioMode:_,signalToggleAll:b,setSignalToggleAll:w,allMachines:A,selectedMachines:j,setSelectedMachines:I,machineRadioMode:Z,setMachineRadioMode:Q,machineToggleAll:Y,setMachineToggleAll:L,selectedActions:U,setSelectedActions:q,actionRadioMode:ie,setActionRadioMode:xe,actionToggleAll:ue,setActionToggleAll:De,trades:We,darkMode:f}),mn=localStorage.getItem("pair_stats_reputation_enabled")==="true",Gn=localStorage.getItem("pair_stats_reputation_intensity"),cr=localStorage.getItem("pair_stats_reputation_mode")||"perTrade",ge=We.filter(z=>!(Object.keys(g).length&&!g[z.SignalFrom]||Object.keys(j).length&&!j[z.MachineId]||Object.keys(U).length&&!U[z.Action])),ze=u.jsx(z1,{onPairSelect:()=>{},candleType:r,interval:n,trades:ge,selectedPair:e,previewMode:!0,darkMode:f,reputationEnabled:mn,reputationIntensity:Gn!==null?Number(Gn):0,reputationMode:cr}),nt=x.useMemo(()=>{const z={};return He.forEach(fe=>{fe.Unique_id&&(z[fe.Unique_id]=fe)}),console.log("tradesByUniqueId created:",{totalTrades:He.length,tradesWithUniqueId:Object.keys(z).length,sampleKeys:Object.keys(z).slice(0,5),sampleTrades:Object.values(z).slice(0,3)}),z},[He]),[Ee,Oe]=x.useState(()=>{const z=localStorage.getItem("list_font_size");return z?parseFloat(z):1});x.useEffect(()=>{localStorage.setItem("list_font_size",Ee)},[Ee]),x.useEffect(()=>{const z=localStorage.getItem("pair_stats_selected_json_columns");z&&JSON.parse(z)},[JSON.stringify(Ie)]),x.useEffect(()=>{},[]),Ie&&Ie.length>0,x.useEffect(()=>{localStorage.getItem("pair_stats_selected_columns")},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{localStorage.getItem("pair_stats_selected_trade_columns")},[]),x.useEffect(()=>{},[]);const me="listview_regular_labels",Ge=Wu.map(z=>z.value),cn=()=>{const z=localStorage.getItem(me);return z?JSON.parse(z):Ge},[Qt,V]=x.useState(()=>{const z=localStorage.getItem("listview_settings_modal_open");return z?JSON.parse(z):!1}),[Se,Be]=x.useState(cn()),Mt="listview_json_labels",ot=()=>{const z=localStorage.getItem(Mt);if(z)try{const fe=JSON.parse(z);return fe&&typeof fe=="object"?fe:{}}catch{return{}}return{}},[Dt,ht]=x.useState(ot());function _t(z){const fe=new Set,ye={},Ze=new Set;z.forEach(Et=>{var Ht;if(!Et.json_data)return;let Vt;try{if(typeof Et.json_data=="string"){let C=Et.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Vt=JSON.parse(C)}else Vt=Et.json_data}catch{return}const vt=Vt==null?void 0:Vt.signal_data;vt&&typeof vt=="object"&&Object.keys(vt).forEach(C=>{C!=="all_last_rows"&&Ze.add(C)});const an=(Ht=Vt==null?void 0:Vt.signal_data)==null?void 0:Ht.all_last_rows;an&&typeof an=="object"&&Object.keys(an).forEach(C=>{if(C==="candle_type")return;fe.add(C);const te=an[C];te&&typeof te=="object"&&Object.keys(te).forEach(ne=>{ye[ne]||(ye[ne]=new Set),ye[ne].add(C)})})});const gt=Array.from(fe).sort((Et,Vt)=>{const vt=["1m","3m","5m","15m","30m","1h","2h","4h","1d"];return vt.indexOf(Et)-vt.indexOf(Vt)});return Array.from(Ze).map(Et=>({label:Et.replace(/_/g," "),value:`signal_data_${Et}`})),Object.entries(ye).map(([Et,Vt])=>({label:Et,value:Et,intervals:gt.map(vt=>({interval:vt,exists:Vt.has(vt)}))}))}x.useEffect(()=>{if(ee.length>0){const z=_t(ee);Je(z),pn(!0)}},[ee]);function jt(z,fe){const ye={};z.forEach(an=>{ye[an.value]=an});const Ze=Object.keys(fe||{}),gt=Ze.filter(an=>ye[an]),Et={};z.forEach(an=>{!fe[an.value]&&!Et[an.value]&&(Et[an.value]=an)});const Vt=Object.values(Et),vt=Ze.filter(an=>!ye[an]);return{existed:gt,newlyAdded:Vt,deleted:vt}}jt(Ie,Dt||{}),Ke?Ie.filter(z=>Dt[z.value]).flatMap(z=>(z.intervals||[]).filter(fe=>{var ye;return(ye=Dt[z.value])==null?void 0:ye[fe]}).map(fe=>({parent:z,interval:fe}))):Object.keys(Dt).flatMap(z=>Object.keys(Dt[z]||{}).filter(fe=>Dt[z][fe]).map(fe=>({parent:{label:z,value:z},interval:fe})));const Bt="listview_unified_labels_order";function $t(){const z=[],fe=new Set;Wu.forEach(Ze=>{fe.has(Ze.value)||(z.push({type:"regular",value:Ze.value,label:Ze.label}),fe.add(Ze.value))});const ye=new Set;return Ie.forEach(Ze=>{ye.has(Ze.value)||(z.push({type:"json",value:Ze.value,label:Ze.label,intervals:Ze.intervals}),ye.add(Ze.value))}),z}function rn(z){const fe=localStorage.getItem(Bt);if(fe)try{const ye=JSON.parse(fe),Ze={};z.forEach(vt=>{Ze[vt.type+"_"+vt.value]=vt});const gt=ye.map(vt=>Ze[vt.type+"_"+vt.value]).filter(Boolean),Et=new Set(ye.map(vt=>vt.type+"_"+vt.value)),Vt=z.filter(vt=>!Et.has(vt.type+"_"+vt.value));return[...gt,...Vt]}catch{return z}return z}const[qn,Pn]=x.useState(()=>rn($t())),wn=x.useRef(!1);x.useEffect(()=>{if(wn.current)return;const z=$t();Pn(fe=>{const ye=new Set(fe.map(vt=>vt.type+"_"+vt.value)),Ze=new Set(z.map(vt=>vt.type+"_"+vt.value));let gt=fe.filter(vt=>Ze.has(vt.type+"_"+vt.value));const Et=z.filter(vt=>!ye.has(vt.type+"_"+vt.value));return[...gt,...Et]})},[JSON.stringify(Ie)]),x.useEffect(()=>{const z=$t();Pn(rn(z))},[JSON.stringify(Ie)]);const[qt,fn]=x.useState(!1),[kn,Hn]=x.useState(!1),[En,Cn]=x.useState({}),[hr,_n]=x.useState(!1);x.useEffect(()=>{const z=localStorage.getItem("pair_stats_interval_master_checked");z?Cn(JSON.parse(z)):JS.forEach(fe=>Cn(ye=>({...ye,[fe]:!0})))},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_interval_master_checked",JSON.stringify(En))},[En]),x.useEffect(()=>{const z=localStorage.getItem("pair_stats_all_regular_checked");Hn(z?JSON.parse(z):!1)},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_all_regular_checked",JSON.stringify(kn))},[kn]),x.useEffect(()=>{const z=localStorage.getItem("pair_stats_show_unchecked");fn(z?JSON.parse(z):!1)},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_show_unchecked",JSON.stringify(qt))},[qt]);const we="listview_settings_modal_pos",E="listview_settings_modal_size",O=()=>{const z=localStorage.getItem(we);let fe={x:window.innerWidth/2-400,y:window.innerHeight/2-300};if(z)try{const an=JSON.parse(z);typeof an.x=="number"&&typeof an.y=="number"&&(fe=an)}catch{}const ye=R(),Ze=window.innerWidth,gt=window.innerHeight;let Et=Math.min(ye.width,Ze);Math.min(ye.height,gt);let Vt=Math.max(0,Math.min(Ze-Et,fe.x)),vt=fe.y;return vt<0&&(vt=0),vt>gt-48&&(vt=gt-48),{x:Vt,y:vt}},R=()=>{const z=localStorage.getItem(E);let fe={width:700,height:500};if(z)try{const gt=JSON.parse(z);typeof gt.width=="number"&&typeof gt.height=="number"&&(fe=gt)}catch{}const ye=window.innerWidth,Ze=window.innerHeight;return{width:Math.min(fe.width,ye),height:Math.min(fe.height,Ze)}},[M,F]=x.useState(O),[W,se]=x.useState(R),[Te,he]=x.useState(!1),be=x.useRef({x:0,y:0});function ve(z){he(!0),be.current={x:z.clientX-M.x,y:z.clientY-M.y},document.body.style.userSelect="none"}x.useEffect(()=>{function z(ye){if(!Te)return;const Ze=window.innerWidth,gt=window.innerHeight,Et=document.querySelector('[role="dialog"][aria-label="Settings"]');let Vt=Et?Et.offsetWidth:W.width;Et?Et.offsetHeight:W.height;const vt=Math.floor(.05*Vt),an=48;let Ht=Math.max(-Vt+vt,Math.min(Ze-vt,ye.clientX-be.current.x)),C=Math.max(an*-.9,Math.min(gt-48,ye.clientY-be.current.y));F({x:Ht,y:C})}function fe(){he(!1),document.body.style.userSelect=""}return Te&&(window.addEventListener("mousemove",z),window.addEventListener("mouseup",fe)),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",fe)}},[Te,M,W]);const et=x.useRef(null),[it,dt]=x.useState(!1),st=x.useRef({x:0,y:0,width:0,height:0}),[mt,Xt]=x.useState(null);function en(z,fe){z.stopPropagation(),dt(!0),Xt(fe);const ye=et.current;st.current={x:z.clientX,y:z.clientY,width:ye?ye.offsetWidth:W.width,height:ye?ye.offsetHeight:W.height,left:ye?ye.offsetLeft:M.x,top:ye?ye.offsetTop:M.y},document.body.style.userSelect="none"}x.useEffect(()=>{function z(ye){if(!it||!mt)return;let{x:Ze,y:gt,width:Et,height:Vt,left:vt,top:an}=st.current,Ht=ye.clientX-Ze,C=ye.clientY-gt,te=Et,ne=Vt,Ae=M.x,Ue=M.y;switch(mt){case"right":te=Math.max(200,Et+Ht);break;case"left":te=Math.max(200,Et-Ht),Ae=vt+Ht;break;case"bottom":ne=Math.max(100,Vt+C);break;case"top":ne=Math.max(100,Vt-C),Ue=an+C;break;case"top-left":te=Math.max(200,Et-Ht),Ae=vt+Ht,ne=Math.max(100,Vt-C),Ue=an+C;break;case"top-right":te=Math.max(200,Et+Ht),ne=Math.max(100,Vt-C),Ue=an+C;break;case"bottom-left":te=Math.max(200,Et-Ht),Ae=vt+Ht,ne=Math.max(100,Vt+C);break;case"bottom-right":te=Math.max(200,Et+Ht),ne=Math.max(100,Vt+C);break}se({width:te,height:ne}),F({x:Ae,y:Ue});const qe=et.current;qe&&(qe.style.width=te+"px",qe.style.height=ne+"px",qe.style.left=Ae+"px",qe.style.top=Ue+"px")}function fe(){dt(!1),Xt(null),document.body.style.userSelect=""}return it&&(window.addEventListener("mousemove",z),window.addEventListener("mouseup",fe)),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",fe)}},[it,M,W,mt]),x.useEffect(()=>{localStorage.setItem(E,JSON.stringify(W))},[W]),x.useEffect(()=>{function z(){const fe=document.querySelector('[role="dialog"][aria-label="Settings"]');if(!fe)return;const ye=fe.getBoundingClientRect();let Ze=M.x,gt=M.y;ye.width,ye.height;const Et=window.innerWidth,Vt=window.innerHeight,vt=48,an=Math.floor(.05*ye.width),Ht=Math.floor(.05*ye.height);ye.right>Et-an&&(Ze=Math.max(0,Et-an-ye.width)),ye.bottom>Vt-Ht&&(gt=Math.max(vt,Vt-Ht-ye.height)),ye.left<-ye.width+an&&(Ze=-ye.width+an),ye.top<-ye.height+Ht&&(gt=-ye.height+Ht),ye.width>Et,ye.height>Vt,(Ze!==M.x||gt!==M.y)&&F({x:Ze,y:gt}),fe.style&&(fe.style.maxWidth=Et+"px",fe.style.maxHeight=Vt+"px",ye.width>Et&&(fe.style.width=Et+"px"),ye.height>Vt&&(fe.style.height=Vt+"px"))}return window.addEventListener("resize",z),z(),()=>window.removeEventListener("resize",z)},[M]),x.useEffect(()=>{localStorage.setItem(we,JSON.stringify(M))},[M]);const[hn,dn]=x.useState(!1),sr="listview_settings_modal_scale",[Un,er]=x.useState(()=>{const z=localStorage.getItem(sr);return z?parseFloat(z):1});x.useEffect(()=>{localStorage.setItem(sr,Un)},[Un]),x.useEffect(()=>{if(Qt)dn(!0);else{const z=setTimeout(()=>dn(!1),180);return()=>clearTimeout(z)}},[Qt]),x.useEffect(()=>{localStorage.setItem("listview_settings_modal_open",JSON.stringify(Qt))},[Qt]),x.useEffect(()=>{function z(fe){Qt&&fe.key==="Escape"&&V(!1)}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[Qt]);const[Jn,Dr]=x.useState(()=>{const z=localStorage.getItem("listview_settings_modal_opacity");return z?parseFloat(z):1});x.useEffect(()=>{localStorage.setItem("listview_settings_modal_opacity",Jn)},[Jn]);const[de,Ot]=x.useState(()=>{const z=localStorage.getItem("listview_label_font_size");return z?parseFloat(z):1}),[Ve,Lt]=x.useState(()=>{const z=localStorage.getItem("listview_label_wrap");return z?JSON.parse(z):!1});x.useEffect(()=>{localStorage.setItem("listview_label_font_size",de)},[de]),x.useEffect(()=>{localStorage.setItem("listview_label_wrap",JSON.stringify(Ve))},[Ve]);const[le,Ce]=x.useState(()=>{const z=localStorage.getItem("listview_filter_bar_visible");return z?JSON.parse(z):!0});x.useEffect(()=>{localStorage.setItem("listview_filter_bar_visible",JSON.stringify(le))},[le]);function yt(){const z=qn.map(Ze=>({type:Ze.type,value:Ze.value}));localStorage.setItem(Bt,JSON.stringify(z)),localStorage.setItem(me,JSON.stringify(Se)),localStorage.setItem(Mt,JSON.stringify(Dt));const fe=document.createElement("div");fe.textContent=" Settings saved successfully!",fe.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #22c55e;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      z-index: 10000;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      animation: slideIn 0.3s ease-out;
    `;const ye=document.createElement("style");ye.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(ye),document.body.appendChild(fe),setTimeout(()=>{fe.parentNode&&fe.parentNode.removeChild(fe)},3e3)}const[Wt,Dn]=x.useState(null),[bt,Ut]=x.useState("asc"),Yt=(z,fe,ye=null,Ze=null)=>{const gt={type:z,key:fe,parentKey:ye,interval:Ze};Wt&&JSON.stringify(Wt)===JSON.stringify(gt)?Ut(Et=>Et==="asc"?"desc":"asc"):(Dn(gt),Ut("asc"))},sn=(z,fe)=>{var Vt,vt,an;if(!fe)return;const{type:ye,key:Ze,parentKey:gt,interval:Et}=fe;if(ye==="regular"){const Ht=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],C=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(Ht.includes(Ze)){const te=nt[z.Unique_id];if(te&&te.Unique_id){const Ae={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[Ze];if(Ae)return te[Ae]}return}else if(C.includes(Ze)){let te={};try{if(typeof z.json_data=="string"){let Ae=z.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");te=JSON.parse(Ae)}else te=z.json_data||{}}catch{te={}}const ne=te==null?void 0:te.signal_data;if(ne&&typeof ne=="object"){const Ae=Ze.replace("signal_data_","");return ne[Ae]}return}return z[Ze]}if(ye==="trade")return(Vt=nt[z.Unique_id])==null?void 0:Vt[Ze];if(ye==="json"&&gt&&Et){let Ht={};try{if(typeof z.json_data=="string"){let te=z.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Ht=JSON.parse(te)}else Ht=z.json_data||{}}catch{Ht={}}return(an=(((vt=Ht==null?void 0:Ht.signal_data)==null?void 0:vt.all_last_rows)||{})[Et])==null?void 0:an[gt]}},Fr=z=>Wt?[...z].sort((fe,ye)=>{let Ze=sn(fe,Wt),gt=sn(ye,Wt);if(Wt.type==="regular"&&l(Wt.key)){const vt=new Date(Ze),an=new Date(gt);if(!isNaN(vt.getTime())&&!isNaN(an.getTime()))return vt<an?bt==="asc"?-1:1:vt>an?bt==="asc"?1:-1:0}const Et=parseFloat(Ze),Vt=parseFloat(gt);return!isNaN(Et)&&!isNaN(Vt)?bt==="asc"?Et-Vt:Vt-Et:(Ze=Ze==null?"":String(Ze),gt=gt==null?"":String(gt),Ze<gt?bt==="asc"?-1:1:Ze>gt?bt==="asc"?1:-1:0)}):z,[br,dr]=x.useState(null);function Or(){const z={width:700,height:500},fe=window.innerWidth,ye=window.innerHeight,Ze=Math.max(0,Math.floor((fe-z.width)/2)),gt=Math.max(0,Math.floor((ye-z.height)/2));F({x:Ze,y:gt}),se(z),er(1),localStorage.setItem(we,JSON.stringify({x:Ze,y:gt})),localStorage.setItem(E,JSON.stringify(z)),localStorage.setItem(sr,"1.0")}const[Wn,ai]=x.useState(null),li="listview_filter_table_spacing",[ji,cs]=x.useState(()=>{const z=localStorage.getItem(li);return z?parseInt(z):0});x.useEffect(()=>{localStorage.setItem(li,ji.toString())},[ji]);const[Kt,Ki]=x.useState([]),[tn,$i]=x.useState(1),[Mn,Vr]=x.useState(1),[Ts,Zi]=x.useState(0),[Nt,gi]=x.useState(!1),[zt,Li]=x.useState("Candle_Time"),[Gt,pi]=x.useState("DESC");x.useEffect(()=>{if(!zt&&!Gt)return;gi(!0);const z=e?`${Nn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&page=${tn}&limit=${P}&sortKey=${zt}&sortDirection=${Gt}`:`${Nn("/api/SignalProcessingLogs")}?page=${tn}&limit=${P}&sortKey=${zt}&sortDirection=${Gt}`;fetch(z).then(fe=>fe.json()).then(fe=>{var ye,Ze;Ki(Array.isArray(fe.logs)?fe.logs:[]),Zi(((ye=fe.pagination)==null?void 0:ye.total)||0),Vr(((Ze=fe.pagination)==null?void 0:Ze.totalPages)||1),gi(!1)}).catch(()=>{Ki([]),Zi(0),Vr(1),gi(!1)})},[tn,P,zt,Gt,e]);const ei=z=>{z<1||z>Mn||$i(z)},Gs=(z,fe,ye=null,Ze=null)=>{zt===fe?pi(gt=>gt==="ASC"?"DESC":"ASC"):(Li(fe),pi("ASC")),Dn({type:z,key:fe,parentKey:ye,interval:Ze})};function Kl(){return qn.filter(z=>z.type==="regular"?Se.includes(z.value):z.type==="json"&&Array.isArray(z.intervals)?(z.intervals||[]).some(({interval:fe})=>{var ye;return(ye=Dt[z.value])==null?void 0:ye[fe]}):!1)}function ks(z){if(!z)return"";const fe=new Date(z);if(isNaN(fe.getTime()))return z;const ye=Ze=>Ze.toString().padStart(2,"0");return`${fe.getFullYear()}-${ye(fe.getMonth()+1)}-${ye(fe.getDate())} ${ye(fe.getHours())}:${ye(fe.getMinutes())}:${ye(fe.getSeconds())}`}function oi(z){const fe=Kl();return z.map(ye=>{var Vt;let Ze={};try{if(typeof ye.json_data=="string"){let vt=ye.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Ze=JSON.parse(vt)}else Ze=ye.json_data||{}}catch{Ze={}}const gt=((Vt=Ze==null?void 0:Ze.signal_data)==null?void 0:Vt.all_last_rows)||{},Et={};return fe.forEach(vt=>{let an;if(vt.type==="regular"){const Ht=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],C=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(Ht.includes(vt.value)){const te=nt[ye.Unique_id];if(te&&te.Unique_id){const Ae={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[vt.value];Ae&&(an=te[Ae])}}else if(C.includes(vt.value)){let te={};try{if(typeof ye.json_data=="string"){let Ae=ye.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");te=JSON.parse(Ae)}else te=ye.json_data||{}}catch{te={}}const ne=te==null?void 0:te.signal_data;if(ne&&typeof ne=="object"){const Ae=vt.value.replace("signal_data_","");an=ne[Ae]}}else an=ye[vt.value]}else if(vt.type==="json"&&Array.isArray(vt.intervals)){(vt.intervals||[]).forEach(({interval:Ht})=>{var C,te;(C=Dt[vt.value])!=null&&C[Ht]&&(an=(te=gt[Ht])==null?void 0:te[vt.value],Et[`${vt.label} [${Ht}]`]=an)});return}vt.type==="regular"&&l(vt.value)?Et[vt.label]=ks(an):typeof an=="number"&&an>1e12?Et[vt.label]=an.toString():Et[vt.label]=an}),Et})}const[Zl,_r]=x.useState(!1),[Wi,Cs]=x.useState(!1),da=async()=>{if(Kt.length>0)_r(!0);else{const z=oi(Zt);if(z.length===0){alert("No data to export!");return}const fe=fr.json_to_sheet(z),ye=fr.book_new();fr.book_append_sheet(ye,fe,"Data"),ka(ye,"exported_data.xlsx")}},Vi=async z=>{if(_r(!1),z==="pagination"){const fe=oi(Kt);if(fe.length===0){alert("No data to export!");return}const ye=fr.json_to_sheet(fe),Ze=fr.book_new();fr.book_append_sheet(Ze,ye,"Data"),ka(Ze,"exported_data.xlsx")}else if(z==="whole"){Cs(!0);const fe=e?`${Nn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&limit=all&sortKey=${zt}&sortDirection=${Gt}`:`${Nn("/api/SignalProcessingLogs")}?limit=all&sortKey=${zt}&sortDirection=${Gt}`;try{const Ze=await(await fetch(fe)).json(),gt=Array.isArray(Ze.logs)?Ze.logs:[],Et=oi(gt);if(Et.length===0){alert("No data to export!"),Cs(!1);return}const Vt=fr.json_to_sheet(Et),vt=fr.book_new();fr.book_append_sheet(vt,Vt,"Data"),ka(vt,"exported_data.xlsx")}catch{alert("Failed to fetch all data for export.")}Cs(!1)}};return u.jsxs("div",{className:f?"dark":"",style:{minHeight:"100vh",background:f?"#181a20":"#f7f7fa"},children:[u.jsxs("div",{style:{position:"absolute",top:8,right:200,zIndex:100,display:"flex",alignItems:"center",gap:12},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Spacing"}),u.jsx("button",{onClick:()=>cs(z=>z-4),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",cursor:"pointer"},title:"Reduce space between filters and table",children:""}),u.jsx("button",{onClick:()=>cs(z=>Math.min(100,z+4)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",cursor:"pointer"},title:"Increase space between filters and table",children:""}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[ji,"px"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Table Font"}),u.jsx("button",{onClick:()=>Oe(z=>Math.max(.7,z-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",cursor:"pointer"},children:"A"}),u.jsx("button",{onClick:()=>Oe(z=>Math.min(2,z+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",cursor:"pointer"},children:"A+"}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(Ee*100),"%"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Label Font"}),u.jsx("button",{onClick:()=>Ot(z=>Math.max(.7,z-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",cursor:"pointer"},children:"A"}),u.jsx("button",{onClick:()=>Ot(z=>Math.min(2,z+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",cursor:"pointer"},children:"A+"}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(de*100),"%"]})]}),u.jsx("button",{onClick:()=>Lt(z=>!z),style:{padding:"3px 10px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:12,background:Ve?f?"#0ea5e9":"#0d9488":f?"#23272f":"#fff",color:Ve||f?"#fff":"#222",cursor:"pointer",boxShadow:Ve?"0 2px 8px #0ea5e944":"0 2px 8px #8882",transition:"background 0.2s"},title:"Wrap label text at word boundaries",children:Ve?"Unwrap Labels":"Wrap Labels"})]}),u.jsx("div",{style:{position:"absolute",top:8,left:300,zIndex:100,display:"flex",alignItems:"center",gap:12},children:Nt&&u.jsx("span",{style:{color:"#0ea5e9",fontWeight:600},children:"Loading all data..."})}),u.jsx("div",{style:{position:"absolute",top:24,left:24,zIndex:100},children:u.jsx("button",{onClick:()=>window.location.href="/reports",style:{background:"none",border:"none",cursor:"pointer",fontSize:24,color:f?"#fff":"#222",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseEnter:z=>z.target.style.backgroundColor=f?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",onMouseLeave:z=>z.target.style.backgroundColor="transparent","aria-label":"Back to Grid Reports",title:"Back to Grid Reports",children:u.jsx("span",{role:"img","aria-label":"back to grid",children:""})})}),u.jsxs("div",{style:{position:"absolute",top:24,right:80,zIndex:100,display:"flex",gap:8,alignItems:"center"},children:[u.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset the settings screen? Yes / No")&&Or()},style:{background:"none",border:"none",cursor:"pointer",fontSize:22,color:f?"#fff":"#222",marginRight:2},"aria-label":"Reset Settings",title:"Reset Settings Screen",children:u.jsx("span",{role:"img","aria-label":"reset",children:""})}),u.jsx("button",{onClick:()=>V(z=>!z),style:{background:"none",border:"none",cursor:"pointer",fontSize:28,color:f?"#fff":"#222"},"aria-label":Qt?"Close Settings":"Open Settings","aria-haspopup":"dialog","aria-expanded":Qt,children:u.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),hn&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.10)",zIndex:199,transition:"opacity 0.18s",opacity:Qt?1:0,pointerEvents:"none"},"aria-hidden":"true"}),u.jsxs("div",{ref:et,role:"dialog","aria-modal":"true","aria-label":"Settings",style:{position:"fixed",top:M.y,left:M.x,minHeight:100,minWidth:200,zIndex:200,width:W.width,maxWidth:"100vw",background:f?`rgba(35,39,47,${Jn})`:`rgba(255,255,255,${Jn})`,color:f?"#fff":"#222",borderRadius:18,boxShadow:"0 4px 32px 0 rgba(0,0,0,0.18)",padding:0,display:"flex",flexDirection:"column",overflow:"hidden",height:W.height,maxHeight:"100vh",margin:"0 auto",boxSizing:"border-box",resize:"none",cursor:Te?"move":"default",opacity:Qt?1:0,transform:Qt?"scale(1)":"scale(0.96)",transition:"opacity 0.18s, transform 0.18s",pointerEvents:Qt?"auto":"none"},children:[[["top-left",{top:-8,left:-8,cursor:"nwse-resize"}],["top",{top:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["top-right",{top:-8,right:-8,cursor:"nesw-resize"}],["right",{top:"50%",right:-8,transform:"translateY(-50%)",cursor:"ew-resize"}],["bottom-right",{bottom:-8,right:-8,cursor:"nwse-resize"}],["bottom",{bottom:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["bottom-left",{bottom:-8,left:-8,cursor:"nesw-resize"}],["left",{top:"50%",left:-8,transform:"translateY(-50%)",cursor:"ew-resize"}]].map(([z,fe])=>u.jsx("div",{onMouseDown:ye=>en(ye,z),style:{position:"absolute",width:18,height:18,background:f?"#0ea5e9":"#2563eb",border:"2px solid #fff",borderRadius:6,zIndex:1e3,...fe,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",cursor:fe.cursor,userSelect:"none"},title:`Resize (${z.replace("-"," ")})`,children:u.jsx("div",{style:{width:8,height:8,borderRadius:4,background:"#fff",opacity:.8}})},z)),u.jsxs("div",{style:{width:"100%",height:"100%",transform:`scale(${Un})`,transformOrigin:"top left"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,background:f?"#23272f":"#fff",zIndex:2,padding:12,borderTopLeftRadius:18,borderTopRightRadius:18,userSelect:"none",gap:8,minHeight:0},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:24,minWidth:56,marginRight:12,cursor:"grab",userSelect:"none",background:"transparent"},onMouseDown:ve,children:u.jsx("div",{style:{width:48,height:16,background:f?"#334155":"#e0e7ef",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",gap:2},children:[0,1,2,3].map(z=>u.jsx("div",{style:{width:6,height:6,borderRadius:3,background:f?"#fff":"#222",opacity:.7,margin:2}},z))})}),u.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13,marginRight:12},children:[u.jsx("span",{style:{opacity:.7},children:"Modal Scale"}),u.jsx("input",{type:"range",min:.7,max:1.5,step:.01,value:Un,onChange:z=>er(parseFloat(z.target.value)),style:{width:70}}),u.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Un*100),"%"]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Opacity"}),u.jsx("input",{type:"range",min:.3,max:1,step:.01,value:Jn,onChange:z=>Dr(parseFloat(z.target.value)),style:{width:70}}),u.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Jn*100),"%"]})]}),u.jsx("button",{onClick:()=>_n(z=>!z),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:hr?"#0ea5e9":"#334155",color:"#fff",boxShadow:hr?"0 2px 8px #0ea5e944":"0 2px 8px #33415544",cursor:"pointer",transition:"background 0.2s"},children:hr?"Show Regular Labels":"Minimize Regular Labels"}),u.jsx("button",{onClick:()=>fn(z=>!z),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:qt?"#22c55e":"#ef4444",color:"#fff",boxShadow:qt?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:qt?"Show Unchecked":"Hide Unchecked"}),u.jsx("button",{onClick:()=>{Be(kn?[]:Wu.map(z=>z.value)),Hn(z=>!z)},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:kn?"#22c55e":"#ef4444",color:"#fff",boxShadow:kn?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:kn?"Uncheck All Regular":"Check All Regular"}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginLeft:8},children:[u.jsx("span",{style:{fontWeight:500,marginRight:4},children:"Intervals:"}),JS.map(z=>u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:36},children:[u.jsx("input",{type:"checkbox",checked:En[z]||!1,onChange:fe=>{const ye=fe.target.checked;Cn({...En,[z]:ye}),ht(Ze=>{const gt={...Ze};return Ie.forEach(Et=>{Et.intervals.some(Vt=>Vt.interval===z&&Vt.exists)&&(gt[Et.value]={...gt[Et.value],[z]:ye})}),gt})},style:{transform:"scale(1.05)"}}),u.jsx("span",{style:{fontSize:13},children:z})]},z))]})]}),u.jsx("button",{onClick:yt,style:{padding:"6px 18px",borderRadius:6,border:"none",fontWeight:600,fontSize:15,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s",marginLeft:8},title:"Save label order and checkbox state",children:"Save"}),u.jsx("button",{onClick:()=>V(!1),style:{background:"none",border:"none",fontSize:22,color:"inherit",cursor:"pointer",marginLeft:12},"aria-label":"Close",children:""})]})]}),u.jsx("div",{style:{overflowY:"auto",padding:32,flex:1,minHeight:0,position:"relative"},children:u.jsx(Y1,{backend:X1,children:u.jsx(GU,{items:qn,moveLabel:(z,fe)=>{Pn(ye=>{const Ze=[...ye],[gt]=Ze.splice(z,1);return Ze.splice(fe,0,gt),Ze})},renderRow:(z,fe)=>{let ye=!0;return z.type==="regular"&&(hr&&(ye=!1),!qt&&!Se.includes(z.value)&&(ye=!1)),z.type==="json"&&Array.isArray(z.intervals)&&(z.intervals.some(({interval:gt})=>{var Et;return!qt||!!((Et=Dt==null?void 0:Dt[z.value])!=null&&Et[gt])})||(ye=!1)),u.jsxs("div",{style:{display:ye?void 0:"none",width:"100%"},children:[z.type==="regular"&&u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[u.jsx("input",{type:"checkbox",checked:Se.includes(z.value),onChange:Ze=>{Ze.target.checked?Be([...Se,z.value]):Be(Se.filter(gt=>gt!==z.value))}}),z.label]}),z&&z.type==="json"&&Array.isArray(z.intervals)&&(()=>{const Ze=(z.intervals||[]).filter(({interval:gt})=>{var Et;return!qt||!!((Et=Dt==null?void 0:Dt[z.value])!=null&&Et[gt])});return Ze.length===0?null:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"space-between",marginBottom:1,lineHeight:1.2},children:u.jsx("span",{style:{fontWeight:500,fontSize:"0.95em"},children:z.label})}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:0,alignItems:"flex-start",lineHeight:1},children:Ze.map(({interval:gt,exists:Et})=>{var Vt;return u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:40,opacity:Et?1:.5,padding:"1px 0",lineHeight:1},children:[u.jsx("input",{type:"checkbox",checked:!!((Vt=Dt==null?void 0:Dt[z.value])!=null&&Vt[gt]),disabled:!Et,onChange:vt=>{ht(an=>({...an,[z.value]:{...an[z.value],[gt]:vt.target.checked}}))},style:{transform:"scale(0.9)"}}),u.jsx("span",{style:{fontSize:"0.8em",fontWeight:500,lineHeight:1},children:gt})]},z.value+"_"+gt)})})]})})()]})},activeJsonLabels:Dt,setActiveJsonLabels:ht,showUnchecked:qt,dragOverIndex:Wn,setDragOverIndex:ai})})})]})]})]}),oe&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{background:f?"#23272f":"#fff",color:f?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Loading logs..."})}),u.jsx("div",{style:{position:"absolute",top:24,right:130,zIndex:100,display:"flex",gap:4}}),u.jsx("button",{onClick:()=>d(z=>!z),style:{position:"absolute",right:32,top:24,zIndex:100,padding:8,borderRadius:"50%",background:f?"#222":"#fff",color:f?"#fff":"#222",border:"1.5px solid #888",fontSize:22,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},title:f?"Switch to Light Mode":"Switch to Dark Mode",children:f?"":""}),u.jsxs("div",{style:{padding:"0 64px 0 32px",position:"relative",display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[u.jsx(P9,{pair:e,interval:n,candleType:r,onBack:()=>window.close(),gridPreview:ze,filterBar:yn,trades:He,darkMode:f}),u.jsxs("div",{style:{margin:`${ji}px 0 0 0`},children:[" ",u.jsxs("div",{style:{color:f?"#fff":"#222",margin:"8px 0 16px 0",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[u.jsx("span",{children:""}),u.jsxs("span",{children:["Rows: ",Kt.length>0?Kt.length:Zt.length," of ",Kt.length>0?Ts:H]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Page: ",Kt.length>0?tn:Fe," of ",Kt.length>0?Mn:D]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Columns: ",Wu.length+Ie.reduce((z,fe)=>{var ye;return z+(((ye=fe.intervals)==null?void 0:ye.length)||0)},0)+VU.length]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[u.jsx("input",{type:"checkbox",checked:Ft.Regular,onChange:z=>un(fe=>({...fe,Regular:z.target.checked})),style:{transform:"scale(1.1)"}}),u.jsx("span",{children:"Regular"}),u.jsxs("span",{style:{fontSize:11,opacity:.7,color:Ft.Regular?"#22c55e":"#6b7280",fontWeight:600},children:["(",Bn.Regular,")"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[u.jsx("input",{type:"checkbox",checked:Ft.Heiken,onChange:z=>un(fe=>({...fe,Heiken:z.target.checked})),style:{transform:"scale(1.1)"}}),u.jsx("span",{children:"Heiken"}),u.jsxs("span",{style:{fontSize:11,opacity:.7,color:Ft.Heiken?"#22c55e":"#6b7280",fontWeight:600},children:["(",Bn.Heiken,")"]})]}),u.jsxs("span",{style:{fontSize:12,opacity:.7,color:Zt.length===0?"#ef4444":"#22c55e",fontWeight:600},children:["(",Zt.length," shown)"]}),Bn.Unknown>0&&u.jsxs("span",{style:{fontSize:11,opacity:.5,color:"#f59e0b",fontWeight:600},children:["(",Bn.Unknown," unknown)"]})]}),Zt.length>0&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[u.jsx("span",{style:{opacity:.7},children:"Time Range:"}),u.jsx("span",{style:{fontWeight:600,color:f?"#0ea5e9":"#0d9488"},children:(Ra=Zt[0])!=null&&Ra.Candle_Time?i(Zt[0].Candle_Time):"N/A"}),u.jsx("span",{children:"to"}),u.jsx("span",{style:{fontWeight:600,color:f?"#0ea5e9":"#0d9488"},children:(qs=Zt[Zt.length-1])!=null&&qs.Candle_Time?i(Zt[Zt.length-1].Candle_Time):"N/A"}),u.jsx("button",{onClick:da,style:{marginLeft:16,padding:"6px 12px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:"#fbbf24",color:"#222",boxShadow:"0 2px 4px #fbbf2444",cursor:"pointer",transition:"background 0.2s"},children:"Export to Excel"})]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:f?"#1e293b":"#f1f5f9",borderRadius:6,border:f?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("span",{style:{fontWeight:600,color:f?"#fff":"#222",fontSize:12},children:"Rows:"}),u.jsx("input",{type:"number",min:"10",max:"5000",value:P,onChange:z=>{const fe=parseInt(z.target.value);!isNaN(fe)&&fe>=10&&fe<=5e3&&G(fe)},onKeyPress:z=>{z.key==="Enter"&&(ei(1),Vr(Math.ceil(Kt.length/P)))},onBlur:()=>{ei(1),Vr(Math.ceil(Kt.length/P))},style:{width:50,padding:"2px 4px",borderRadius:3,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",fontSize:12,textAlign:"center"}})]}),(Kt.length>0?Mn:D)>1&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:f?"#1e293b":"#f1f5f9",borderRadius:6,border:f?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("button",{onClick:()=>Kt.length>0?ei(1):Ct(1),disabled:(Kt.length>0?tn:Fe)===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Kt.length>0?tn:Fe)===1?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:(Kt.length>0?tn:Fe)===1?f?"#6b7280":"#9ca3af":"#fff",cursor:(Kt.length>0?tn:Fe)===1?"not-allowed":"pointer",opacity:(Kt.length>0?tn:Fe)===1?.5:1},children:"First"}),u.jsx("button",{onClick:()=>Kt.length>0?ei((Kt.length>0?tn:Fe)-1):Ct((Kt.length>0?tn:Fe)-1),disabled:(Kt.length>0?tn:Fe)===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Kt.length>0?tn:Fe)===1?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:(Kt.length>0?tn:Fe)===1?f?"#6b7280":"#9ca3af":"#fff",cursor:(Kt.length>0?tn:Fe)===1?"not-allowed":"pointer",opacity:(Kt.length>0?tn:Fe)===1?.5:1},children:""}),u.jsxs("span",{style:{fontWeight:600,color:f?"#fff":"#222",fontSize:12},children:[Kt.length>0?tn:Fe,"/",Kt.length>0?Mn:D]}),u.jsx("button",{onClick:()=>Kt.length>0?ei((Kt.length>0?tn:Fe)+1):Ct((Kt.length>0?tn:Fe)+1),disabled:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?f?"#6b7280":"#9ca3af":"#fff",cursor:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?"not-allowed":"pointer",opacity:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?.5:1},children:""}),u.jsx("button",{onClick:()=>Kt.length>0?ei(Kt.length>0?Mn:D):Ct(Kt.length>0?Mn:D),disabled:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?f?"#6b7280":"#9ca3af":"#fff",cursor:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?"not-allowed":"pointer",opacity:(Kt.length>0?tn:Fe)===(Kt.length>0?Mn:D)?.5:1},children:"Last"})]})]})]})]}),u.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",style:{background:f?"#181a20":"#f5ecd7",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:f?"1px solid #334155":"1px solid #d1d5db",fontSize:`${Ee}em`,position:"relative",flex:1,minHeight:0},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"16px 0 8px 0",paddingLeft:8,paddingRight:8},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:18}}),u.jsxs("table",{className:"w-full border-collapse",style:{fontSize:"inherit",color:f?"#fff":"#222"},children:[u.jsxs("thead",{className:"sticky top-0 z-30",style:{background:f?"#0f766e":"#0d9488",color:"white",fontSize:"inherit",zIndex:30},children:[u.jsx("tr",{style:{position:"sticky",top:0,zIndex:31,background:f?"#0f766e":"#0d9488"},children:qn.map((z,fe)=>{const ye=z.type==="json"&&Array.isArray(z.intervals);if(z.type==="regular"&&Se.includes(z.value)){const Ze=fe===0||fe===1,gt=f?"#5eead4":"#e0fcf7";return u.jsx("th",{rowSpan:2,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${de}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:gt,minWidth:120,overflow:"visible",whiteSpace:Ve?"normal":"nowrap",wordBreak:Ve?"break-word":"normal",position:Ze?"sticky":void 0,left:Ze?fe===0?0:120:void 0,zIndex:Ze?40:void 0},title:z.label,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>Gs("regular",z.value),style:{marginRight:4,background:"none",border:"none",color:zt===z.value?Gt==="ASC"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${z.label} (whole data)`,children:["w",zt===z.value?Gt==="ASC"?"":"":""]}),u.jsx("span",{children:z.label}),u.jsxs("button",{onClick:()=>Yt("regular",z.value),style:{marginLeft:4,background:"none",border:"none",color:Wt&&Wt.type==="regular"&&Wt.key===z.value?bt==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${z.label} (table only)`,children:["t",Wt&&Wt.type==="regular"&&Wt.key===z.value?bt==="asc"?"":"":""]})]})},z.value)}if(ye){const Ze=z.intervals.filter(({interval:Et})=>{var Vt;return!!((Vt=Dt[z.value])!=null&&Vt[Et])});if(Ze.length===0)return null;const gt=fe%2===0?f?"#fbbf24":"#ffe082":f?"#fb923c":"#ffd6a5";return u.jsx("th",{colSpan:Ze.length,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${de}em`,fontWeight:"bold",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:gt,minWidth:120,overflow:"visible",whiteSpace:Ve?"normal":"nowrap",wordBreak:Ve?"break-word":"normal"},title:z.label,children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("span",{children:z.label})})},z.value)}return null})}),u.jsx("tr",{children:qn.map((z,fe)=>{if(z.type==="json"&&Array.isArray(z.intervals)){const ye=z.intervals.filter(({interval:gt})=>{var Et;return!!((Et=Dt[z.value])!=null&&Et[gt])}),Ze=fe%2===0?f?"#1e293b":"#e0e7ef":f?"#334155":"#f1f5f9";return ye.map(({interval:gt})=>u.jsx("th",{className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${de}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:f?"#fff":"#222",background:Ze,minWidth:90,overflow:"visible",whiteSpace:Ve?"normal":"nowrap",wordBreak:Ve?"break-word":"normal"},title:gt,onClick:()=>Yt("json",gt,z.value,gt),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:gt}),u.jsx("span",{className:"ml-1 opacity-60",children:Wt&&Wt.type==="json"&&Wt.parentKey===z.value&&Wt.interval===gt?bt==="asc"?"":"":""})]})},z.value+"_"+gt))}return null})})]}),u.jsx("tbody",{children:(()=>{const z=Kt.length>0?Kt:Zt;return Fr(z).map((ye,Ze)=>{var an;let gt={};try{if(typeof ye.json_data=="string"){let Ht=ye.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");gt=JSON.parse(Ht)}else gt=ye.json_data||{}}catch{gt={}}const Et=((an=gt==null?void 0:gt.signal_data)==null?void 0:an.all_last_rows)||{},Vt=ye.Unique_id!=null?ye.Unique_id:Ze,vt=br===Vt;return u.jsx("tr",{className:"cursor-pointer",style:{fontSize:"inherit",borderBottom:f?"1px solid #334155":"1px solid #e5e7eb",transition:"all 0.15s ease-in-out",color:f?"#fff":"#222",background:vt?"#ffe066":void 0},onClick:()=>dr(vt?null:Vt),onMouseEnter:Ht=>{vt||(Ht.currentTarget.style.background=f?"#3d4451":"#f0f9ff",Ht.currentTarget.style.color=f?"#fff":"#222")},onMouseLeave:Ht=>{vt||(Ht.currentTarget.style.background="",Ht.currentTarget.style.color="")},children:qn.map((Ht,C)=>{if(Ht.type==="regular"&&Se.includes(Ht.value)){if(!Wu.find(vn=>vn.value===Ht.value))return null;const ne=C===0||C===1,Ae=vt?"#ffe066":ne?f?"#5eead4":"#e0fcf7":void 0,Ue=vt||ne?"#111":f?"#fff":"#222";let qe=null,At="";const Qe=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],ln=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(Qe.includes(Ht.value)){const vn=nt[ye.Unique_id];if((Ht.value==="PL"||Ht.value==="Hedge")&&console.log("Debug hedge field lookup:",{field:Ht.value,rowUniqueId:ye.Unique_id,tradeData:vn,tradesByUniqueIdKeys:Object.keys(nt).slice(0,5),totalTradesByUniqueId:Object.keys(nt).length,sampleLogUniqueIds:Zt.slice(0,3).map(Kn=>Kn.Unique_id)}),vn&&vn.Unique_id){const Sr={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[Ht.value];Sr&&(qe=vn[Sr],At=qe!=null?o(qe,Ht.value):"")}}else if(ln.includes(Ht.value)){let vn={};try{if(typeof ye.json_data=="string"){let Sr=ye.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");vn=JSON.parse(Sr)}else vn=ye.json_data||{}}catch{vn={}}const Kn=vn==null?void 0:vn.signal_data;if(Kn&&typeof Kn=="object"){const Sr=Ht.value.replace("signal_data_","");qe=Kn[Sr],At=qe!=null?o(qe,Ht.value):""}}else qe=ye[Ht.value],At=qe!=null?o(qe,Ht.value):"";let on={fontSize:"inherit",color:vt?"#111":Ue,background:Ae,minWidth:120,overflow:"visible",whiteSpace:"nowrap",position:ne?"sticky":void 0,left:ne?C===0?0:120:void 0,zIndex:ne?30:void 0,padding:"1px 6px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"};if(Ht.value==="PL"&&qe!=null){const vn=parseFloat(qe);isNaN(vn)||(vt?vn<0?on.color="#000000":vn>0&&(on.color="#166534"):vn<0?on.color="#ef4444":vn>0&&(on.color="#22c55e"))}return u.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:on,title:At,children:qe!=null?o(qe,Ht.value):""},Ht.value)}if(Ht.type==="json"&&Array.isArray(Ht.intervals)){const te=Ht.intervals.filter(({interval:Ue})=>{var qe;return!!((qe=Dt[Ht.value])!=null&&qe[Ue])}),ne=vt?"#ffe066":C%2===0?f?"#1e293b":"#e0e7ef":f?"#334155":"#f1f5f9",Ae=vt?"#111":f?"#fff":"#222";return te.map(({interval:Ue})=>{let qe=Et[Ue]?Et[Ue][Ht.value]:void 0;return u.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:Ae,background:ne,minWidth:90,overflow:"visible",whiteSpace:"nowrap",padding:"1px 4px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:qe!==void 0?o(qe,Ht.value):"",children:qe!==void 0?o(qe,Ht.value):"-"},Ht.value+"_"+Ue)})}return null})},Ze)})})()})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"12px 0 8px 0",padding:"8px 12px",background:f?"#1e293b":"#f1f5f9",borderRadius:6,border:f?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("span",{style:{fontWeight:600,color:f?"#fff":"#222",fontSize:14},children:"Rows per page:"}),u.jsx("input",{type:"number",min:"10",max:"5000",value:P,onChange:z=>{const fe=parseInt(z.target.value);!isNaN(fe)&&fe>=10&&fe<=5e3&&G(fe)},onKeyPress:z=>{z.key==="Enter"&&(ei(1),Vr(Math.ceil(Kt.length/P)))},onBlur:()=>{ei(1),Vr(Math.ceil(Kt.length/P))},style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #888",background:f?"#23272f":"#fff",color:f?"#fff":"#222",fontSize:14,textAlign:"center"}}),u.jsx("span",{style:{fontSize:12,opacity:.7,color:f?"#9ca3af":"#6b7280"},children:"(10-5000)"})]}),Mn>1&&u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"16px 0 8px 0",padding:"12px",background:f?"#23272f":"#f8f9fa",borderRadius:8,border:f?"1px solid #334155":"1px solid #e5e7eb"},children:[u.jsx("button",{onClick:()=>ei(1),disabled:tn===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:tn===1?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:tn===1?f?"#6b7280":"#9ca3af":"#fff",cursor:tn===1?"not-allowed":"pointer",opacity:tn===1?.5:1},children:"First"}),u.jsx("button",{onClick:()=>ei(tn-1),disabled:tn===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:tn===1?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:tn===1?f?"#6b7280":"#9ca3af":"#fff",cursor:tn===1?"not-allowed":"pointer",opacity:tn===1?.5:1},children:""}),u.jsxs("span",{style:{fontWeight:600,color:f?"#fff":"#222"},children:["Page ",tn," of ",Mn]}),u.jsx("button",{onClick:()=>ei(tn+1),disabled:tn===Mn,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:tn===Mn?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:tn===Mn?f?"#6b7280":"#9ca3af":"#fff",cursor:tn===Mn?"not-allowed":"pointer",opacity:tn===Mn?.5:1},children:""}),u.jsx("button",{onClick:()=>ei(Mn),disabled:tn===Mn,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:tn===Mn?f?"#334155":"#e5e7eb":f?"#0ea5e9":"#0d9488",color:tn===Mn?f?"#6b7280":"#9ca3af":"#fff",cursor:tn===Mn?"not-allowed":"pointer",opacity:tn===Mn?.5:1},children:"Last"})]})]})})]}),Zl&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{style:{background:f?"#23272f":"#fff",color:f?"#fff":"#222",padding:32,borderRadius:16,fontSize:20,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",minWidth:340,minHeight:120,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[u.jsx("div",{children:"Export Data"}),u.jsxs("div",{style:{display:"flex",gap:18},children:[u.jsx("button",{onClick:()=>Vi("pagination"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#0ea5e9",color:"#fff",boxShadow:"0 2px 8px #0ea5e944",cursor:"pointer",transition:"background 0.2s"},children:"Export Current Page"}),u.jsx("button",{onClick:()=>Vi("whole"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export All Filtered Data"})]}),u.jsx("button",{onClick:()=>_r(!1),style:{marginTop:12,background:"none",border:"none",color:f?"#fff":"#222",fontSize:18,cursor:"pointer"},children:"Cancel"})]})}),Wi&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{background:f?"#23272f":"#fff",color:f?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Exporting data..."})})]})},T4=Ur.createContext(null);function J1({className:t="",...e}){const n=Ur.useContext(T4);return n?u.jsx("button",{type:"button",onClick:n.logout,title:"Log out",className:t||"px-2 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-sm font-semibold transition-colors",...e,children:"Logout"}):null}const XU="demo123";async function JU(t){const e=(t||"").trim();return e?e===XU:!1}const K1="lab_trading_auth",o0=60*60*1e3,KU=10*60*1e3;function Z1(){if(typeof window>"u")return null;try{const t=window.localStorage.getItem(K1);if(!t)return null;const e=JSON.parse(t);return e&&typeof e.at=="number"?e:null}catch{return null}}function k4(){try{window.localStorage.setItem(K1,JSON.stringify({at:Date.now()}))}catch{}}function C4(){try{window.localStorage.removeItem(K1)}catch{}}function ZU(){const t=Z1();return t?Date.now()-t.at>=o0:!0}function QU(){const t=Z1();if(!t)return!1;const e=Date.now()-t.at;return e>=o0-KU&&e<o0}function e$(){const t=Z1();return t?Date.now()-t.at<o0:!1}function _x(t){t?k4():C4()}const t$="refresh_app_main_intervalSec",ZS="tradingview-widget-script-single";function n$(){if(!document.getElementById(ZS)){const t=document.createElement("script");t.id=ZS,t.src="https://s3.tradingview.com/tv.js",t.async=!0,document.body.appendChild(t)}}const r$={"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},QS=["1m","3m","5m","15m","30m","1h","4h","1d"],i$=t=>{if(!t)return"BTCUSDT";let e=String(t).replace(/<[^>]+>/g,"").replace(/\s+/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase();return e.startsWith("BINANCE")&&(e=e.slice(7)),e=e.replace(/PERPETUALCONTRACT|PERP|CHART/gi,"").replace(/\d{6,}$/,""),e||"BTCUSDT"},s$=[{key:"RSI@tv-basicstudies",label:"RSI-9"},{key:"MACD@tv-basicstudies",label:"MACD"},{key:"Volume@tv-basicstudies",label:"Volume"}],ew="singleTradeLiveView_infoFields",tw="singleTradeLiveView_intervalOrder",a$="singleTradeLiveView_infoGridHeight",l$="singleTradeLiveView_backDataHeight",o$="singleTradeLiveView_chartHeight",c$="singleTradeLiveView_infoLeftHeight",u$="singleTradeLiveView_backLeftHeight",nw="singleTradeLiveView_infoSplitPercent",rw="singleTradeLiveView_backSplitPercent",iw="singleTradeLiveView_infoFieldOrder",sw="singleTradeLiveView_sectionOrder",zm=["information","binanceData","chart"],f$={information:"Information",binanceData:"Binance Data",chart:"Chart"},h$="demo123",d$={execute:"Execute trade",endTrade:"End trade",hedge:"Hedge",setStopPrice:"Set stop price",addInvestment:"Add investment",clear:"Clear"};function g$({open:t,onClose:e,actionType:n,requireAmount:r,amountLabel:i="Amount",amountPlaceholder:l="0",extraLabel:o,extraValue:f,onConfirm:d}){const[g,p]=x.useState("password"),[v,_]=x.useState(""),[b,w]=x.useState(""),[S,T]=x.useState(""),[A,j]=x.useState(!1),I=d$[n]||n,Z=r&&g==="amount",Q=g==="password",Y=A,L=x.useCallback(()=>{p("password"),_(""),w(""),T(""),j(!1)},[]);x.useEffect(()=>{t&&L()},[t,n,L]);const U=x.useCallback(()=>{L(),e()},[e,L]),q=()=>{const De=(v||"").trim();return De?De!==h$?(T("Invalid password"),!1):(T(""),!0):(T("Enter password"),!1)},ie=()=>{q()&&(r?p("amount"):xe())},xe=async()=>{T("");try{const De={password:(v||"").trim()};r&&(De.amount=b.trim()),f!==void 0&&(De.extraValue=f),await(d&&d(De)),j(!0),setTimeout(U,1500)}catch(De){T((De==null?void 0:De.message)||"Failed")}},ue=()=>{if(r&&!(b||"").trim()){T(`Enter ${i.toLowerCase()}`);return}xe()};return t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:U,children:u.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl",onClick:De=>De.stopPropagation(),children:[u.jsx("h3",{className:"font-semibold text-lg mb-3",children:I}),Y&&u.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium mb-4",children:"Success!"}),!Y&&Q&&u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),u.jsx("input",{type:"password",value:v,onChange:De=>{_(De.target.value),T("")},placeholder:"Password",className:"w-full border-2 border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-[#333] text-[#222] dark:text-gray-200 mb-3",autoFocus:!0}),o&&f!=null&&u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[o,": ",f]})]}),!Y&&Z&&u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i}),u.jsx("input",{type:"text",inputMode:"decimal",value:b,onChange:De=>{w(De.target.value),T("")},placeholder:l,className:"w-full border-2 border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-[#333] text-[#222] dark:text-gray-200 mb-3",autoFocus:!0})]}),S&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mb-2",children:S}),!Y&&u.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[u.jsx("button",{type:"button",onClick:U,className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700",children:"Cancel"}),Q&&u.jsx("button",{type:"button",onClick:ie,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white",children:r?"Next":"Confirm"}),Z&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>p("password"),className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700",children:"Back"}),u.jsx("button",{type:"button",onClick:ue,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white",children:"Confirm"})]})]})]})}):null}const Vu={infoLeft:"singleTradeLiveView_zoom_infoLeft",infoGrid:"singleTradeLiveView_zoom_infoGrid",backLeft:"singleTradeLiveView_zoom_backLeft",backRight:"singleTradeLiveView_zoom_backRight",chart:"singleTradeLiveView_zoom_chart"},Ja={default:100,min:70,max:150,step:10};function p$({orderedKeys:t,allKeys:e,visibleKeys:n,setVisibleKeys:r,setFieldOrder:i,onClose:l}){const[o,f]=x.useState(null),[d,g]=x.useState(null),p=n??new Set(e),v=(j,I)=>{f(I),j.dataTransfer.effectAllowed="move",j.dataTransfer.setData("text/plain",String(I))},_=(j,I)=>{j.preventDefault(),j.dataTransfer.dropEffect="move",g(I)},b=()=>g(null),w=(j,I)=>{if(j.preventDefault(),g(null),o==null)return;const Z=o;if(f(null),Z===I)return;const Q=[...t],[Y]=Q.splice(Z,1);Q.splice(I,0,Y),i(Q)},S=()=>{f(null),g(null)},T=j=>{const I=new Set(p);I.has(j)?I.delete(j):I.add(j),r(I)},A=()=>r(new Set(e));return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:l,children:u.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-lg w-full shadow-xl max-h-[80vh] overflow-auto",onClick:j=>j.stopPropagation(),children:[u.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Information fields"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Toggle visibility and drag to reorder. Only checked fields are shown."}),u.jsx("ul",{className:"space-y-1",children:t.map((j,I)=>u.jsxs("li",{draggable:!0,onDragStart:Z=>v(Z,I),onDragOver:Z=>_(Z,I),onDragLeave:b,onDrop:Z=>w(Z,I),onDragEnd:S,className:`flex items-center gap-2 py-1.5 px-2 rounded border cursor-grab active:cursor-grabbing ${d===I?"border-teal-500 bg-teal-500/10":"border-transparent hover:bg-gray-100 dark:hover:bg-gray-800"} ${o===I?"opacity-60":""}`,children:[u.jsx("span",{className:"text-gray-400 select-none",title:"Drag to reorder",children:""}),u.jsx("input",{type:"checkbox",id:`info_${j}`,checked:p.has(j),onChange:()=>T(j)}),u.jsx("label",{htmlFor:`info_${j}`,className:"cursor-pointer flex-1",children:j.replace(/_/g," ")})]},j))}),u.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:A,className:"px-3 py-1 rounded bg-gray-200 dark:bg-gray-700",children:"Show all"}),u.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 rounded bg-teal-600 text-white",children:"Done"})]})]})})}function m$({sectionOrder:t,setSectionOrder:e,onClose:n}){const[r,i]=x.useState(null),[l,o]=x.useState(null),f=(_,b)=>{i(b),_.dataTransfer.effectAllowed="move",_.dataTransfer.setData("text/plain",String(b))},d=(_,b)=>{_.preventDefault(),_.dataTransfer.dropEffect="move",o(b)},g=()=>o(null),p=(_,b)=>{if(_.preventDefault(),o(null),r==null)return;const w=r;if(i(null),w===b)return;const S=[...t],[T]=S.splice(w,1);S.splice(b,0,T),e(S)},v=()=>{i(null),o(null)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:n,children:u.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-md w-full shadow-xl",onClick:_=>_.stopPropagation(),children:[u.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Section order"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Drag to set the order of sections (top to bottom)."}),u.jsx("ul",{className:"space-y-1",children:t.map((_,b)=>u.jsxs("li",{draggable:!0,onDragStart:w=>f(w,b),onDragOver:w=>d(w,b),onDragLeave:g,onDrop:w=>p(w,b),onDragEnd:v,className:`flex items-center gap-2 py-2.5 px-3 rounded border cursor-grab active:cursor-grabbing ${l===b?"border-teal-500 bg-teal-500/10":"border-transparent hover:bg-gray-100 dark:hover:bg-gray-800"} ${r===b?"opacity-60":""}`,children:[u.jsx("span",{className:"text-gray-400 select-none",title:"Drag to reorder",children:""}),u.jsx("span",{className:"font-medium",children:f$[_]||_})]},_))}),u.jsx("div",{className:"mt-4 flex justify-end",children:u.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded bg-teal-600 text-white",children:"Done"})})]})})}function Yu(t){const[e,n]=x.useState(()=>{try{const l=localStorage.getItem(t);if(l!=null){const o=parseInt(l,10);if(!Number.isNaN(o))return Math.max(Ja.min,Math.min(Ja.max,o))}}catch{}return Ja.default});return x.useEffect(()=>{localStorage.setItem(t,String(e))},[t,e]),[e,()=>n(l=>Math.max(Ja.min,l-Ja.step)),()=>n(l=>Math.min(Ja.max,l+Ja.step))]}function Gu({onDecrease:t,onIncrease:e,current:n,label:r,className:i=""}){const l=n<=Ja.min,o=n>=Ja.max,f=i||"min-w-[36px] min-h-[36px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 disabled:opacity-40 text-sm font-bold transition-colors";return u.jsxs("div",{className:"flex items-center gap-1",title:`${r||"Zoom"} (${n}%)`,children:[u.jsx("button",{type:"button",onClick:t,disabled:l,"aria-label":"Zoom out font",className:f,children:"A"}),u.jsx("button",{type:"button",onClick:e,disabled:o,"aria-label":"Zoom in font",className:f,children:"A+"})]})}const ta={infoGrid:{default:280,min:80,max:1400,step:40},infoLeft:{default:100,min:40,max:500,step:20},backData:{default:100,min:60,max:1e3,step:32},backLeft:{default:60,min:40,max:400,step:16},chart:{default:380,min:120,max:1400,step:40}};function qu(t,e){const[n,r]=x.useState(()=>{try{const l=localStorage.getItem(t);if(l!=null){const o=parseInt(l,10);if(!Number.isNaN(o))return Math.max(e.min,Math.min(e.max,o))}}catch{}return e.default});x.useEffect(()=>{localStorage.setItem(t,String(n))},[t,n]);const i=x.useCallback(l=>r(o=>Math.max(e.min,Math.min(e.max,typeof l=="function"?l(o):l))),[e.min,e.max]);return[n,i]}function Bm({value:t,min:e,max:n,onChange:r,label:i}){const l=x.useRef({y:0,value:0}),o=x.useRef(r);o.current=r;const f=x.useCallback(d=>{d.preventDefault(),d.stopPropagation(),l.current={y:d.clientY,value:t};const g=v=>{v.preventDefault();const _=v.clientY-l.current.y,b=Math.round(Math.max(e,Math.min(n,l.current.value+_)));o.current(b),l.current={y:v.clientY,value:b}},p=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""};document.body.style.cursor="ns-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)},[t,e,n]);return u.jsx("div",{role:"separator","aria-label":i||"Drag to resize height",className:"h-3 w-full cursor-ns-resize hover:bg-teal-500/50 bg-teal-600/70 flex-shrink-0 rounded-b flex items-center justify-center group select-none",title:"Drag to resize height",onMouseDown:f,children:u.jsx("span",{className:"text-white/80 text-xs group-hover:text-white pointer-events-none",children:""})})}function aw({leftPercent:t,min:e=20,max:n=80,onChange:r,label:i}){const l=x.useRef({x:0,value:0}),o=x.useRef(r);o.current=r;const f=x.useCallback(d=>{d.preventDefault(),d.stopPropagation(),l.current={x:d.clientX,value:t};const g=v=>{v.preventDefault();const b=(v.clientX-l.current.x)/window.innerWidth*100,w=Math.round(Math.max(e,Math.min(n,l.current.value+b)));o.current(w),l.current={x:v.clientX,value:w}},p=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""};document.body.style.cursor="ew-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)},[t,e,n]);return u.jsx("div",{role:"separator","aria-label":i||"Drag to resize width",className:"w-3 min-w-[12px] cursor-ew-resize hover:bg-teal-500/50 bg-teal-600/70 flex-shrink-0 flex items-center justify-center self-stretch rounded select-none",title:"Drag to resize columns",onMouseDown:f,children:u.jsx("span",{className:"text-white/80 text-xs pointer-events-none",children:""})})}function Xu(t){if(t==null)return"";const e=String(t);if(typeof document>"u")return e.replace(/<[^>]+>/g,"").trim();const n=document.createElement("div");return n.innerHTML=e,(n.textContent||"").trim()}function x$({tradePair:t,chartSize:e={width:500,height:400}}){const n=[i$(t),"BTCUSDT"],r=(Y,L)=>{try{const U=localStorage.getItem(`chartGridSetting_${Y}`);if(U!==null)return JSON.parse(U)}catch{}return L},[i,l]=x.useState(r("interval","15m")),[o,f]=x.useState(!1),[d,g]=x.useState(2),[p,v]=x.useState(()=>{try{const Y=localStorage.getItem(tw);if(Y)return JSON.parse(Y)}catch{}return[...QS]}),[_,b]=x.useState(!1),[w,S]=x.useState(r("indicators",["RSI@tv-basicstudies","MACD@tv-basicstudies","Volume@tv-basicstudies"])),[T]=x.useState(r("source","tradingview"));x.useEffect(()=>{T==="tradingview"&&n$()},[T]),x.useEffect(()=>{try{localStorage.setItem(tw,JSON.stringify(p))}catch{}},[p]);const A=o?p:[i],j=(e==null?void 0:e.height)??400,I=(e==null?void 0:e.width)??500,Z=p.join(","),Q=n.join(",");return x.useEffect(()=>{if(T!=="tradingview"||!window.TradingView)return;const Y=o?p:[i];n.forEach(L=>{Y.forEach(U=>{const q=U.replace(/[^a-z0-9]/gi,"_"),ie=`single_tv_${L}_${q}`,xe=document.getElementById(ie);xe&&(xe.innerHTML="",new window.TradingView.widget({container_id:ie,autosize:!0,symbol:`BINANCE:${L}PERP`,interval:r$[U]||"15",timezone:"Etc/UTC",theme:"dark",style:"8",locale:"en",studies:w,overrides:{volumePaneSize:w.includes("Volume@tv-basicstudies")?"medium":"0",paneProperties:{topMargin:10,bottomMargin:15,rightMargin:20},scalesProperties:{fontSize:11}},studies_overrides:{"RSI@tv-basicstudies.length":9},hide_side_toolbar:!1,allow_symbol_change:!1,details:!0,withdateranges:!0,hideideas:!0,toolbar_bg:"#222",height:j,width:I}))})})},[T,i,o,Z,w,d,Q,j,I]),u.jsxs("div",{className:"bg-[#111] rounded-lg p-4 text-white",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[u.jsxs("label",{children:["Interval:",u.jsx("select",{value:i,onChange:Y=>l(Y.target.value),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:QS.map(Y=>u.jsx("option",{value:Y,children:Y},Y))})]}),u.jsx("button",{type:"button",onClick:()=>f(Y=>!Y),className:`px-3 py-1 rounded ${o?"bg-amber-600":"bg-[#333]"} hover:opacity-90`,children:"Show all intervals"}),u.jsxs("label",{children:["Layout:",u.jsxs("select",{value:d,onChange:Y=>g(Number(Y.target.value)),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[u.jsx("option",{value:1,children:"1 per row"}),u.jsx("option",{value:2,children:"2 per row"})]})]}),u.jsx("button",{type:"button",onClick:()=>b(!0),className:"px-3 py-1 rounded bg-[#333] hover:bg-[#444]",children:" Interval order"}),s$.map(Y=>u.jsxs("label",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"checkbox",checked:w.includes(Y.key),onChange:L=>{S(U=>L.target.checked?[...U,Y.key]:U.filter(q=>q!==Y.key))}}),u.jsx("span",{children:Y.label})]},Y.key))]}),_&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",onClick:()=>b(!1),children:u.jsxs("div",{className:"bg-[#222] rounded-lg p-4 max-w-md w-full shadow-xl",onClick:Y=>Y.stopPropagation(),children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Interval order (top to bottom)"}),u.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Reorder which interval appears first when "Show all intervals" is on.'}),u.jsx("div",{className:"flex flex-col gap-1 mt-2",children:p.map((Y,L)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-500 w-6",children:[L+1,"."]}),u.jsx("span",{className:"flex-1",children:Y}),u.jsx("button",{type:"button",disabled:L===0,onClick:()=>{const U=[...p],[q]=U.splice(L,1);U.splice(L-1,0,q),v(U)},className:"px-2 py-0.5 rounded bg-[#333] disabled:opacity-40 text-sm",children:""}),u.jsx("button",{type:"button",disabled:L===p.length-1,onClick:()=>{const U=[...p],[q]=U.splice(L,1);U.splice(L+1,0,q),v(U)},className:"px-2 py-0.5 rounded bg-[#333] disabled:opacity-40 text-sm",children:""})]},Y))}),u.jsx("div",{className:"flex justify-end mt-3",children:u.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-3 py-1 rounded bg-teal-600",children:"Done"})})]})}),u.jsx("div",{className:"space-y-6",children:A.map(Y=>u.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${d}, minmax(0, 1fr))`},children:n.map(L=>{const U=Y.replace(/[^a-z0-9]/gi,"_");return u.jsxs("div",{className:"bg-[#181818] rounded p-2 flex flex-col items-center",children:[u.jsxs("div",{className:"font-bold mb-1 text-white",children:[L,"  ",Y]}),u.jsx("div",{id:`single_tv_${L}_${U}`,style:{width:"100%",height:e.height}})]},`${L}-${Y}`)})},Y))})]})}function N4({formattedRow:t,rawTrade:e}){const n=zc(),[r,i]=x.useState(t||{}),[l,o]=x.useState(e??null),f=r||{},d=Object.keys(f).filter(me=>me!==""&&f[me]!=null&&String(f[me]).trim()!==""),g=(l==null?void 0:l.unique_id)!=null?String(l.unique_id):f.Unique_ID!=null?String(Xu(f.Unique_ID)).trim():null;x.useEffect(()=>{if(!g)return;const me=(()=>{try{const V=localStorage.getItem(t$);if(V!=null){const Se=parseInt(V,10);if(!Number.isNaN(Se)&&Se>0)return Se}}catch{}return 20})();let Ge=!1;const cn=async()=>{try{const V=await fetch(`${sa()}/api/trades`);if(Ge||!V.ok)return;const Se=await V.json();if(Ge||!Array.isArray(Se))return;const Be=Se.find(Mt=>Mt.unique_id!=null&&String(Mt.unique_id)===g||Mt.Unique_ID!=null&&String(Mt.Unique_ID)===g);if(Ge||!Be)return;o(Be),i(t0(Be,0))}catch{}};cn();const Qt=setInterval(cn,me*1e3);return()=>{Ge=!0,clearInterval(Qt)}},[g]);const[p,v]=x.useState(()=>{try{const me=localStorage.getItem(iw);if(me){const Ge=JSON.parse(me);if(Array.isArray(Ge)&&Ge.length)return Ge}}catch{}return null}),[_,b]=x.useState(()=>{try{const me=localStorage.getItem(ew);if(me){const Ge=JSON.parse(me);if(Array.isArray(Ge))return new Set(Ge)}}catch{}return null}),w=p&&p.length?[...p.filter(me=>d.includes(me)),...d.filter(me=>!p.includes(me))]:d,S=w.filter(me=>!_||_.has(me)),[T,A]=x.useState(!1),[j,I]=x.useState(!1),[Z,Q]=x.useState(()=>{try{const me=localStorage.getItem(sw);if(me){const Ge=JSON.parse(me);if(Array.isArray(Ge)&&Ge.length===zm.length&&zm.every(cn=>Ge.includes(cn)))return Ge}}catch{}return[...zm]}),[Y,L]=x.useState(""),[U,q]=x.useState({open:!1,type:null}),[ie,xe]=qu(a$,ta.infoGrid),[ue,De]=qu(c$,ta.infoLeft),[We,Ye]=qu(l$,ta.backData),[ee,Pe]=qu(u$,ta.backLeft),[Fe,X]=qu(o$,ta.chart),[D,J]=x.useState(()=>{try{const me=localStorage.getItem(nw);if(me!=null){const Ge=parseInt(me,10);if(!Number.isNaN(Ge))return Math.max(20,Math.min(80,Ge))}}catch{}return 50}),[H,K]=x.useState(()=>{try{const me=localStorage.getItem(rw);if(me!=null){const Ge=parseInt(me,10);if(!Number.isNaN(Ge))return Math.max(20,Math.min(80,Ge))}}catch{}return 50});x.useEffect(()=>{localStorage.setItem(nw,String(D))},[D]),x.useEffect(()=>{localStorage.setItem(rw,String(H))},[H]);const[P,G,oe]=Yu(Vu.infoLeft),[Ne,Ie,Je]=Yu(Vu.infoGrid),[Ke,pn,Ft]=Yu(Vu.backLeft),[un,Zt,Bn]=Yu(Vu.backRight),[ft,He,Ct]=Yu(Vu.chart);x.useEffect(()=>{if(p&&p.length)try{localStorage.setItem(iw,JSON.stringify(p))}catch{}},[p]),x.useEffect(()=>{if(_&&_.size>0)try{localStorage.setItem(ew,JSON.stringify([..._]))}catch{}},[_]),x.useEffect(()=>{try{localStorage.setItem(sw,JSON.stringify(Z))}catch{}},[Z]);const yn=(l==null?void 0:l.pair)||Xu(f.Pair)||"",mn={width:500,height:Fe},Gn=x.useCallback(async({password:me,amount:Ge})=>{await new Promise(cn=>setTimeout(cn,300))},[l==null?void 0:l.unique_id]),cr=x.useCallback(async({password:me})=>{await new Promise(Ge=>setTimeout(Ge,300))},[l==null?void 0:l.unique_id]),ge=x.useCallback(async({password:me})=>{await new Promise(Ge=>setTimeout(Ge,300))},[l==null?void 0:l.unique_id]),ze=x.useCallback(async({password:me,extraValue:Ge})=>{await new Promise(cn=>setTimeout(cn,300))},[l==null?void 0:l.unique_id]),nt=x.useCallback(async({password:me,amount:Ge})=>{await new Promise(cn=>setTimeout(cn,300))},[l==null?void 0:l.unique_id]),Ee=x.useCallback(async({password:me})=>{await new Promise(Ge=>setTimeout(Ge,300))},[l==null?void 0:l.unique_id]),Oe=x.useCallback(me=>{switch(me){case"execute":return Gn;case"endTrade":return cr;case"hedge":return ge;case"setStopPrice":return ze;case"addInvestment":return nt;case"clear":return Ee;default:return async()=>{}}},[Gn,cr,ge,ze,nt,Ee]);return u.jsxs("div",{className:"fixed inset-0 flex flex-col bg-[#f5f6fa] dark:bg-[#0f0f0f] text-[#222] dark:text-gray-200 overflow-hidden w-full",children:[u.jsxs("div",{className:"flex-none flex items-center justify-between gap-2 px-3 sm:px-4 py-2 bg-[#181818] text-white border-b border-gray-700 shadow-md",children:[u.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-3 py-1.5 rounded-lg bg-teal-600 hover:bg-teal-700 font-medium transition-colors min-h-[40px] shrink-0",children:" Back"}),u.jsxs("span",{className:"font-semibold text-base sm:text-lg truncate",children:["Live Trade  ",Xu(f.Pair)||"N/A"]}),u.jsx(J1,{className:"px-3 py-1.5 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm font-semibold shrink-0"}),u.jsxs("button",{type:"button",onClick:()=>I(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors min-h-[40px] shrink-0",title:"Section order",children:[u.jsx(LP,{size:20}),"Layout"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-3 sm:p-4 space-y-3 sm:space-y-4 min-h-0",children:Z.map(me=>me==="information"?u.jsxs("section",{className:"rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#181a20] overflow-hidden shadow-lg flex-shrink-0 flex flex-col",style:{minHeight:200},children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-teal-800 to-teal-700 text-white font-semibold flex-shrink-0",children:[u.jsx("span",{className:"text-sm sm:text-base",children:"Information"}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx("span",{className:"text-white/90 text-xs mr-1",children:"Grid zoom:"}),u.jsx(Gu,{onDecrease:Ie,onIncrease:Je,current:Ne,label:"Zoom grid",className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 text-white text-xs font-bold disabled:opacity-40"}),u.jsxs("button",{type:"button",onClick:()=>A(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-sm font-medium transition-colors min-h-[36px] sm:min-h-[40px]",children:[u.jsx(HP,{size:18}),"Settings"]}),u.jsxs("button",{type:"button",onClick:()=>q({open:!0,type:"execute"}),className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 text-white text-lg font-bold shadow-lg shadow-emerald-500/40 hover:shadow-emerald-500/50 hover:scale-105 active:scale-100 transition-all min-h-[48px] border-2 border-emerald-400/50",children:[u.jsx(zP,{size:24,fill:"currentColor"}),"Execute"]})]})]}),u.jsxs("div",{className:"flex min-h-0 p-3 sm:p-4 gap-0 flex-shrink-0",style:{height:ie},children:[u.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-500 bg-gray-50 dark:bg-[#0d0d0d] transition-all overflow-hidden flex-shrink-0",style:{width:`${D}%`,minHeight:ue,fontSize:`${P/100*14}px`},children:u.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap justify-center",children:[u.jsx("span",{children:"(Empty  for future use)"}),u.jsx(Gu,{onDecrease:G,onIncrease:oe,current:P,label:"Zoom left",className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-40 text-gray-800 dark:text-white text-xs font-bold"})]})}),u.jsx(aw,{leftPercent:D,onChange:J,min:20,max:80}),u.jsx("div",{className:"min-w-0 flex-1 flex flex-col overflow-hidden",style:{width:`${100-D}%`},children:u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3 overflow-y-auto pr-1 flex-1 min-h-0",style:{fontSize:`${Ne/100*14}px`},children:S.map(Ge=>u.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-gradient-to-br from-gray-50 to-white dark:from-[#1e1e1e] dark:to-[#252525] p-3 shadow-sm hover:shadow-md hover:border-teal-400/50 dark:hover:border-teal-500/50 transition-all",children:[u.jsx("div",{className:"text-[10px] sm:text-xs font-semibold uppercase tracking-wide text-teal-700 dark:text-teal-400 mb-1 truncate",title:Ge.replace(/_/g," "),children:Ge.replace(/_/g," ")}),u.jsx("div",{className:"font-medium text-[#222] dark:text-gray-200 break-words leading-snug max-h-14 overflow-hidden",style:{fontSize:"1em"},title:Xu(f[Ge]),children:Xu(f[Ge])})]},Ge))})})]}),u.jsx(Bm,{value:ie,min:ta.infoGrid.min,max:ta.infoGrid.max,onChange:xe,label:"Drag to resize Information section height"})]},"information"):me==="binanceData"?u.jsxs("section",{className:"rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#181a20] overflow-hidden shadow-lg flex-shrink-0 flex flex-col",children:[u.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-teal-800 to-teal-700 text-white font-semibold flex-shrink-0",children:u.jsx("span",{className:"text-sm sm:text-base",children:"Binance Data"})}),u.jsxs("div",{className:"flex min-h-0 p-3 sm:p-4 gap-0 flex-shrink-0",style:{height:We},children:[u.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-500 bg-gray-50 dark:bg-[#0d0d0d] overflow-hidden flex-shrink-0",style:{width:`${H}%`,minHeight:ee,fontSize:`${Ke/100*14}px`},children:u.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap justify-center",children:[u.jsx("span",{children:"(Empty  for future use)"}),u.jsx(Gu,{onDecrease:pn,onIncrease:Ft,current:Ke,label:"Zoom left",className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-40 text-gray-800 dark:text-white text-xs font-bold"})]})}),u.jsx(aw,{leftPercent:H,onChange:K,min:20,max:80}),u.jsx("div",{className:"min-w-0 flex-1 flex flex-wrap items-center gap-3 sm:gap-4 overflow-auto",style:{width:`${100-H}%`,fontSize:`${un/100*14}px`},children:u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx(Gu,{onDecrease:Zt,onIncrease:Bn,current:un,label:"Zoom buttons",className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-teal-700/80 hover:bg-teal-600 text-white text-xs font-bold disabled:opacity-40"}),u.jsxs("button",{type:"button",onClick:()=>q({open:!0,type:"endTrade"}),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-red-600 hover:bg-red-700 text-white font-semibold shadow-md hover:shadow-lg transition-all border border-red-500/50",children:[u.jsx(VP,{size:18}),"End Trade"]}),u.jsxs("button",{type:"button",onClick:()=>q({open:!0,type:"hedge"}),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-amber-600 hover:bg-amber-700 text-white font-semibold shadow-md hover:shadow-lg transition-all border border-amber-500/50",children:[u.jsx($P,{size:18}),"Hedge"]}),u.jsxs("div",{className:"inline-flex items-center gap-2 flex-wrap",children:[u.jsx("label",{className:"font-medium text-[#222] dark:text-gray-200",children:"Stop price:"}),u.jsx("input",{type:"text",value:Y,onChange:Ge=>L(Ge.target.value),placeholder:"Price",className:"border-2 border-gray-400 dark:border-gray-600 rounded-lg px-3 py-1.5 bg-white dark:bg-[#222] text-[#222] dark:text-white w-28 font-medium"}),u.jsxs("button",{type:"button",onClick:()=>q({open:!0,type:"setStopPrice"}),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium shadow transition-all",children:[u.jsx(AP,{size:16}),"Set"]})]}),u.jsx("button",{type:"button",onClick:()=>q({open:!0,type:"addInvestment"}),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-semibold shadow-md hover:shadow-lg transition-all border border-emerald-500/50",children:"Add Investment"}),u.jsx("button",{type:"button",onClick:()=>q({open:!0,type:"clear"}),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-slate-600 hover:bg-slate-700 text-white font-semibold shadow-md hover:shadow-lg transition-all border border-slate-500/50",children:"Clear"})]})})]}),u.jsx(Bm,{value:We,min:ta.backData.min,max:ta.backData.max,onChange:Ye,label:"Drag to resize Binance Data section height"})]},"binanceData"):u.jsxs("section",{className:"rounded-xl border border-gray-300 dark:border-gray-700 overflow-hidden shadow-lg flex-1 min-h-[240px] flex flex-col",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-teal-800 to-teal-700 text-white font-semibold flex-shrink-0",children:[u.jsx("span",{className:"text-sm sm:text-base",children:"Chart"}),u.jsx(Gu,{onDecrease:He,onIncrease:Ct,current:ft,label:"Zoom chart labels"})]}),u.jsx("div",{className:"p-3 sm:p-4 flex-1 min-h-0 overflow-auto overflow-x-auto",style:{fontSize:`${ft/100*14}px`,minHeight:Fe},children:u.jsx(x$,{tradePair:yn,chartSize:mn})}),u.jsx(Bm,{value:Fe,min:ta.chart.min,max:ta.chart.max,onChange:X,label:"Drag to resize Chart section height"})]},"chart"))}),T&&u.jsx(p$,{orderedKeys:w,allKeys:d,visibleKeys:_,setVisibleKeys:b,setFieldOrder:v,onClose:()=>A(!1)}),j&&u.jsx(m$,{sectionOrder:Z,setSectionOrder:Q,onClose:()=>I(!1)}),u.jsx(g$,{open:U.open,onClose:()=>q({open:!1,type:null}),actionType:U.type,requireAmount:U.type==="execute"||U.type==="addInvestment",amountLabel:U.type==="execute"?"Amount":"Investment amount",amountPlaceholder:(U.type==="execute","0"),extraLabel:U.type==="setStopPrice"?"Stop price":void 0,extraValue:U.type==="setStopPrice"?Y:void 0,onConfirm:U.type?Oe(U.type):void 0})]})}const v$=({gridPreview:t,filterBar:e})=>u.jsx("div",{style:{padding:32,position:"relative"},children:u.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:24,marginBottom:24,width:"100%",minWidth:0},children:[u.jsx("div",{style:{minWidth:220,minHeight:180},children:t}),u.jsx("div",{style:{flex:1,minWidth:0,maxWidth:"100%",overflowX:"auto",background:"rgba(255,255,255,0.04)",borderRadius:16,border:"1.5px solid #333",padding:8,marginLeft:0},children:u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16,width:"100%",minWidth:0},children:e})})]})});function y$(){return new URLSearchParams($s().search)}const lw=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],ow=["1m","3m","5m","15m","30m","1h","4h","1d"],Ju=[{label:"ID",value:"id"},{label:"UID",value:"uid"},{label:"Source",value:"source"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Plain Message",value:"plain_message"},{label:"JSON Message",value:"json_message"},{label:"Timestamp",value:"timestamp"},{label:"Machine ID",value:"machine_id"}],b$=[{label:"Machine ID",value:"MachineId"},{label:"Unique ID",value:"Unique_id"},{label:"Candle Time",value:"Candel_time"},{label:"Fetcher Trade Time",value:"Fetcher_Trade_time"},{label:"Operator Trade Time",value:"Operator_Trade_time"},{label:"Pair",value:"Pair"},{label:"Interval",value:"Interval"},{label:"Action",value:"Action"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Type",value:"Type"},{label:"Operator Close Time",value:"Operator_Close_time"},{label:"Signal From",value:"SignalFrom"},{label:"Profit Journey",value:"Profit_journey"},{label:"Commission Journey",value:"Commision_journey"},{label:"Stop Price",value:"Stop_price"},{label:"Save Price",value:"Save_price"},{label:"Min Comm",value:"Min_comm"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1 Bool",value:"Hedge_1_1_bool"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Min Profit",value:"Min_profit"},{label:"Buy Qty",value:"Buy_qty"},{label:"Buy Price",value:"Buy_price"},{label:"Buy PL",value:"Buy_pl"},{label:"Added Qty",value:"Added_qty"},{label:"Sell Qty",value:"Sell_qty"},{label:"Sell Price",value:"Sell_price"},{label:"Sell PL",value:"Sell_pl"},{label:"Close Price",value:"Close_price"},{label:"Commission",value:"Commission"},{label:"Investment",value:"Investment"},{label:"Swing1",value:"Swing1"},{label:"Swing2",value:"Swing2"},{label:"Swing3",value:"Swing3"},{label:"Swing4",value:"Swing4"},{label:"Swing5",value:"Swing5"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Temp High Point",value:"Temp_High_Point"},{label:"Temp Low Point",value:"Temp_Low_Point"}],cw="LABEL_ROW";function _$({item:t,index:e,moveLabel:n,children:r,onHover:i,onDrop:l}){const o=Ur.useRef(null),[,f]=q1({accept:cw,hover(p){p.index!==e&&(n(p.index,e),p.index=e,i&&i())},drop(){l&&l()}}),[{isDragging:d},g]=G1({type:cw,item:{index:e},collect:p=>({isDragging:p.isDragging()})});return g(f(o)),u.jsx("div",{ref:o,style:{opacity:d?.5:1,cursor:"grab",width:"auto",minWidth:160,maxWidth:340,flex:"1 1 220px",marginBottom:0,background:"inherit",boxSizing:"border-box",display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:r})}function S$({items:t,moveLabel:e,renderRow:n,activeJsonLabels:r,setActiveJsonLabels:i,showUnchecked:l,dragOverIndex:o,setDragOverIndex:f}){return u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,width:"100%",alignItems:"flex-start",justifyContent:"flex-start",boxSizing:"border-box",minHeight:60,position:"relative"},children:t.map((d,g)=>u.jsxs("div",{style:{position:"relative",minWidth:220,maxWidth:340,flex:"1 1 220px",boxSizing:"border-box",marginBottom:0,display:"flex"},children:[o===g&&u.jsxs("div",{style:{position:"absolute",top:-8,left:0,width:"100%",height:0,zIndex:10,pointerEvents:"none",display:"flex",alignItems:"center"},children:[u.jsx("div",{style:{width:32,height:32,background:"#0ea5e9",color:"#fff",borderRadius:"50%",fontWeight:700,fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",marginLeft:8,marginBottom:2},children:g+1}),u.jsx("div",{style:{flex:1,height:4,background:"#ffe066",borderRadius:2,marginLeft:12,marginRight:8}})]}),u.jsxs(_$,{item:d,index:g,moveLabel:e,onHover:()=>f(g),onDrop:()=>f(null),children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:22},children:[u.jsxs("span",{style:{fontWeight:700,color:"#0ea5e9",minWidth:22,textAlign:"right"},children:[g+1,"."]}),d&&d.type==="json"&&Array.isArray(d.intervals)&&(()=>{const p=(d.intervals||[]).filter(({exists:w})=>w),v=p.filter(({interval:w})=>{var S;return!!((S=r==null?void 0:r[d.value])!=null&&S[w])}),_=p.length>0&&v.length===p.length,b=()=>{const w=!_;i(S=>{const T={...S};return T[d.value]||(T[d.value]={}),p.forEach(({interval:A})=>{T[d.value][A]=w}),T})};return u.jsxs("button",{onClick:b,style:{padding:"2px 8px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:_?"#22c55e":"#ef4444",color:"#fff",cursor:"pointer",transition:"background 0.2s",boxShadow:_?"0 2px 4px #22c55e44":"0 2px 4px #ef444444",minWidth:36},title:`${_?"Uncheck":"Check"} all intervals for ${(d==null?void 0:d.label)||""}`,children:[v.length,"/",p.length]})})()]}),n&&n(d,g)]})]},d.type+"_"+d.value))})}function w$({stateKeyFromUrl:t}){const[e,n]=x.useState(()=>{try{const r=localStorage.getItem(t);if(r){const i=JSON.parse(r);if(i.formattedRow)return{status:"ok",formattedRow:i.formattedRow,rawTrade:i.rawTrade??null}}}catch{}return{status:"pending"}});if(x.useEffect(()=>{if(e.status!=="pending")return;let r=0;const i=25,l=setInterval(()=>{r++;try{const o=localStorage.getItem(t);if(o){const f=JSON.parse(o);if(f.formattedRow){n({status:"ok",formattedRow:f.formattedRow,rawTrade:f.rawTrade??null});return}}}catch{}r>=i&&n({status:"failed"})},100);return()=>clearInterval(l)},[t,e.status]),e.status==="ok"){try{localStorage.removeItem(t)}catch{}return u.jsx(N4,{formattedRow:e.formattedRow,rawTrade:e.rawTrade})}return e.status==="failed"?u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 bg-[#0f0f0f] text-white p-4",children:[u.jsx("p",{className:"text-lg",children:"Could not load trade. The link may have expired."}),u.jsx("button",{type:"button",onClick:()=>window.close(),className:"px-4 py-2 rounded-lg bg-teal-600 hover:bg-teal-700",children:"Close tab"})]}):u.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#0f0f0f] text-white p-4",children:u.jsx("p",{className:"text-lg",children:"Opening trade"})})}const E$=()=>{var an,Ht;const e=$s().state||{},n=y$(),r=n.get("stateKey");if(e.formattedRow)return u.jsx(N4,{formattedRow:e.formattedRow,rawTrade:e.rawTrade??null});if(r)return u.jsx(w$,{stateKeyFromUrl:r});const i=n.get("uid")||"",l=n.get("interval")||"15m",o=n.get("type")||"Regular",f=C=>{if(!C)return"";try{const te=new Date(C);if(isNaN(te.getTime()))return C;const ne=te.getUTCDate().toString().padStart(2,"0"),Ae=(te.getUTCMonth()+1).toString().padStart(2,"0"),Ue=te.getUTCFullYear().toString().slice(-2),qe=te.getUTCHours().toString().padStart(2,"0"),At=te.getUTCMinutes().toString().padStart(2,"0");return`${ne}-${Ae}-${Ue} ${qe}:${At}`}catch{return C}},d=C=>{const te=["Candle_Time","timestamp","created_at","Time","Candel_time","Fetcher_Trade_time","Operator_Trade_time","Operator_Close_time","candle_time","time","date"],ne=["processing_time_ms","processing_time"];return te.some(Ue=>C.toLowerCase().includes(Ue.toLowerCase()))&&!ne.some(Ue=>C.toLowerCase().includes(Ue.toLowerCase()))},g=(C,te=!1)=>{if(C==null)return"";let ne=C;if(typeof C=="string")try{ne=JSON.parse(C.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null"))}catch{return C}if(typeof ne!="object"||Array.isArray(ne))return String(C);const Ae=At=>At.replace(/[_]/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,Qe=>Qe.toUpperCase()),Ue=Object.entries(ne).map(([At,Qe])=>`${Ae(At)}: ${Qe??""}`);if(te)return Ue.join(`
`);const qe=3;return Ue.length>qe?`${Ue.slice(0,qe).join(" | ")} `:Ue.join(" | ")},p=C=>(C||"").replace(/[_]/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,te=>te.toUpperCase()),v=C=>C==="json_message"?"":C,_=(C,te,{forTooltip:ne=!1}={})=>{if(C==null||C==="")return"";if(te){const Ae=te.toLowerCase();if(Ae.includes("plain_message")||Ae.includes("json_message"))return g(C,ne)}return d(te)?f(C):String(C)},[b,w]=x.useState(()=>{const C=localStorage.getItem("pair_stats_theme");if(C)return C==="dark";const te=localStorage.getItem("theme");return te?te==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{b?(document.body.classList.add("dark"),localStorage.setItem("pair_stats_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pair_stats_theme","light"))},[b]),x.useEffect(()=>{const C=te=>{if(te.key==="theme"||te.key==="pair_stats_theme"){const ne=te.newValue==="dark";w(ne)}};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[]);const[S,T]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_selected_signals");if(C)return JSON.parse(C);const te={};return lw.forEach(ne=>te[ne]=!0),te}),[A,j]=x.useState(()=>localStorage.getItem("liveTradeView_signal_radio_mode")==="true"),[I,Z]=x.useState(()=>localStorage.getItem("liveTradeView_signal_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_signals",JSON.stringify(S))},[S]);const[Q,Y]=x.useState([]),L=C=>{if(C===!0||C==="true"||C===1||C==="1")return!0;if(typeof C=="string"){const te=parseFloat(C);return!isNaN(te)&&te>0}return!1},U=C=>C==null?"":String(C),q=x.useMemo(()=>Q.map(C=>({MachineId:U(C.machineid??C.MachineId??C.machine_id??C.machineID??C.id),Active:L(C.active??C.Active??C.is_active??C.status)})).filter(C=>C.MachineId),[Q]);x.useEffect(()=>{(async()=>{try{const ne=await(await fetch(Nn("/api/machines"))).json();Y(Array.isArray(ne.machines)?ne.machines:[])}catch{Y([])}})()},[]);const ie=q,[xe,ue]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_selected_machines");if(C)try{return JSON.parse(C)}catch(ne){console.error(" Error parsing selectedMachines from localStorage:",ne)}const te={};return ie.forEach(ne=>te[ne.MachineId]=!0),te});x.useEffect(()=>{if(ie.length&&Object.keys(xe).length===0){const C={};ie.forEach(te=>{C[te.MachineId]=!0}),ue(C)}},[ie,xe]);const[De,We]=x.useState(()=>localStorage.getItem("liveTradeView_machine_radio_mode")==="true"),[Ye,ee]=x.useState(()=>localStorage.getItem("liveTradeView_machine_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_machines",JSON.stringify(xe))},[xe]);const[Pe,Fe]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_selected_actions");return C?JSON.parse(C):{BUY:!0,SELL:!0}}),[X,D]=x.useState(()=>localStorage.getItem("liveTradeView_action_radio_mode")==="true"),[J,H]=x.useState(()=>localStorage.getItem("liveTradeView_action_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_actions",JSON.stringify(Pe))},[Pe]);const[K,P]=x.useState([]);x.useEffect(()=>{fetch(Nn("/api/trades")).then(C=>C.json()).then(C=>{const te=Array.isArray(C.trades)?C.trades:[],ne=i?te.filter(Ae=>Ae.pair&&String(Ae.pair)===i||Ae.Pair&&String(Ae.Pair)===i||Ae.unique_id&&String(Ae.unique_id)===i||Ae.Unique_ID&&String(Ae.Unique_ID)===i):te;P(ne)}).catch(()=>P([]))},[i]);const[G,oe]=x.useState([]),[Ne,Ie]=x.useState(1),[Je,Ke]=x.useState(1),[pn,Ft]=x.useState(0),[un,Zt]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_logs_per_page");return C?parseInt(C):100}),[Bn,ft]=x.useState(!0),[He,Ct]=x.useState([]),[yn,mn]=x.useState(!1);x.useEffect(()=>{ft(!0),Ie(1);const C=Nn(i?`/api/bot-event-logs?uid=${encodeURIComponent(i)}&page=1&limit=${un}`:`/api/bot-event-logs?page=1&limit=${un}`);fetch(C).then(te=>{if(!te.ok)throw new Error(`HTTP ${te.status}: ${te.statusText}`);return te.json()}).then(te=>{var Ae,Ue;const ne=Array.isArray(te.logs)?te.logs:[];if(oe(ne),Ft(((Ae=te.pagination)==null?void 0:Ae.total)||ne.length),Ke(((Ue=te.pagination)==null?void 0:Ue.totalPages)||1),ft(!1),Array.isArray(te.logs)&&te.logs.length>0){let qe;try{qe=typeof te.logs[0].json_message=="string"?JSON.parse(te.logs[0].json_message):te.logs[0].json_message}catch(At){console.error(" Error parsing JSON message:",At);return}}}).catch(te=>{console.error("[LiveTradeViewPage] Error fetching bot event logs:",te),console.error(" Error details:",{message:te.message,stack:te.stack,uid:i,url:C}),oe([]),ft(!1)})},[i,un]);const[Gn,cr]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_selected_candle_types");return C?JSON.parse(C):{Regular:!0,Heiken:!1}});x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_candle_types",JSON.stringify(Gn))},[Gn]),x.useMemo(()=>{const C={Regular:0,Heiken:0,Unknown:0};return G.forEach(te=>{var qe;const ne=((qe=te.candle_pattern)==null?void 0:qe.toLowerCase())||"";ne==="regular"||ne==="normal"||ne==="regular_candle"?C.Regular++:ne==="heiken"||ne==="heikin"||ne==="heiken-ashi"||ne==="heiken_ashi"||ne==="heiken_candle"?C.Heiken++:C.Unknown++}),C},[G]);function ge(C){return C.filter(ne=>!(Object.keys(xe).length&&!xe[U(ne.machine_id)]))}const ze=ge(G),nt=ze,Ee=C=>{if(C<10||C>5e3)return;Zt(C),Ie(1),localStorage.setItem("liveTradeView_logs_per_page",C.toString()),ft(!0);const te=Nn(i?`/api/bot-event-logs?uid=${encodeURIComponent(i)}&page=1&limit=${C}`:`/api/bot-event-logs?page=1&limit=${C}`);fetch(te).then(ne=>ne.json()).then(ne=>{var Ue,qe;const Ae=Array.isArray(ne.logs)?ne.logs:[];oe(Ae),Ft(((Ue=ne.pagination)==null?void 0:Ue.total)||Ae.length),Ke(((qe=ne.pagination)==null?void 0:qe.totalPages)||1),ft(!1)}).catch(ne=>{console.error("[LiveTradeViewPage] Error fetching bot event logs:",ne),oe([]),ft(!1)})},Oe=C=>{if(C<1||C>Je)return;ft(!0),Ie(C);const te=Nn(i?`/api/bot-event-logs?uid=${encodeURIComponent(i)}&page=${C}&limit=${un}`:`/api/bot-event-logs?page=${C}&limit=${un}`);fetch(te).then(ne=>ne.json()).then(ne=>{const Ae=Array.isArray(ne.logs)?ne.logs:[];oe(Ae)}).catch(ne=>{console.error("[LiveTradeViewPage] Error fetching bot event logs:",ne),oe([])}).finally(()=>{ft(!1)})},me=u.jsx($0,{canonicalSignalKeys:lw,selectedSignals:S,setSelectedSignals:T,signalRadioMode:A,setSignalRadioMode:j,signalToggleAll:I,setSignalToggleAll:Z,allMachines:ie,selectedMachines:xe,setSelectedMachines:ue,machineRadioMode:De,setMachineRadioMode:We,machineToggleAll:Ye,setMachineToggleAll:ee,selectedActions:Pe,setSelectedActions:Fe,actionRadioMode:X,setActionRadioMode:D,actionToggleAll:J,setActionToggleAll:H,trades:K,darkMode:b});localStorage.getItem("pair_stats_reputation_enabled"),localStorage.getItem("pair_stats_reputation_intensity"),localStorage.getItem("pair_stats_reputation_mode");const Ge=u.jsxs("div",{className:`p-4 rounded-lg border ${b?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-200 text-gray-800"}`,children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Bot Event Log Summary"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-500",children:ze.length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Total Events"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-500",children:ze.filter(C=>C.pl_after_comm>0).length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Positive PL"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-red-500",children:ze.filter(C=>C.pl_after_comm<0).length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Negative PL"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-500",children:new Set(ze.map(C=>C.machine_id)).size}),u.jsx("div",{className:"text-sm text-gray-500",children:"Unique Machines"})]})]})]}),cn=x.useMemo(()=>{const C={};return ze.forEach(te=>{te.uid&&(C[te.uid]=te)}),C},[ze]),[Qt,V]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_list_font_size");return C?parseFloat(C):1});x.useEffect(()=>{localStorage.setItem("liveTradeView_list_font_size",Qt)},[Qt]),x.useEffect(()=>{const C=localStorage.getItem("liveTradeView_selected_json_columns");C&&JSON.parse(C)},[JSON.stringify(He)]),x.useEffect(()=>{},[]),He&&He.length>0,x.useEffect(()=>{localStorage.getItem("liveTradeView_selected_columns")},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{localStorage.getItem("liveTradeView_selected_trade_columns")},[]),x.useEffect(()=>{},[]);const Se="liveTradeView_regular_labels",Be=Ju.map(C=>C.value),Mt=()=>{const C=localStorage.getItem(Se);return C?JSON.parse(C):Be},[ot,Dt]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_settings_modal_open");return C?JSON.parse(C):!1}),[ht,_t]=x.useState(Mt()),jt="liveTradeView_json_labels",Bt=()=>{const C=localStorage.getItem(jt);if(C)try{const te=JSON.parse(C);return te&&typeof te=="object"?te:{}}catch{return{}}return{}},[$t,rn]=x.useState(Bt());function qn(C){const te=new Set,ne={};C.forEach((Ue,qe)=>{var ln;console.log(`=== Log ${qe} ===`),console.log("Full log object:",Ue);let At=null;if(Ue.parsed_json_message&&typeof Ue.parsed_json_message=="object")At=Ue.parsed_json_message,console.log("Using parsed_json_message:",At);else if(Ue.json_message)try{if(typeof Ue.json_message=="string"){let on=Ue.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");At=JSON.parse(on),console.log("Parsed json_message:",At)}else At=Ue.json_message,console.log("Using json_message directly:",At)}catch(on){console.error("Error parsing json_message:",on),console.error("Problematic json_message:",Ue.json_message)}else if(Ue.json_data)try{if(typeof Ue.json_data=="string"){let on=Ue.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");At=JSON.parse(on),console.log("Parsed json_data:",At)}else At=Ue.json_data,console.log("Using json_data directly:",At)}catch(on){console.error("Error parsing json_data:",on),console.error("Problematic json_data:",Ue.json_data);return}if(!At)return;let Qe;try{Qe=(ln=At==null?void 0:At.signal_data)==null?void 0:ln.all_last_rows}catch(on){console.log("[extractJsonLabelsAndIntervals] Error accessing all_last_rows:",on,At),Qe=void 0}Qe&&typeof Qe=="object"&&Object.keys(Qe).forEach(on=>{if(on==="candle_type")return;te.add(on);const vn=Qe[on];vn&&typeof vn=="object"&&Object.keys(vn).forEach(Kn=>{ne[Kn]||(ne[Kn]=new Set),ne[Kn].add(on)})}),Object.keys(At||{}).forEach(on=>{ne[on]||(ne[on]=new Set),ne[on].add("json_message"),te.add("json_message")})});const Ae=Array.from(te).sort((Ue,qe)=>{const At=["1m","3m","5m","15m","30m","1h","2h","4h","1d"],Qe=At.indexOf(Ue),ln=At.indexOf(qe);return Qe===-1&&ln===-1?Ue.localeCompare(qe):Qe===-1?1:ln===-1?-1:Qe-ln});return Object.entries(ne).map(([Ue,qe])=>({label:p(Ue),value:Ue,intervals:Ae.map(At=>({interval:At,exists:qe.has(At)}))}))}x.useEffect(()=>{if(G.length>0){const C=qn(G);Ct(C),mn(!0)}},[G,i,ht]);function Pn(C,te){const ne={};C.forEach(ln=>{ne[ln.value]=ln});const Ae=Object.keys(te||{}),Ue=Ae.filter(ln=>ne[ln]),qe={};C.forEach(ln=>{!te[ln.value]&&!qe[ln.value]&&(qe[ln.value]=ln)});const At=Object.values(qe),Qe=Ae.filter(ln=>!ne[ln]);return{existed:Ue,newlyAdded:At,deleted:Qe}}Pn(He,$t||{});const[wn,qt]=x.useState(!1);yn?He.filter(C=>$t[C.value]).flatMap(C=>(C.intervals||[]).filter(te=>{var ne;return(ne=$t[C.value])==null?void 0:ne[te]}).map(te=>({parent:C,interval:te}))):Object.keys($t).flatMap(C=>Object.keys($t[C]||{}).filter(te=>$t[C][te]).map(te=>({parent:{label:C,value:C},interval:te})));const fn="liveTradeView_unified_labels_order";function kn(){const C=[],te=new Set;Ju.forEach(Ae=>{te.has(Ae.value)||(C.push({type:"regular",value:Ae.value,label:Ae.label}),te.add(Ae.value))});const ne=new Set;return He.forEach(Ae=>{ne.has(Ae.value)||(C.push({type:"json",value:Ae.value,label:Ae.label||p(Ae.value),intervals:Ae.intervals}),ne.add(Ae.value))}),C}function Hn(C){const te=localStorage.getItem(fn);if(te)try{const ne=JSON.parse(te),Ae={};C.forEach(Qe=>{Ae[Qe.type+"_"+Qe.value]=Qe});const Ue=ne.map(Qe=>Ae[Qe.type+"_"+Qe.value]).filter(Boolean),qe=new Set(ne.map(Qe=>Qe.type+"_"+Qe.value)),At=C.filter(Qe=>!qe.has(Qe.type+"_"+Qe.value));return[...Ue,...At]}catch{return C}return C}const[En,Cn]=x.useState(()=>Hn(kn())),hr=x.useRef(!1);x.useEffect(()=>{if(hr.current)return;const C=kn();Cn(te=>{const ne=new Set(te.map(Qe=>Qe.type+"_"+Qe.value)),Ae=new Set(C.map(Qe=>Qe.type+"_"+Qe.value));let Ue=te.filter(Qe=>Ae.has(Qe.type+"_"+Qe.value));const qe=C.filter(Qe=>!ne.has(Qe.type+"_"+Qe.value));return[...Ue,...qe]})},[JSON.stringify(He)]),x.useEffect(()=>{const C=kn();Cn(Hn(C))},[JSON.stringify(He)]);const[_n,we]=x.useState(!1),[E,O]=x.useState(!1),[R,M]=x.useState({}),[F,W]=x.useState(!1);x.useEffect(()=>{const C=localStorage.getItem("pair_stats_interval_master_checked");C?M(JSON.parse(C)):ow.forEach(te=>M(ne=>({...ne,[te]:!0})))},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_interval_master_checked",JSON.stringify(R))},[R]),x.useEffect(()=>{const C=localStorage.getItem("liveTradeView_all_regular_checked");O(C?JSON.parse(C):!1)},[]),x.useEffect(()=>{localStorage.setItem("liveTradeView_all_regular_checked",JSON.stringify(E))},[E]),x.useEffect(()=>{const C=localStorage.getItem("liveTradeView_show_unchecked");we(C?JSON.parse(C):!1)},[]),x.useEffect(()=>{localStorage.setItem("liveTradeView_show_unchecked",JSON.stringify(_n))},[_n]);const se="liveTradeView_settings_modal_pos",Te="liveTradeView_settings_modal_size",he=()=>{const C=localStorage.getItem(se);let te={x:window.innerWidth/2-400,y:window.innerHeight/2-300};if(C)try{const ln=JSON.parse(C);typeof ln.x=="number"&&typeof ln.y=="number"&&(te=ln)}catch{}const ne=be(),Ae=window.innerWidth,Ue=window.innerHeight;let qe=Math.min(ne.width,Ae);Math.min(ne.height,Ue);let At=Math.max(0,Math.min(Ae-qe,te.x)),Qe=te.y;return Qe<0&&(Qe=0),Qe>Ue-48&&(Qe=Ue-48),{x:At,y:Qe}},be=()=>{const C=localStorage.getItem(Te);let te={width:700,height:500};if(C)try{const Ue=JSON.parse(C);typeof Ue.width=="number"&&typeof Ue.height=="number"&&(te=Ue)}catch{}const ne=window.innerWidth,Ae=window.innerHeight;return{width:Math.min(te.width,ne),height:Math.min(te.height,Ae)}},[ve,et]=x.useState(he),[it,dt]=x.useState(be),[st,mt]=x.useState(!1),Xt=x.useRef({x:0,y:0});function en(C){mt(!0),Xt.current={x:C.clientX-ve.x,y:C.clientY-ve.y},document.body.style.userSelect="none"}x.useEffect(()=>{function C(ne){if(!st)return;const Ae=window.innerWidth,Ue=window.innerHeight,qe=document.querySelector('[role="dialog"][aria-label="Settings"]');let At=qe?qe.offsetWidth:it.width;qe?qe.offsetHeight:it.height;const Qe=Math.floor(.05*At),ln=48;let on=Math.max(-At+Qe,Math.min(Ae-Qe,ne.clientX-Xt.current.x)),vn=Math.max(ln*-.9,Math.min(Ue-48,ne.clientY-Xt.current.y));et({x:on,y:vn})}function te(){mt(!1),document.body.style.userSelect=""}return st&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",te)}},[st,ve,it]);const hn=x.useRef(null),[dn,sr]=x.useState(!1),Un=x.useRef({x:0,y:0,width:0,height:0});function er(C){C.stopPropagation(),sr(!0);const te=hn.current;Un.current={x:C.clientX,y:C.clientY,width:te?te.offsetWidth:it.width,height:te?te.offsetHeight:it.height},document.body.style.userSelect="none"}x.useEffect(()=>{function C(ne){if(!dn)return;const Ae=window.innerWidth-ve.x,Ue=window.innerHeight-ve.y;let qe=Math.max(200,Math.min(Ae,Un.current.width+(ne.clientX-Un.current.x))),At=Math.max(100,Math.min(Ue,Un.current.height+(ne.clientY-Un.current.y)));dt({width:qe,height:At});const Qe=hn.current;Qe&&(Qe.style.width=qe+"px",Qe.style.height=At+"px")}function te(){sr(!1),document.body.style.userSelect=""}return dn&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",te)}},[dn,ve,it]),x.useEffect(()=>{localStorage.setItem(Te,JSON.stringify(it))},[it]),x.useEffect(()=>{function C(){const te=document.querySelector('[role="dialog"][aria-label="Settings"]');if(!te)return;const ne=te.getBoundingClientRect();let Ae=ve.x,Ue=ve.y;ne.width,ne.height;const qe=window.innerWidth,At=window.innerHeight,Qe=48,ln=Math.floor(.05*ne.width),on=Math.floor(.05*ne.height);ne.right>qe-ln&&(Ae=Math.max(0,qe-ln-ne.width)),ne.bottom>At-on&&(Ue=Math.max(Qe,At-on-ne.height)),ne.left<-ne.width+ln&&(Ae=-ne.width+ln),ne.top<-ne.height+on&&(Ue=-ne.height+on),ne.width>qe,ne.height>At,(Ae!==ve.x||Ue!==ve.y)&&et({x:Ae,y:Ue}),te.style&&(te.style.maxWidth=qe+"px",te.style.maxHeight=At+"px",ne.width>qe&&(te.style.width=qe+"px"),ne.height>At&&(te.style.height=At+"px"))}return window.addEventListener("resize",C),C(),()=>window.removeEventListener("resize",C)},[ve]),x.useEffect(()=>{localStorage.setItem(se,JSON.stringify(ve))},[ve]);const[Jn,Dr]=x.useState(!1),de="liveTradeView_settings_modal_scale",[Ot,Ve]=x.useState(()=>{const C=localStorage.getItem(de);return C?parseFloat(C):1});x.useEffect(()=>{localStorage.setItem(de,Ot)},[Ot]),x.useEffect(()=>{if(ot)Dr(!0);else{const C=setTimeout(()=>Dr(!1),180);return()=>clearTimeout(C)}},[ot]),x.useEffect(()=>{localStorage.setItem("liveTradeView_settings_modal_open",JSON.stringify(ot))},[ot]),x.useEffect(()=>{function C(te){ot&&te.key==="Escape"&&Dt(!1)}return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[ot]);const[Lt,le]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_settings_modal_opacity");return C?parseFloat(C):1});x.useEffect(()=>{localStorage.setItem("listview_settings_modal_opacity",Lt)},[Lt]);const[Ce,yt]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_label_font_size");return C?parseFloat(C):1}),[Wt,Dn]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_label_wrap");return C?JSON.parse(C):!1});x.useEffect(()=>{localStorage.setItem("listview_label_font_size",Ce)},[Ce]),x.useEffect(()=>{localStorage.setItem("listview_label_wrap",JSON.stringify(Wt))},[Wt]);const[bt,Ut]=x.useState(()=>{const C=localStorage.getItem("liveTradeView_filter_bar_visible");return C?JSON.parse(C):!0});x.useEffect(()=>{localStorage.setItem("liveTradeView_filter_bar_visible",JSON.stringify(bt))},[bt]);function Yt(){const C=En.map(Ae=>({type:Ae.type,value:Ae.value}));localStorage.setItem(fn,JSON.stringify(C)),localStorage.setItem(Se,JSON.stringify(ht)),localStorage.setItem(jt,JSON.stringify($t));const te=document.createElement("div");te.textContent=" Settings saved successfully!",te.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #22c55e;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      z-index: 10000;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      animation: slideIn 0.3s ease-out;
    `;const ne=document.createElement("style");ne.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(ne),document.body.appendChild(te),setTimeout(()=>{te.parentNode&&te.parentNode.removeChild(te)},3e3)}const[sn,Fr]=x.useState(null),[br,dr]=x.useState("asc"),Or=(C,te,ne=null,Ae=null)=>{const Ue={type:C,key:te,parentKey:ne,interval:Ae};sn&&JSON.stringify(sn)===JSON.stringify(Ue)?dr(qe=>qe==="asc"?"desc":"asc"):(Fr(Ue),dr("asc"))},Wn=(C,te)=>{var At,Qe,ln;if(!te)return;const{type:ne,key:Ae,parentKey:Ue,interval:qe}=te;if(ne==="regular")return C[Ae];if(ne==="trade")return(At=cn[C.uid])==null?void 0:At[Ae];if(ne==="json"&&Ue&&qe){let on={};try{if(typeof C.json_message=="string"){let Kn=C.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");on=JSON.parse(Kn)}else on=C.json_message||{}}catch{on={}}return(ln={...((Qe=on==null?void 0:on.signal_data)==null?void 0:Qe.all_last_rows)||{},json_message:on&&typeof on=="object"&&!Array.isArray(on)?on:{}}[qe])==null?void 0:ln[Ue]}},ai=C=>sn?[...C].sort((te,ne)=>{let Ae=Wn(te,sn),Ue=Wn(ne,sn);if(typeof Ae=="object"&&(Ae=JSON.stringify(Ae)),typeof Ue=="object"&&(Ue=JSON.stringify(Ue)),sn.type==="regular"&&d(sn.key)){const Qe=new Date(Ae),ln=new Date(Ue);if(!isNaN(Qe.getTime())&&!isNaN(ln.getTime()))return Qe<ln?br==="asc"?-1:1:Qe>ln?br==="asc"?1:-1:0}const qe=parseFloat(Ae),At=parseFloat(Ue);return!isNaN(qe)&&!isNaN(At)?br==="asc"?qe-At:At-qe:(Ae=Ae==null?"":String(Ae),Ue=Ue==null?"":String(Ue),Ae<Ue?br==="asc"?-1:1:Ae>Ue?br==="asc"?1:-1:0)}):C,[li,ji]=x.useState(null);function cs(){const C={width:700,height:500},te=window.innerWidth,ne=window.innerHeight,Ae=Math.max(0,Math.floor((te-C.width)/2)),Ue=Math.max(0,Math.floor((ne-C.height)/2));et({x:Ae,y:Ue}),dt(C),Ve(1),localStorage.setItem(se,JSON.stringify({x:Ae,y:Ue})),localStorage.setItem(Te,JSON.stringify(C)),localStorage.setItem(de,"1.0")}const[Kt,Ki]=x.useState(null),tn="liveTradeView_filter_table_spacing",[$i,Mn]=x.useState(()=>{const C=localStorage.getItem(tn);return C?parseInt(C):0});x.useEffect(()=>{localStorage.setItem(tn,$i.toString())},[$i]);const[Vr,Ts]=x.useState(null);function Zi(C,te){C.stopPropagation(),sr(!0),Ts(te);const ne=hn.current;Un.current={x:C.clientX,y:C.clientY,width:ne?ne.offsetWidth:it.width,height:ne?ne.offsetHeight:it.height,left:ne?ne.offsetLeft:ve.x,top:ne?ne.offsetTop:ve.y},document.body.style.userSelect="none"}x.useEffect(()=>{function C(ne){if(!dn||!Vr)return;let{x:Ae,y:Ue,width:qe,height:At,left:Qe,top:ln}=Un.current,on=ne.clientX-Ae,vn=ne.clientY-Ue,Kn=qe,Sr=At,N=ve.x,re=ve.y;switch(Vr){case"right":Kn=Math.max(200,qe+on);break;case"left":Kn=Math.max(200,qe-on),N=Qe+on;break;case"bottom":Sr=Math.max(100,At+vn);break;case"top":Sr=Math.max(100,At-vn),re=ln+vn;break;case"top-left":Kn=Math.max(200,qe-on),N=Qe+on,Sr=Math.max(100,At-vn),re=ln+vn;break;case"top-right":Kn=Math.max(200,qe+on),Sr=Math.max(100,At-vn),re=ln+vn;break;case"bottom-left":Kn=Math.max(200,qe-on),N=Qe+on,Sr=Math.max(100,At+vn);break;case"bottom-right":Kn=Math.max(200,qe+on),Sr=Math.max(100,At+vn);break}dt({width:Kn,height:Sr}),et({x:N,y:re});const ce=hn.current;ce&&(ce.style.width=Kn+"px",ce.style.height=Sr+"px",ce.style.left=N+"px",ce.style.top=re+"px")}function te(){sr(!1),Ts(null),document.body.style.userSelect=""}return dn&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",te)}},[dn,ve,it,Vr]);const[Nt,gi]=x.useState([]),[zt,Li]=x.useState(1),[Gt,pi]=x.useState(1),[ei,Gs]=x.useState(0),[Kl,ks]=x.useState(!1),[oi,Zl]=x.useState("timestamp"),[_r,Wi]=x.useState("desc"),Cs=x.useMemo(()=>Nt.length>0?Nt:nt,[Nt,nt]),da=x.useMemo(()=>ai(Cs),[Cs,sn,br]);x.useEffect(()=>{if(!oi&&!_r)return;ks(!0);let C=Nn(`/api/bot-event-logs?page=${zt}&limit=${un}`);C+=`&sortKey=${oi}&sortDirection=${_r}`,i&&(C+=`&uid=${encodeURIComponent(i)}`),fetch(C).then(te=>te.json()).then(te=>{var ne,Ae;gi(Array.isArray(te.logs)?te.logs:[]),Gs(((ne=te.pagination)==null?void 0:ne.total)||0),pi(((Ae=te.pagination)==null?void 0:Ae.totalPages)||1),ks(!1)}).catch(()=>{gi([]),Gs(0),pi(1),ks(!1)})},[zt,un,oi,_r,i]);const Vi=C=>{C<1||C>Gt||Li(C)},Ra=(C,te,ne=null,Ae=null)=>{oi===te?Wi(Ue=>Ue==="asc"?"desc":"asc"):(Zl(te),Wi("asc")),Fr({type:C,key:te,parentKey:ne,interval:Ae})},[qs,z]=x.useState(!1),[fe,ye]=x.useState(!1),Ze=()=>{if(Nt.length>0)z(!0);else{const C=vt(nt);if(C.length===0){alert("No data to export!");return}const te=fr.json_to_sheet(C),ne=fr.book_new();fr.book_append_sheet(ne,te,"Data"),ka(ne,"exported_data.xlsx")}},gt=async C=>{if(z(!1),C==="pagination"){const te=vt(Nt);if(te.length===0){alert("No data to export!");return}const ne=fr.json_to_sheet(te),Ae=fr.book_new();fr.book_append_sheet(Ae,ne,"Data"),ka(Ae,"exported_data.xlsx")}else if(C==="whole"){ye(!0);let te=Nn("/api/bot-event-logs?limit=all");te+=`&sortKey=${oi}&sortDirection=${_r}`,i&&(te+=`&uid=${encodeURIComponent(i)}`);try{const Ae=await(await fetch(te)).json(),Ue=Array.isArray(Ae.logs)?Ae.logs:[],qe=vt(Ue);if(qe.length===0){alert("No data to export!"),ye(!1);return}const At=fr.json_to_sheet(qe),Qe=fr.book_new();fr.book_append_sheet(Qe,At,"Data"),ka(Qe,"exported_data.xlsx")}catch{alert("Failed to fetch all data for export.")}ye(!1)}};function Et(){return En.filter(C=>C.type==="regular"?ht.includes(C.value):C.type==="json"&&Array.isArray(C.intervals)?(C.intervals||[]).some(({interval:te})=>{var ne;return(ne=$t[C.value])==null?void 0:ne[te]}):!1)}function Vt(C){if(!C)return"";const te=new Date(C);if(isNaN(te.getTime()))return C;const ne=Ae=>Ae.toString().padStart(2,"0");return`${te.getFullYear()}-${ne(te.getMonth()+1)}-${ne(te.getDate())} ${ne(te.getHours())}:${ne(te.getMinutes())}:${ne(te.getSeconds())}`}function vt(C){const te=Et();return C.map(ne=>{var At;let Ae={};try{if(typeof ne.json_message=="string"){let Qe=ne.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Ae=JSON.parse(Qe)}else Ae=ne.json_message||{}}catch{Ae={}}const Ue=((At=Ae==null?void 0:Ae.signal_data)==null?void 0:At.all_last_rows)||{},qe={};return te.forEach(Qe=>{let ln;Qe.type==="regular"?(ln=ne[Qe.value],d(Qe.value)?qe[Qe.label]=Vt(ln):typeof ln=="number"&&ln>1e12?qe[Qe.label]=ln.toString():qe[Qe.label]=ln):Qe.type==="json"&&Array.isArray(Qe.intervals)&&(Qe.intervals||[]).forEach(({interval:on})=>{var vn,Kn;(vn=$t[Qe.value])!=null&&vn[on]&&(ln=(Kn=Ue[on])==null?void 0:Kn[Qe.value],qe[`${Qe.label} [${on}]`]=ln)})}),qe})}return u.jsxs("div",{className:b?"dark":"",style:{minHeight:"100vh",background:b?"#181a20":"#f7f7fa"},children:[qs&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{style:{background:b?"#23272f":"#fff",color:b?"#fff":"#222",padding:32,borderRadius:16,fontSize:20,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",minWidth:340,minHeight:120,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[u.jsx("div",{children:"Export Data"}),u.jsxs("div",{style:{display:"flex",gap:18},children:[u.jsx("button",{onClick:()=>gt("pagination"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#0ea5e9",color:"#fff",boxShadow:"0 2px 8px #0ea5e944",cursor:"pointer",transition:"background 0.2s"},children:"Export Current Page"}),u.jsx("button",{onClick:()=>gt("whole"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export All Filtered Data"})]}),u.jsx("button",{onClick:()=>z(!1),style:{marginTop:12,background:"none",border:"none",color:b?"#fff":"#222",fontSize:18,cursor:"pointer"},children:"Cancel"})]})}),fe&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{background:b?"#23272f":"#fff",color:b?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Exporting data..."})}),u.jsxs("div",{style:{position:"absolute",top:8,right:200,zIndex:100,display:"flex",alignItems:"center",gap:12},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Spacing"}),u.jsx("button",{onClick:()=>Mn(C=>C-4),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",cursor:"pointer"},title:"Reduce space between filters and table",children:""}),u.jsx("button",{onClick:()=>Mn(C=>Math.min(100,C+4)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",cursor:"pointer"},title:"Increase space between filters and table",children:""}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[$i,"px"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Table Font"}),u.jsx("button",{onClick:()=>V(C=>Math.max(.7,C-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",cursor:"pointer"},children:"A"}),u.jsx("button",{onClick:()=>V(C=>Math.min(2,C+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",cursor:"pointer"},children:"A+"}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(Qt*100),"%"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Label Font"}),u.jsx("button",{onClick:()=>yt(C=>Math.max(.7,C-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",cursor:"pointer"},children:"A"}),u.jsx("button",{onClick:()=>yt(C=>Math.min(2,C+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",cursor:"pointer"},children:"A+"}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(Ce*100),"%"]})]}),u.jsx("button",{onClick:()=>Dn(C=>!C),style:{padding:"3px 10px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:12,background:Wt?b?"#0ea5e9":"#0d9488":b?"#23272f":"#fff",color:Wt||b?"#fff":"#222",cursor:"pointer",boxShadow:Wt?"0 2px 8px #0ea5e944":"0 2px 8px #8882",transition:"background 0.2s"},title:"Wrap label text at word boundaries",children:Wt?"Unwrap Labels":"Wrap Labels"})]}),u.jsx("div",{style:{position:"absolute",top:24,left:24,zIndex:100},children:u.jsx("button",{onClick:()=>window.location.href="/reports",style:{background:"none",border:"none",cursor:"pointer",fontSize:24,color:b?"#fff":"#222",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseEnter:C=>C.target.style.backgroundColor=b?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",onMouseLeave:C=>C.target.style.backgroundColor="transparent","aria-label":"Back to Grid Reports",title:"Back to Grid Reports",children:u.jsx("span",{role:"img","aria-label":"back to grid",children:""})})}),u.jsxs("div",{style:{position:"absolute",top:24,right:80,zIndex:100,display:"flex",gap:8,alignItems:"center"},children:[u.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset the settings screen? Yes / No")&&cs()},style:{background:"none",border:"none",cursor:"pointer",fontSize:22,color:b?"#fff":"#222",marginRight:2},"aria-label":"Reset Settings",title:"Reset Settings Screen",children:u.jsx("span",{role:"img","aria-label":"reset",children:""})}),u.jsx("button",{onClick:()=>Dt(C=>!C),style:{background:"none",border:"none",cursor:"pointer",fontSize:28,color:b?"#fff":"#222"},"aria-label":ot?"Close Settings":"Open Settings","aria-haspopup":"dialog","aria-expanded":ot,children:u.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),Jn&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.10)",zIndex:199,transition:"opacity 0.18s",opacity:ot?1:0,pointerEvents:"none"},"aria-hidden":"true"}),u.jsxs("div",{ref:hn,role:"dialog","aria-modal":"true","aria-label":"Settings",style:{position:"fixed",top:ve.y,left:ve.x,minHeight:100,minWidth:200,zIndex:200,width:it.width,maxWidth:"100vw",background:b?`rgba(35,39,47,${Lt})`:`rgba(255,255,255,${Lt})`,color:b?"#fff":"#222",borderRadius:18,boxShadow:"0 4px 32px 0 rgba(0,0,0,0.18)",padding:0,display:"flex",flexDirection:"column",overflow:"hidden",height:it.height,maxHeight:"100vh",margin:"0 auto",boxSizing:"border-box",resize:"none",cursor:st?"move":"default",opacity:ot?1:0,transform:ot?"scale(1)":"scale(0.96)",transition:"opacity 0.18s, transform 0.18s",pointerEvents:ot?"auto":"none"},children:[[["top-left",{top:-8,left:-8,cursor:"nwse-resize"}],["top",{top:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["top-right",{top:-8,right:-8,cursor:"nesw-resize"}],["right",{top:"50%",right:-8,transform:"translateY(-50%)",cursor:"ew-resize"}],["bottom-right",{bottom:-8,right:-8,cursor:"nwse-resize"}],["bottom",{bottom:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["bottom-left",{bottom:-8,left:-8,cursor:"nesw-resize"}],["left",{top:"50%",left:-8,transform:"translateY(-50%)",cursor:"ew-resize"}]].map(([C,te])=>u.jsx("div",{onMouseDown:ne=>Zi(ne,C),style:{position:"absolute",width:18,height:18,background:b?"#0ea5e9":"#2563eb",border:"2px solid #fff",borderRadius:6,zIndex:1e3,...te,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",cursor:te.cursor,userSelect:"none"},title:`Resize (${C.replace("-"," ")})`,children:u.jsx("div",{style:{width:8,height:8,borderRadius:4,background:"#fff",opacity:.8}})},C)),u.jsxs("div",{style:{width:"100%",height:"100%",transform:`scale(${Ot})`,transformOrigin:"top left"},children:[u.jsx("div",{onMouseDown:er,style:{position:"absolute",right:2,bottom:2,width:22,height:22,zIndex:10,cursor:"nwse-resize",background:"transparent",display:"flex",alignItems:"flex-end",justifyContent:"flex-end",userSelect:"none"},title:"Resize",children:u.jsx("svg",{width:"22",height:"22",viewBox:"0 0 22 22",children:u.jsx("polyline",{points:"6,22 22,22 22,6",style:{fill:"none",stroke:b?"#38bdf8":"#0ea5e9",strokeWidth:2}})})}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,background:b?"#23272f":"#fff",zIndex:2,padding:12,borderTopLeftRadius:18,borderTopRightRadius:18,cursor:"move",userSelect:"none",gap:8},onMouseDown:en,children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13,marginRight:12},children:[u.jsx("span",{style:{opacity:.7},children:"Modal Scale"}),u.jsx("input",{type:"range",min:.7,max:1.5,step:.01,value:Ot,onChange:C=>Ve(parseFloat(C.target.value)),style:{width:70}}),u.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Ot*100),"%"]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Opacity"}),u.jsx("input",{type:"range",min:.3,max:1,step:.01,value:Lt,onChange:C=>le(parseFloat(C.target.value)),style:{width:70}}),u.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Lt*100),"%"]})]}),u.jsx("button",{onClick:()=>W(C=>!C),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:F?"#0ea5e9":"#334155",color:"#fff",boxShadow:F?"0 2px 8px #0ea5e944":"0 2px 8px #33415544",cursor:"pointer",transition:"background 0.2s"},children:F?"Show Regular Labels":"Minimize Regular Labels"}),u.jsx("button",{onClick:()=>we(C=>!C),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:_n?"#22c55e":"#ef4444",color:"#fff",boxShadow:_n?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:_n?"Show Unchecked":"Hide Unchecked"}),u.jsx("button",{onClick:()=>{_t(E?[]:Ju.map(C=>C.value)),O(C=>!C)},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:E?"#22c55e":"#ef4444",color:"#fff",boxShadow:E?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:E?"Uncheck All Regular":"Check All Regular"}),u.jsx("button",{onClick:()=>{if(wn)rn({}),qt(!1);else{const C={};He.length>0?He.forEach(te=>{C[te.value]={},(te.intervals||[]).forEach(ne=>{const Ae=ne.interval||ne;C[te.value][Ae]=!0})}):Object.keys($t||{}).forEach(te=>{C[te]={},Object.keys($t[te]||{}).forEach(ne=>{C[te][ne]=!0})}),rn(C),qt(!0)}},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:wn?"#ef4444":"#22c55e",color:"#fff",boxShadow:wn?"0 2px 8px #ef444444":"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:wn?"Uncheck All JSON":"Check All JSON"}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginLeft:8,background:"#222",color:"#fff",padding:8,border:"2px solid #fbbf24",borderRadius:8},children:[u.jsx("span",{style:{fontWeight:500,marginRight:4},children:"Intervals:"}),ow.map(C=>u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:36},children:[u.jsx("input",{type:"checkbox",checked:R[C]||!1,onChange:te=>{const ne=te.target.checked;M({...R,[C]:ne}),rn(Ae=>{const Ue={...Ae};return He.forEach(qe=>{qe.intervals.some(At=>At.interval===C&&At.exists)&&(Ue[qe.value]={...Ue[qe.value],[C]:ne})}),Ue})},style:{transform:"scale(1.05)"}}),u.jsx("span",{style:{fontSize:13},children:C})]},C))]}),u.jsx("button",{onClick:Yt,style:{padding:"6px 18px",borderRadius:6,border:"none",fontWeight:600,fontSize:15,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s",marginLeft:8},title:"Save label order and checkbox state",children:"Save"})]}),u.jsx("button",{onClick:()=>Dt(!1),style:{background:"none",border:"none",fontSize:22,color:"inherit",cursor:"pointer",marginLeft:12},"aria-label":"Close",children:""})]}),u.jsx("div",{style:{overflowY:"auto",padding:32,flex:1,minHeight:0,position:"relative"},children:u.jsx(Y1,{backend:X1,children:u.jsx(S$,{items:En,moveLabel:(C,te)=>{Cn(ne=>{const Ae=[...ne],[Ue]=Ae.splice(C,1);return Ae.splice(te,0,Ue),Ae})},renderRow:(C,te)=>{let ne=!0;return C.type==="regular"&&(F&&(ne=!1),!_n&&!ht.includes(C.value)&&(ne=!1)),C.type==="json"&&Array.isArray(C.intervals)&&(C.intervals.some(({interval:Ue})=>{var qe;return!_n||!!((qe=$t==null?void 0:$t[C.value])!=null&&qe[Ue])})||(ne=!1)),u.jsxs("div",{style:{display:ne?void 0:"none",width:"100%"},children:[C.type==="regular"&&u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[u.jsx("input",{type:"checkbox",checked:ht.includes(C.value),onChange:Ae=>{Ae.target.checked?_t([...ht,C.value]):_t(ht.filter(Ue=>Ue!==C.value))}}),C.label]}),C&&C.type==="json"&&Array.isArray(C.intervals)&&(()=>{const Ae=(C.intervals||[]).filter(({interval:Ue})=>{var qe;return!_n||!!((qe=$t==null?void 0:$t[C.value])!=null&&qe[Ue])});return Ae.length===0?null:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"space-between",marginBottom:1,lineHeight:1.2},children:u.jsx("span",{style:{fontWeight:500,fontSize:"0.95em"},children:C.label||p(C.value)})}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:0,alignItems:"flex-start",lineHeight:1},children:Ae.map(({interval:Ue,exists:qe})=>{var At;return u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:40,opacity:qe?1:.5,padding:"1px 0",lineHeight:1},children:[u.jsx("input",{type:"checkbox",checked:!!((At=$t==null?void 0:$t[C.value])!=null&&At[Ue]),disabled:!qe,onChange:Qe=>{rn(ln=>({...ln,[C.value]:{...ln[C.value],[Ue]:Qe.target.checked}}))},style:{transform:"scale(0.9)"}}),u.jsx("span",{style:{fontSize:"0.8em",fontWeight:500,lineHeight:1},children:Ue})]},C.value+"_"+Ue)})})]})})()]})},activeJsonLabels:$t,setActiveJsonLabels:rn,showUnchecked:_n,dragOverIndex:Kt,setDragOverIndex:Ki})})})]})]})]}),Bn&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{background:b?"#23272f":"#fff",color:b?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Loading logs..."})}),u.jsx("div",{style:{position:"absolute",top:24,right:130,zIndex:100,display:"flex",gap:4}}),u.jsx("button",{onClick:()=>w(C=>!C),style:{position:"absolute",right:32,top:24,zIndex:100,padding:8,borderRadius:"50%",background:b?"#222":"#fff",color:b?"#fff":"#222",border:"1.5px solid #888",fontSize:22,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},title:b?"Switch to Light Mode":"Switch to Dark Mode",children:b?"":""}),u.jsxs("div",{style:{padding:"0 64px 0 32px",position:"relative",display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[u.jsx(v$,{uid:i,interval:l,candleType:o,onBack:()=>window.close(),gridPreview:Ge,filterBar:me,trades:ze,darkMode:b}),u.jsxs("div",{style:{margin:`${$i}px 0 0 0`},children:[" ",u.jsxs("div",{style:{color:b?"#fff":"#222",margin:"8px 0 16px 0",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[u.jsx("span",{children:""}),u.jsxs("span",{children:["Rows: ",Nt.length>0?Nt.length:nt.length," of ",Nt.length>0?ei:pn]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Page: ",Nt.length>0?zt:Ne," of ",Nt.length>0?Gt:Je]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Columns: ",Ju.length+He.reduce((C,te)=>{var ne;return C+(((ne=te.intervals)==null?void 0:ne.length)||0)},0)+b$.length]}),u.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:u.jsxs("span",{style:{fontSize:12,opacity:.7,color:ze.length===0?"#ef4444":"#22c55e",fontWeight:600},children:["(",ze.length," events shown)"]})}),nt.length>0&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[u.jsx("span",{style:{opacity:.7},children:"Time Range:"}),u.jsx("span",{style:{fontWeight:600,color:b?"#0ea5e9":"#0d9488"},children:(an=nt[0])!=null&&an.candle_time?f(nt[0].candle_time):"N/A"}),u.jsx("span",{children:"to"}),u.jsx("span",{style:{fontWeight:600,color:b?"#0ea5e9":"#0d9488"},children:(Ht=nt[nt.length-1])!=null&&Ht.candle_time?f(nt[nt.length-1].candle_time):"N/A"}),u.jsx("button",{onClick:Ze,style:{marginLeft:16,padding:"6px 12px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:"#22c55e",color:"#fff",boxShadow:"0 2px 4px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export to Excel"})]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:b?"#1e293b":"#f1f5f9",borderRadius:6,border:b?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("span",{style:{fontWeight:600,color:b?"#fff":"#222",fontSize:12},children:"Rows:"}),u.jsx("input",{type:"number",min:"10",max:"5000",value:un,onChange:C=>{const te=parseInt(C.target.value);!isNaN(te)&&te>=10&&te<=5e3&&Zt(te)},onKeyPress:C=>{C.key==="Enter"&&Ee(un)},onBlur:()=>Ee(un),style:{width:50,padding:"2px 4px",borderRadius:3,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",fontSize:12,textAlign:"center"}})]}),(Nt.length>0?Gt:Je)>1&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:b?"#1e293b":"#f1f5f9",borderRadius:6,border:b?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("button",{onClick:()=>Oe(1),disabled:Ne===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:Ne===1?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:Ne===1?b?"#6b7280":"#9ca3af":"#fff",cursor:Ne===1?"not-allowed":"pointer",opacity:Ne===1?.5:1},children:"First"}),u.jsx("button",{onClick:()=>Nt.length>0?Vi(zt-1):Oe(Ne-1),disabled:(Nt.length>0?zt:Ne)===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Nt.length>0?zt:Ne)===1?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:(Nt.length>0?zt:Ne)===1?b?"#6b7280":"#9ca3af":"#fff",cursor:(Nt.length>0?zt:Ne)===1?"not-allowed":"pointer",opacity:(Nt.length>0?zt:Ne)===1?.5:1},children:""}),u.jsxs("span",{style:{fontWeight:600,color:b?"#fff":"#222",fontSize:12},children:[Nt.length>0?zt:Ne,"/",Nt.length>0?Gt:Je]}),u.jsx("button",{onClick:()=>Nt.length>0?Vi(zt+1):Oe(Ne+1),disabled:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#6b7280":"#9ca3af":"#fff",cursor:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?"not-allowed":"pointer",opacity:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?.5:1},children:""}),u.jsx("button",{onClick:()=>Nt.length>0?Vi(Gt):Oe(Je),disabled:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#6b7280":"#9ca3af":"#fff",cursor:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?"not-allowed":"pointer",opacity:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?.5:1},children:"Last"})]})]})]})]}),u.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",style:{background:b?"#181a20":"#f5ecd7",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:b?"1px solid #334155":"1px solid #d1d5db",fontSize:`${Qt}em`,position:"relative",flex:1,minHeight:0},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"16px 0 8px 0",paddingLeft:8,paddingRight:8},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:18}}),u.jsxs("table",{className:"w-full border-collapse",style:{fontSize:"inherit",color:b?"#fff":"#222"},children:[u.jsxs("thead",{className:"sticky top-0 z-30",style:{background:b?"#0f766e":"#0d9488",color:"white",fontSize:"inherit",zIndex:30},children:[u.jsx("tr",{style:{position:"sticky",top:0,zIndex:31,background:b?"#0f766e":"#0d9488"},children:En.map((C,te)=>{const ne=C.type==="json"&&Array.isArray(C.intervals);if(C.type==="regular"&&ht.includes(C.value)){const Ae=te===0||te===1,Ue=b?"#5eead4":"#e0fcf7";return u.jsx("th",{rowSpan:2,className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${Ce}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:Ue,minWidth:120,overflow:"visible",whiteSpace:Wt?"normal":"nowrap",wordBreak:Wt?"break-word":"normal",position:Ae?"sticky":void 0,left:Ae?te===0?0:120:void 0,zIndex:Ae?40:void 0},title:C.label,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>Ra("regular",C.value),style:{marginRight:4,background:"none",border:"none",color:oi===C.value?_r==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${C.label} (whole data)`,children:["w",oi===C.value?_r==="asc"?"":"":""]}),u.jsx("span",{children:C.label}),u.jsxs("button",{onClick:()=>Or("regular",C.value),style:{marginLeft:4,background:"none",border:"none",color:sn&&sn.type==="regular"&&sn.key===C.value?br==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${C.label} (table only)`,children:["t",sn&&sn.type==="regular"&&sn.key===C.value?br==="asc"?"":"":""]})]})},C.value)}if(ne){const Ae=C.intervals.filter(({interval:qe})=>{var At;return!!((At=$t[C.value])!=null&&At[qe])});if(Ae.length===0)return null;const Ue=te%2===0?b?"#fbbf24":"#ffe082":b?"#fb923c":"#ffd6a5";return u.jsx("th",{colSpan:Ae.length,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${Ce}em`,fontWeight:"bold",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:Ue,minWidth:120,overflow:"visible",whiteSpace:Wt?"normal":"nowrap",wordBreak:Wt?"break-word":"normal"},title:C.label,children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("span",{children:C.label})})},C.value)}return null})}),u.jsx("tr",{children:En.map((C,te)=>{if(C.type==="json"&&Array.isArray(C.intervals)){const ne=C.intervals.filter(({interval:Ue})=>{var qe;return!!((qe=$t[C.value])!=null&&qe[Ue])}),Ae=te%2===0?b?"#1e293b":"#e0e7ef":b?"#334155":"#f1f5f9";return ne.map(({interval:Ue})=>u.jsx("th",{className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${Ce}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:b?"#fff":"#222",background:Ae,minWidth:90,overflow:"visible",whiteSpace:Wt?"normal":"nowrap",wordBreak:Wt?"break-word":"normal"},title:Ue,onClick:()=>Or("json",Ue,C.value,Ue),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:v(Ue)}),u.jsx("span",{className:"ml-1 opacity-60",children:sn&&sn.type==="json"&&sn.parentKey===C.value&&sn.interval===Ue?br==="asc"?"":"":""})]})},C.value+"_"+Ue))}return null})})]}),u.jsx("tbody",{children:da.map((C,te)=>{var At;let ne=null;if(C.parsed_json_message&&typeof C.parsed_json_message=="object")ne=C.parsed_json_message;else if(C.json_message)try{if(typeof C.json_message=="string"){let Qe=C.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");ne=JSON.parse(Qe)}else ne=C.json_message}catch{ne={}}else if(C.json_data)try{if(typeof C.json_data=="string"){let Qe=C.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");ne=JSON.parse(Qe)}else ne=C.json_data}catch{ne={}}const Ae={...((At=ne==null?void 0:ne.signal_data)==null?void 0:At.all_last_rows)||{},json_message:ne&&typeof ne=="object"&&!Array.isArray(ne)?ne:{}},Ue=C.unique_id!=null?C.unique_id:te,qe=li===Ue;return u.jsx("tr",{className:"cursor-pointer",style:{fontSize:"inherit",borderBottom:b?"1px solid #334155":"1px solid #e5e7eb",transition:"all 0.15s ease-in-out",color:b?"#fff":"#222",background:qe?"#ffe066":void 0},onClick:()=>ji(qe?null:Ue),onMouseEnter:Qe=>{qe||(Qe.currentTarget.style.background=b?"#3d4451":"#f0f9ff",Qe.currentTarget.style.color=b?"#fff":"#222")},onMouseLeave:Qe=>{qe||(Qe.currentTarget.style.background="",Qe.currentTarget.style.color="")},children:En.map((Qe,ln)=>{if(Qe.type==="regular"&&ht.includes(Qe.value)){if(!Ju.find(N=>N.value===Qe.value))return null;const vn=ln===0||ln===1,Kn=qe?"#ffe066":vn?b?"#5eead4":"#e0fcf7":void 0,Sr=qe||vn?"#111":b?"#fff":"#222";return u.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:qe?"#111":Sr,background:Kn,minWidth:120,overflow:"visible",whiteSpace:"nowrap",position:vn?"sticky":void 0,left:vn?ln===0?0:120:void 0,zIndex:vn?30:void 0,padding:"1px 6px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:C[Qe.value]!=null?_(C[Qe.value],Qe.value,{forTooltip:!0}):"",children:C[Qe.value]!=null?_(C[Qe.value],Qe.value):""},Qe.value)}if(Qe.type==="json"&&Array.isArray(Qe.intervals)){const on=Qe.intervals.filter(({interval:Sr})=>{var N;return!!((N=$t[Qe.value])!=null&&N[Sr])}),vn=qe?"#ffe066":ln%2===0?b?"#1e293b":"#e0e7ef":b?"#334155":"#f1f5f9",Kn=qe?"#111":b?"#fff":"#222";return on.map(({interval:Sr})=>{let N=Ae[Sr]?Ae[Sr][Qe.value]:void 0;return u.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:Kn,background:vn,minWidth:90,overflow:"visible",whiteSpace:"nowrap",padding:"1px 4px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:N!==void 0?_(N,Qe.value,{forTooltip:!0}):"",children:N!==void 0?_(N,Qe.value):"-"},Qe.value+"_"+Sr)})}return null})},te)})})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"12px 0 8px 0",padding:"8px 12px",background:b?"#1e293b":"#f1f5f9",borderRadius:6,border:b?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("span",{style:{fontWeight:600,color:b?"#fff":"#222",fontSize:14},children:"Rows per page:"}),u.jsx("input",{type:"number",min:"10",max:"5000",value:un,onChange:C=>{const te=parseInt(C.target.value);!isNaN(te)&&te>=10&&te<=5e3&&Zt(te)},onKeyPress:C=>{C.key==="Enter"&&Ee(un)},onBlur:()=>Ee(un),style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #888",background:b?"#23272f":"#fff",color:b?"#fff":"#222",fontSize:14,textAlign:"center"}}),u.jsx("span",{style:{fontSize:12,opacity:.7,color:b?"#9ca3af":"#6b7280"},children:"(10-5000)"})]}),(Nt.length>0?Gt:Je)>1&&u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"16px 0 8px 0",padding:"12px",background:b?"#23272f":"#f8f9fa",borderRadius:8,border:b?"1px solid #334155":"1px solid #e5e7eb"},children:[u.jsx("button",{onClick:()=>Nt.length>0?Vi(1):Oe(1),disabled:(Nt.length>0?zt:Ne)===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Nt.length>0?zt:Ne)===1?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:(Nt.length>0?zt:Ne)===1?b?"#6b7280":"#9ca3af":"#fff",cursor:(Nt.length>0?zt:Ne)===1?"not-allowed":"pointer",opacity:(Nt.length>0?zt:Ne)===1?.5:1},children:"First"}),u.jsx("button",{onClick:()=>Nt.length>0?Vi(zt-1):Oe(Ne-1),disabled:(Nt.length>0?zt:Ne)===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Nt.length>0?zt:Ne)===1?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:(Nt.length>0?zt:Ne)===1?b?"#6b7280":"#9ca3af":"#fff",cursor:(Nt.length>0?zt:Ne)===1?"not-allowed":"pointer",opacity:(Nt.length>0?zt:Ne)===1?.5:1},children:"Previous"}),u.jsxs("span",{style:{fontWeight:600,color:b?"#fff":"#222"},children:["Page ",Nt.length>0?zt:Ne," of ",Nt.length>0?Gt:Je]}),u.jsx("button",{onClick:()=>Nt.length>0?Vi(zt+1):Oe(Ne+1),disabled:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je),style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#6b7280":"#9ca3af":"#fff",cursor:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?"not-allowed":"pointer",opacity:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?.5:1},children:"Next"}),u.jsx("button",{onClick:()=>Nt.length>0?Vi(Gt):Oe(Je),disabled:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je),style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#334155":"#e5e7eb":b?"#0ea5e9":"#0d9488",color:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?b?"#6b7280":"#9ca3af":"#fff",cursor:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?"not-allowed":"pointer",opacity:(Nt.length>0?zt:Ne)===(Nt.length>0?Gt:Je)?.5:1},children:"Last"})]})]})})]})]})},T$="demo123";function uw(t){if(t==null)return"";const e=String(t);if(typeof document>"u")return e.replace(/<[^>]+>/g,"").trim();const n=document.createElement("div");return n.innerHTML=e,(n.textContent||"").trim()}function k$(){var D,J,H,K;const t=$s(),e=zc(),[n,r]=x.useState(()=>{var P;return((P=t.state)==null?void 0:P.trades)??[]}),[i,l]=x.useState(()=>{var G,oe;const P=t.state;return(G=P==null?void 0:P.formattedRows)!=null&&G.length?P.formattedRows:(oe=P==null?void 0:P.trades)!=null&&oe.length?P.trades.map((Ne,Ie)=>t0(Ne,Ie)):[]}),[o,f]=x.useState(!((J=(D=t.state)==null?void 0:D.trades)!=null&&J.length)),[d,g]=x.useState(new Set),[p,v]=x.useState({}),[_,b]=x.useState(""),[w,S]=x.useState(""),[T,A]=x.useState(""),[j,I]=x.useState({open:!1,action:null}),[Z,Q]=x.useState(""),[Y,L]=x.useState({open:!1,action:null,rows:[]}),[U,q]=x.useState(""),ie=i,xe=ie.length?Object.keys(ie[0]).filter(P=>P!==""):[];x.useEffect(()=>{var G,oe;if((oe=(G=t.state)==null?void 0:G.trades)!=null&&oe.length)return;let P=!1;return(async()=>{try{const Ne=await fetch(`${sa()}/api/trades`);if(P||!Ne.ok)return;const Ie=await Ne.json();if(P||!Array.isArray(Ie))return;const Je=Ie.filter(Ke=>Ke.type==="running"||Ke.type==="hedge_hold");r(Je),l(Je.map((Ke,pn)=>t0(Ke,pn)))}catch{}f(!1)})(),()=>{P=!0}},[(K=(H=t.state)==null?void 0:H.trades)==null?void 0:K.length]);const ue=x.useCallback(P=>{g(G=>{const oe=new Set(G);return oe.has(P)?oe.delete(P):oe.add(P),oe})},[]),De=x.useCallback(()=>{d.size>=ie.length?g(new Set):g(new Set(ie.map((P,G)=>G)))},[ie.length,d.size]),We=(P,G)=>p[`${P}_${G}`]??"",Ye=(P,G,oe)=>{v(Ne=>({...Ne,[`${P}_${G}`]:oe}))},ee=P=>{if([...d].length===0){q("Select at least one trade.");return}I({open:!0,action:P}),Q("")},Pe=()=>{const P=(Z||"").trim();if(!P||P!==T$)return;I(Ne=>({...Ne,open:!1}));const oe=[...d].map(Ne=>({index:Ne,raw:n[Ne],formatted:ie[Ne],execAmount:We(Ne,"exec")||_,invAmount:We(Ne,"inv")||w,stopPrice:We(Ne,"stop")||T}));L({open:!0,action:j.action,rows:oe})},Fe=x.useCallback(async()=>{L(P=>({...P,open:!1})),await new Promise(P=>setTimeout(P,400)),q("Success!"),setTimeout(()=>q(""),2e3)},[]),X=(P,G)=>{const oe=`liveTradeViewState_${Date.now()}`;try{localStorage.setItem(oe,JSON.stringify({formattedRow:P,rawTrade:G}))}catch{}const Ne=`${window.location.origin}${(window.location.pathname||"/").replace(/\/?$/,"")}/live-trade-view?stateKey=${encodeURIComponent(oe)}`;window.open(Ne,"_blank","noopener,noreferrer")};return o&&ie.length===0?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0f0f] text-white",children:u.jsx("p",{children:"Loading running trades"})}):u.jsxs("div",{className:"min-h-screen bg-[#f5f6fa] dark:bg-[#0f0f0f] text-[#222] dark:text-gray-200 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-3 py-1.5 rounded-lg bg-teal-600 hover:bg-teal-700 text-white font-medium",children:" Back"}),u.jsx(J1,{className:"px-3 py-1.5 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium"})]}),u.jsx("h1",{className:"text-xl font-semibold",children:"Live  All running trades"})]}),U&&u.jsx("div",{className:"mb-4 p-3 rounded-lg bg-green-600 text-white text-center font-medium",children:U}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#181a20] text-sm",children:[u.jsxs("thead",{children:[u.jsxs("tr",{className:"bg-teal-800 text-white",children:[u.jsx("th",{className:"border p-1 w-10",children:"Select"}),u.jsx("th",{className:"border p-1",children:"Execute"}),u.jsx("th",{className:"border p-1",children:"End Trade"}),u.jsx("th",{className:"border p-1",children:"Hedge"}),u.jsx("th",{className:"border p-1",children:"Add Inv"}),u.jsx("th",{className:"border p-1 min-w-[80px]",children:"Inv amt"}),u.jsx("th",{className:"border p-1 min-w-[80px]",children:"Exec amt"}),u.jsx("th",{className:"border p-1 min-w-[90px]",children:"Stop price"}),u.jsx("th",{className:"border p-1",children:"Set stop"}),u.jsx("th",{className:"border p-1",children:"Live"}),xe.map(P=>u.jsx("th",{className:"border p-1 whitespace-nowrap",children:P.replace(/_/g," ")},P))]}),u.jsxs("tr",{className:"bg-teal-700/80 text-white",children:[u.jsx("td",{className:"border p-1 text-center",children:u.jsx("input",{type:"checkbox",checked:ie.length>0&&d.size===ie.length,onChange:De,title:"Select all"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>ee("execute"),className:"px-2 py-1 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold",children:"Execute"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>ee("endTrade"),className:"px-2 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-xs font-semibold",children:"End Trade"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>ee("hedge"),className:"px-2 py-1 rounded bg-amber-600 hover:bg-amber-700 text-white text-xs font-semibold",children:"Hedge"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>ee("addInvestment"),className:"px-2 py-1 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold",children:"Add Inv"})}),u.jsx("td",{className:"border p-1",children:u.jsx("input",{type:"text",placeholder:"Inv",value:w,onChange:P=>S(P.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs"})}),u.jsx("td",{className:"border p-1",children:u.jsx("input",{type:"text",placeholder:"Exec",value:_,onChange:P=>b(P.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs"})}),u.jsx("td",{className:"border p-1",children:u.jsx("input",{type:"text",placeholder:"Stop",value:T,onChange:P=>A(P.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>ee("setStopPrice"),className:"px-2 py-1 rounded bg-gray-600 hover:bg-gray-700 text-white text-xs font-semibold",children:"Set stop"})}),u.jsx("td",{className:"border p-1"}),u.jsx("td",{className:"border p-1"}),xe.map(P=>u.jsx("td",{className:"border p-1 opacity-70 text-xs",children:""},P))]})]}),u.jsx("tbody",{children:ie.map((P,G)=>u.jsxs("tr",{className:d.has(G)?"bg-teal-100 dark:bg-teal-900/30":"",children:[u.jsx("td",{className:"border p-1 text-center",children:u.jsx("input",{type:"checkbox",checked:d.has(G),onChange:()=>ue(G)})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>{g(new Set([G])),ee("execute")},className:"px-2 py-0.5 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:"Execute"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>{g(new Set([G])),ee("endTrade")},className:"px-2 py-0.5 rounded bg-red-600 hover:bg-red-700 text-white text-xs",children:"End"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>{g(new Set([G])),ee("hedge")},className:"px-2 py-0.5 rounded bg-amber-600 hover:bg-amber-700 text-white text-xs",children:"Hedge"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>{g(new Set([G])),ee("addInvestment")},className:"px-2 py-0.5 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:"Add Inv"})}),u.jsx("td",{className:"border p-1",children:u.jsx("input",{type:"text",placeholder:"0",value:We(G,"inv"),onChange:oe=>Ye(G,"inv",oe.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs max-w-[70px]"})}),u.jsx("td",{className:"border p-1",children:u.jsx("input",{type:"text",placeholder:"0",value:We(G,"exec"),onChange:oe=>Ye(G,"exec",oe.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs max-w-[70px]"})}),u.jsx("td",{className:"border p-1",children:u.jsx("input",{type:"text",placeholder:"",value:We(G,"stop"),onChange:oe=>Ye(G,"stop",oe.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs max-w-[80px]"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>{g(new Set([G])),ee("setStopPrice")},className:"px-2 py-0.5 rounded bg-gray-600 hover:bg-gray-700 text-white text-xs",children:"Set"})}),u.jsx("td",{className:"border p-1",children:u.jsx("button",{type:"button",onClick:()=>X(P,n[G]),className:"px-2 py-0.5 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold",children:"Live"})}),xe.map(oe=>u.jsx("td",{className:"border p-1 align-top",children:oe==="Pair"?u.jsx("span",{dangerouslySetInnerHTML:{__html:P[oe]??""}}):uw(String(P[oe]??""))},oe))]},G))})]})}),j.open&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>I(P=>({...P,open:!1})),children:u.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl",onClick:P=>P.stopPropagation(),children:[u.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Password"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"Enter password to confirm."}),u.jsx("input",{type:"password",value:Z,onChange:P=>Q(P.target.value),placeholder:"Password",className:"w-full border-2 rounded-lg px-3 py-2 mb-4 bg-white dark:bg-[#333] text-[#222] dark:text-gray-200"}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{type:"button",onClick:()=>I(P=>({...P,open:!1})),className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Pe,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white",children:"Confirm"})]})]})}),Y.open&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>L(P=>({...P,open:!1})),children:u.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-auto shadow-xl",onClick:P=>P.stopPropagation(),children:[u.jsxs("h3",{className:"font-semibold text-lg mb-2",children:["Confirm  ",Y.action]}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Review and edit amounts if needed, then confirm."}),u.jsx("ul",{className:"space-y-2 mb-4",children:Y.rows.map((P,G)=>{var oe;return u.jsxs("li",{className:"flex flex-wrap items-center gap-2 p-2 rounded border border-gray-200 dark:border-gray-700",children:[u.jsx("span",{className:"font-medium",children:uw(P.formatted.Pair)||((oe=P.raw)==null?void 0:oe.pair)||""}),(Y.action==="execute"||Y.action==="addInvestment")&&u.jsx("input",{type:"text",placeholder:"Amount",defaultValue:P.execAmount||P.invAmount,className:"border rounded px-2 py-1 w-24 text-sm bg-white dark:bg-[#333]"}),Y.action==="setStopPrice"&&u.jsx("input",{type:"text",placeholder:"Stop price",defaultValue:P.stopPrice,className:"border rounded px-2 py-1 w-24 text-sm bg-white dark:bg-[#333]"})]},G)})}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{type:"button",onClick:()=>L(P=>({...P,open:!1})),className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Fe,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white",children:"Execute"})]})]})}),ie.length===0&&!o&&u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No running trades."})]})}function C$({onLogin:t}){const[e,n]=x.useState(""),[r,i]=x.useState(""),[l,o]=x.useState(!1),f=async d=>{d.preventDefault(),i(""),o(!0);try{await JU(e)?(_x(!0),t()):i("Invalid password")}catch(g){i((g==null?void 0:g.message)||"Login failed")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0f0f] p-4",children:u.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-gray-700 bg-[#181a20] shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"LAB Trading"}),u.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Sign in to continue"})]}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),u.jsx("input",{id:"login-password",type:"password",value:e,onChange:d=>{n(d.target.value),i("")},placeholder:"Enter password",autoFocus:!0,disabled:l,className:"w-full px-4 py-3 rounded-lg border border-gray-600 bg-[#222] text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:opacity-60"})]}),r&&u.jsx("p",{className:"text-sm text-red-400",children:r}),u.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 rounded-lg bg-teal-600 hover:bg-teal-700 disabled:bg-teal-800 disabled:cursor-not-allowed text-white font-semibold transition-colors",children:l?"Checking":"Sign in"})]})]})})}function N$(){return new URLSearchParams($s().search)}const fw=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],hw=["1m","3m","5m","15m","30m","1h","4h","1d"],Ku=[{label:"Symbol",value:"symbol"},{label:"Interval",value:"interval"},{label:"Signal Type",value:"signal_type"},{label:"Signal Source",value:"signal_source"},{label:"Candle Pattern",value:"candle_pattern"},{label:"Price",value:"price"},{label:"Squeeze Status",value:"squeeze_status"},{label:"Active Squeeze",value:"active_squeeze"},{label:"Machine ID",value:"machine_id"},{label:"Timestamp",value:"timestamp"},{label:"Processing Time",value:"processing_time_ms"},{label:"Created At",value:"created_at"},{label:"Unique ID",value:"Unique_id"},{label:"PL",value:"PL"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1",value:"Hedge_1_1"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Active Squeeze Trend",value:"signal_data_active_squeeze_trend"},{label:"Overall Trend RC",value:"signal_data_overall_trend_RC"},{label:"Overall Trend Percentage RC",value:"signal_data_overall_trend_percentage_RC"},{label:"Overall Trend HC",value:"signal_data_overall_trend_HC"},{label:"Overall Trend Percentage HC",value:"signal_data_overall_trend_percentage_HC"},{label:"Overall Trend 4h",value:"signal_data_overall_trend_4h"},{label:"Overall Trend Percentage 4h",value:"signal_data_overall_trend_percentage_4h"},{label:"Overall Trend 1h",value:"signal_data_overall_trend_1h"},{label:"Overall Trend Percentage 1h",value:"signal_data_overall_trend_percentage_1h"},{label:"Volume 1h",value:"signal_data_volume_1h"}],O$=[{label:"Machine ID",value:"MachineId"},{label:"Unique ID",value:"Unique_id"},{label:"Candle Time",value:"Candel_time"},{label:"Fetcher Trade Time",value:"Fetcher_Trade_time"},{label:"Operator Trade Time",value:"Operator_Trade_time"},{label:"Pair",value:"Pair"},{label:"Interval",value:"Interval"},{label:"Action",value:"Action"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Type",value:"Type"},{label:"Operator Close Time",value:"Operator_Close_time"},{label:"Signal From",value:"SignalFrom"},{label:"Profit Journey",value:"Profit_journey"},{label:"Commission Journey",value:"Commision_journey"},{label:"Stop Price",value:"Stop_price"},{label:"Save Price",value:"Save_price"},{label:"Min Comm",value:"Min_comm"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1 Bool",value:"Hedge_1_1_bool"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Min Profit",value:"Min_profit"},{label:"Buy Qty",value:"Buy_qty"},{label:"Buy Price",value:"Buy_price"},{label:"Buy PL",value:"Buy_pl"},{label:"Added Qty",value:"Added_qty"},{label:"Sell Qty",value:"Sell_qty"},{label:"Sell Price",value:"Sell_price"},{label:"Sell PL",value:"Sell_pl"},{label:"Close Price",value:"Close_price"},{label:"Commission",value:"Commission"},{label:"Investment",value:"Investment"},{label:"Swing1",value:"Swing1"},{label:"Swing2",value:"Swing2"},{label:"Swing3",value:"Swing3"},{label:"Swing4",value:"Swing4"},{label:"Swing5",value:"Swing5"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Temp High Point",value:"Temp_High_Point"},{label:"Temp Low Point",value:"Temp_Low_Point"}],dw="LABEL_ROW";function A$({item:t,index:e,moveLabel:n,children:r,onHover:i,onDrop:l}){const o=Ur.useRef(null),[,f]=q1({accept:dw,hover(p){p.index!==e&&(n(p.index,e),p.index=e,i&&i())},drop(){l&&l()}}),[{isDragging:d},g]=G1({type:dw,item:{index:e},collect:p=>({isDragging:p.isDragging()})});return g(f(o)),u.jsx("div",{ref:o,style:{opacity:d?.5:1,cursor:"grab",width:"auto",minWidth:160,maxWidth:340,flex:"1 1 220px",marginBottom:0,background:"inherit",boxSizing:"border-box",display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:r})}function D$({items:t,moveLabel:e,renderRow:n,activeJsonLabels:r,setActiveJsonLabels:i,showUnchecked:l,dragOverIndex:o,setDragOverIndex:f}){return u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,width:"100%",alignItems:"flex-start",justifyContent:"flex-start",boxSizing:"border-box",minHeight:60,position:"relative"},children:t.map((d,g)=>u.jsxs("div",{style:{position:"relative",minWidth:220,maxWidth:340,flex:"1 1 220px",boxSizing:"border-box",marginBottom:0,display:"flex"},children:[o===g&&u.jsxs("div",{style:{position:"absolute",top:-8,left:0,width:"100%",height:0,zIndex:10,pointerEvents:"none",display:"flex",alignItems:"center"},children:[u.jsx("div",{style:{width:32,height:32,background:"#0ea5e9",color:"#fff",borderRadius:"50%",fontWeight:700,fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",marginLeft:8,marginBottom:2},children:g+1}),u.jsx("div",{style:{flex:1,height:4,background:"#ffe066",borderRadius:2,marginLeft:12,marginRight:8}})]}),u.jsxs(A$,{item:d,index:g,moveLabel:e,onHover:()=>f(g),onDrop:()=>f(null),children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:22},children:[u.jsxs("span",{style:{fontWeight:700,color:"#0ea5e9",minWidth:22,textAlign:"right"},children:[g+1,"."]}),d&&d.type==="json"&&Array.isArray(d.intervals)&&(()=>{const p=(d.intervals||[]).filter(({exists:w})=>w),v=p.filter(({interval:w})=>{var S;return!!((S=r==null?void 0:r[d.value])!=null&&S[w])}),_=p.length>0&&v.length===p.length,b=()=>{const w=!_;i(S=>{const T={...S};return T[d.value]||(T[d.value]={}),p.forEach(({interval:A})=>{T[d.value][A]=w}),T})};return u.jsxs("button",{onClick:b,style:{padding:"2px 8px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:_?"#22c55e":"#ef4444",color:"#fff",cursor:"pointer",transition:"background 0.2s",boxShadow:_?"0 2px 4px #22c55e44":"0 2px 4px #ef444444",minWidth:36},title:`${_?"Uncheck":"Check"} all intervals for ${(d==null?void 0:d.label)||""}`,children:[v.length,"/",p.length]})})()]}),n&&n(d,g)]})]},d.type+"_"+d.value))})}const M$=()=>{var vn,Kn,Sr;const t=N$(),e=((vn=t.get("symbols"))==null?void 0:vn.split(","))||[];t.get("interval"),t.get("type");const n=N=>{if(!N)return"";try{const re=new Date(N);if(isNaN(re.getTime()))return N;const ce=re.getUTCDate().toString().padStart(2,"0"),Le=(re.getUTCMonth()+1).toString().padStart(2,"0"),tt=re.getUTCFullYear().toString().slice(-2),ct=re.getUTCHours().toString().padStart(2,"0"),lt=re.getUTCMinutes().toString().padStart(2,"0");return`${ce}-${Le}-${tt} ${ct}:${lt}`}catch{return N}},r=N=>{const re=["Candle_Time","timestamp","created_at","Time","Candel_time","Fetcher_Trade_time","Operator_Trade_time","Operator_Close_time","candle_time","time","date"],ce=["processing_time_ms","processing_time"];return re.some(tt=>N.toLowerCase().includes(tt.toLowerCase()))&&!ce.some(tt=>N.toLowerCase().includes(tt.toLowerCase()))},i=(N,re)=>{if(N==null||N==="")return"";if(r(re))return n(N);if(re==="PL"){const ce=parseFloat(N);if(!isNaN(ce))return ce.toFixed(2)}return String(N)},[l,o]=x.useState(()=>{const N=localStorage.getItem("groupview_theme");if(N)return N==="dark";const re=localStorage.getItem("theme");return re?re==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{l?(document.body.classList.add("dark"),localStorage.setItem("groupview_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("groupview_theme","light"))},[l]),x.useEffect(()=>{const N=re=>{if(re.key==="theme"||re.key==="groupview_theme"){const ce=re.newValue==="dark";o(ce)}};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[]);const[f,d]=x.useState(()=>{const N=localStorage.getItem("groupview_selected_signals");if(N)return JSON.parse(N);const re={};return fw.forEach(ce=>re[ce]=!0),re}),[g,p]=x.useState(()=>localStorage.getItem("groupview_signal_radio_mode")==="true"),[v,_]=x.useState(()=>localStorage.getItem("groupview_signal_toggle_all")==="true"),[b,w]=x.useState([]);x.useEffect(()=>{(async()=>{try{const ce=await(await fetch(Nn("/api/machines"))).json(),Le=Array.isArray(ce.machines)?ce.machines.map(tt=>({MachineId:tt.machineid,Active:tt.active})):[];console.log(" [GroupViewPage] Fetched machines:",Le),w(Le)}catch(re){console.error(" [GroupViewPage] Error fetching machines:",re),w([])}})()},[]);const S=b,[T,A]=x.useState(()=>{const N=localStorage.getItem("groupview_selected_machines");if(N)return JSON.parse(N);const re={};return S.forEach(ce=>re[ce.MachineId]=!0),re}),[j,I]=x.useState(()=>localStorage.getItem("groupview_machine_radio_mode")==="true"),[Z,Q]=x.useState(()=>localStorage.getItem("groupview_machine_toggle_all")==="true"),[Y,L]=x.useState([]),[U,q]=x.useState(()=>{const N=localStorage.getItem("groupview_selected_actions");return N?JSON.parse(N):{BUY:!0,SELL:!0}});x.useEffect(()=>{if(Y.length>0){const N=[...new Set(Y.flatMap(re=>[re.Action,re.action,re.SignalType,re.signal_type].filter(Boolean)))];N.length>0&&q(re=>{const ce={...re};return N.forEach(Le=>{Le in ce||(ce[Le]=!0)}),ce})}},[Y]);const[ie,xe]=x.useState(()=>localStorage.getItem("groupview_action_radio_mode")==="true"),[ue,De]=x.useState(()=>localStorage.getItem("groupview_action_toggle_all")==="true");x.useEffect(()=>{fetch(Nn("/api/trades")).then(N=>N.json()).then(N=>{const re=Array.isArray(N.trades)?N.trades:[],ce=e.length>0?re.filter(Le=>e.includes(Le.pair)):re;console.log(" [GroupViewPage] Fetched trades:",{totalTrades:re.length,filteredTrades:ce.length,symbols:e,sampleTrade:re[0],uniqueActions:[...new Set(re.map(Le=>Le.Action).filter(Boolean))]}),L(ce)}).catch(N=>{console.error(" [GroupViewPage] Error fetching trades:",N),L([])})},[JSON.stringify(e)]);const[We,Ye]=x.useState([]),[ee,Pe]=x.useState(1),[Fe,X]=x.useState(0),[D,J]=x.useState(()=>{const N=localStorage.getItem("groupview_logs_per_page");return N?parseInt(N):100}),[H,K]=x.useState(!0),[P,G]=x.useState([]),[oe,Ne]=x.useState(!1),[Ie,Je]=x.useState([]),[Ke,pn]=x.useState(1),[Ft,un]=x.useState(1),[Zt,Bn]=x.useState(0),[ft,He]=x.useState(!1),[Ct,yn]=x.useState("Candle_Time"),[mn,Gn]=x.useState("DESC"),[cr,ge]=x.useState(!1),[ze,nt]=x.useState(!1);x.useEffect(()=>{K(!0),Pe(1);const N=e.length>0?`${Nn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&page=1&limit=${D}`:`${Nn("/api/SignalProcessingLogsWithUniqueId")}?page=1&limit=${D}`;console.log(" [GroupViewPage] Fetching logs from URL:",N),console.log(" [GroupViewPage] Symbols:",e),console.log(" [GroupViewPage] Symbols length:",e.length),fetch(N).then(re=>{if(console.log(" [GroupViewPage] API response status:",re.status),console.log(" [GroupViewPage] API response headers:",re.headers),!re.ok)throw new Error(`HTTP error! status: ${re.status}`);return re.json()}).then(re=>{var Le,tt;console.log(" [GroupViewPage] API response:",re),console.log(" [GroupViewPage] API response type:",typeof re),console.log(" [GroupViewPage] API response keys:",Object.keys(re||{}));const ce=Array.isArray(re.logs)?re.logs:[];if(console.log(" [GroupViewPage] Logs array length:",ce.length),ce.length>0)console.log(" [GroupViewPage] First log sample:",ce[0]),console.log(" [GroupViewPage] Sample log unique_id:",ce[0].unique_id),console.log(" [GroupViewPage] Sample log symbol:",ce[0].symbol);else{console.log(" [GroupViewPage] No logs returned from API"),console.log(" [GroupViewPage] Full API response for debugging:",re),console.log(" [GroupViewPage] Trying fallback API...");const ct=e.length>0?`${Nn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e.join(","))}&page=1&limit=${D}`:`${Nn("/api/SignalProcessingLogs")}?page=1&limit=${D}`;fetch(ct).then(lt=>lt.json()).then(lt=>{var wt,It;console.log(" [GroupViewPage] Fallback API response:",lt);const St=Array.isArray(lt.logs)?lt.logs:[];console.log(" [GroupViewPage] Fallback logs array length:",St.length),Ye(St),X(((wt=lt.pagination)==null?void 0:wt.total)||St.length),Ae(((It=lt.pagination)==null?void 0:It.totalPages)||1),K(!1)}).catch(lt=>{console.error(" [GroupViewPage] Fallback API error:",lt),Ye([]),K(!1)});return}if(Ye(ce),X(((Le=re.pagination)==null?void 0:Le.total)||ce.length),Ae(((tt=re.pagination)==null?void 0:tt.totalPages)||1),K(!1),Array.isArray(re.logs)&&re.logs.length>0){let ct;try{ct=typeof re.logs[0].json_data=="string"?JSON.parse(re.logs[0].json_data):re.logs[0].json_data}catch(lt){console.log(" [GroupViewPage] JSON parse error:",lt);return}}}).catch(re=>{console.error(" [GroupViewPage] Error fetching logs:",re),console.error(" [GroupViewPage] Error details:",re.message),console.error(" [GroupViewPage] Error stack:",re.stack),Ye([]),K(!1)})},[JSON.stringify(e),D]),x.useEffect(()=>{var ce;if(!Ct)return;He(!0);const N=((ce=t.get("symbols"))==null?void 0:ce.split(","))||[],re=N.length>0?`${Nn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(N.join(","))}&page=${Ke}&limit=${D}&sortKey=${Ct}&sortDirection=${mn}`:`${Nn("/api/SignalProcessingLogsWithUniqueId")}?page=${Ke}&limit=${D}&sortKey=${Ct}&sortDirection=${mn}`;fetch(re).then(Le=>Le.json()).then(Le=>{var tt,ct;Je(Array.isArray(Le.logs)?Le.logs:[]),Bn(((tt=Le.pagination)==null?void 0:tt.total)||0),un(((ct=Le.pagination)==null?void 0:ct.totalPages)||1),He(!1)}).catch(()=>{Je([]),Bn(0),un(1),He(!1)})},[Ke,D,Ct,mn]);const[Ee,Oe]=x.useState(()=>{const N=localStorage.getItem("groupview_selected_candle_types");return N?JSON.parse(N):{Regular:!0,Heiken:!0}});x.useEffect(()=>{localStorage.setItem("groupview_selected_candle_types",JSON.stringify(Ee))},[Ee]);const me=x.useMemo(()=>{const N={Regular:0,Heiken:0,Unknown:0};return We.forEach(re=>{var ct;const ce=((ct=re.candle_pattern)==null?void 0:ct.toLowerCase())||"";ce==="regular"||ce==="normal"||ce==="regular_candle"?N.Regular++:ce==="heiken"||ce==="heikin"||ce==="heiken-ashi"||ce==="heiken_ashi"||ce==="heiken_candle"?N.Heiken++:N.Unknown++}),N},[We]),Ge=We.filter(N=>{var tt;const re=((tt=N.candle_pattern)==null?void 0:tt.toLowerCase())||"",ce=re==="regular"||re==="normal"||re==="regular_candle",Le=re==="heiken"||re==="heikin"||re==="heiken-ashi"||re==="heiken_ashi"||re==="heiken_candle";return Ee.Regular&&ce||Ee.Heiken&&Le?!0:!Ee.Regular&&!Ee.Heiken?!1:(re===""?console.log(" [GroupViewPage] Log with empty candle pattern:",N):console.log(" [GroupViewPage] Log with unknown candle pattern:",re,N),!0)});x.useEffect(()=>{console.log(" [GroupViewPage] Filtered logs summary:",{totalLogs:We.length,filteredLogs:Ge.length,selectedCandleTypes:Ee,candleTypeCounts:me})},[We,Ge,Ee,me]);function cn(N){return N.filter(re=>{if(Object.keys(f).length&&!f[re.SignalFrom]||Object.keys(T).length&&!T[re.MachineId])return!1;if(Object.keys(U).length){const ce=re.Action||re.action||re.SignalType||re.signal_type;if(!U[ce])return!1}return!0})}const Qt=cn(Y),V=N=>{if(N<10||N>5e3)return;J(N),Pe(1),localStorage.setItem("groupview_logs_per_page",N.toString()),K(!0);const re=e.length>0?`${Nn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&page=1&limit=${N}`:`${Nn("/api/SignalProcessingLogsWithUniqueId")}?page=1&limit=${N}`;fetch(re).then(ce=>ce.json()).then(ce=>{var tt,ct;const Le=Array.isArray(ce.logs)?ce.logs:[];Ye(Le),X(((tt=ce.pagination)==null?void 0:tt.total)||Le.length),Ae(((ct=ce.pagination)==null?void 0:ct.totalPages)||1),K(!1),console.log(`[GroupViewPage] Changed to ${N} rows per page, fetched ${Le.length} logs`)}).catch(ce=>{console.error("[GroupViewPage] Error fetching logs:",ce),Ye([]),K(!1)})},Se=N=>{if(N<1||N>ne)return;K(!0),Pe(N);const re=e.length>0?`${Nn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&page=${N}&limit=${D}`:`${Nn("/api/SignalProcessingLogsWithUniqueId")}?page=${N}&limit=${D}`;fetch(re).then(ce=>ce.json()).then(ce=>{var tt;const Le=Array.isArray(ce.logs)?ce.logs:[];Ye(Le),console.log(`[GroupViewPage] Fetched ${Le.length} logs for symbols: ${e.join(", ")||"all"} (Page ${N} of ${((tt=ce.pagination)==null?void 0:tt.totalPages)||1})`)}).catch(ce=>{console.error("[GroupViewPage] Error fetching logs:",ce),Ye([])}).finally(()=>{K(!1)})},Be=u.jsx($0,{canonicalSignalKeys:fw,selectedSignals:f,setSelectedSignals:d,signalRadioMode:g,setSignalRadioMode:p,signalToggleAll:v,setSignalToggleAll:_,allMachines:S,selectedMachines:T,setSelectedMachines:A,machineRadioMode:j,setMachineRadioMode:I,machineToggleAll:Z,setMachineToggleAll:Q,selectedActions:U,setSelectedActions:q,actionRadioMode:ie,setActionRadioMode:xe,actionToggleAll:ue,setActionToggleAll:De,trades:Y,darkMode:l});localStorage.getItem("groupview_reputation_enabled"),localStorage.getItem("groupview_reputation_intensity"),localStorage.getItem("groupview_reputation_mode"),Y.filter(N=>!(Object.keys(f).length&&!f[N.SignalFrom]||Object.keys(T).length&&!T[N.MachineId]||Object.keys(U).length&&!U[N.action]));const Mt=x.useMemo(()=>{const N={};return Qt.forEach(re=>{re.unique_id&&(N[re.unique_id]=re)}),console.log("GroupViewPage tradesByUniqueId created:",{totalTrades:Qt.length,tradesWithUniqueId:Object.keys(N).length,sampleKeys:Object.keys(N).slice(0,5),sampleTrades:Object.values(N).slice(0,3)}),N},[Qt]),[ot,Dt]=x.useState(()=>{const N=localStorage.getItem("groupview_font_size");return N?parseFloat(N):1});x.useEffect(()=>{localStorage.setItem("groupview_font_size",ot)},[ot]),x.useEffect(()=>{const N=localStorage.getItem("groupview_selected_json_columns");N&&JSON.parse(N)},[JSON.stringify(P)]),x.useEffect(()=>{},[]),P&&P.length>0,x.useEffect(()=>{localStorage.getItem("groupview_selected_columns")},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{localStorage.getItem("groupview_selected_trade_columns")},[]),x.useEffect(()=>{},[]);const ht="groupview_regular_labels",_t=Ku.map(N=>N.value),jt=()=>{const N=localStorage.getItem(ht);return N?JSON.parse(N):_t},[Bt,$t]=x.useState(()=>{const N=localStorage.getItem("groupview_settings_modal_open");return N?JSON.parse(N):!1}),[rn,qn]=x.useState(jt()),Pn="groupview_json_labels",wn=()=>{const N=localStorage.getItem(Pn);if(N)try{const re=JSON.parse(N);return re&&typeof re=="object"?re:{}}catch{return{}}return{}},[qt,fn]=x.useState(wn());function kn(N){const re=new Set,ce={};console.log(" [extractJsonLabelsAndIntervals] Starting extraction with",N.length,"logs"),N.forEach((tt,ct)=>{if(!tt.json_data){ct<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ct}: No json_data`);return}let lt;try{if(typeof tt.json_data=="string"){let It=tt.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");lt=JSON.parse(It)}else lt=tt.json_data}catch(It){ct<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ct}: JSON parse error:`,It);return}ct<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ct} JSON keys:`,Object.keys(lt||{}));const St=(lt==null?void 0:lt.signal_data)||(lt==null?void 0:lt.signaldata)||(lt==null?void 0:lt.signalData);ct<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ct} signalData:`,St?Object.keys(St):"undefined");const wt=St==null?void 0:St.all_last_rows;ct<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ct} allRows:`,wt?Object.keys(wt):"undefined"),wt&&typeof wt=="object"&&Object.keys(wt).forEach(It=>{if(It==="candle_type")return;re.add(It);const On=wt[It];On&&typeof On=="object"&&Object.keys(On).forEach(An=>{ce[An]||(ce[An]=new Set),ce[An].add(It)})})}),console.log(" [extractJsonLabelsAndIntervals] Final intervalSet:",Array.from(re)),console.log(" [extractJsonLabelsAndIntervals] Final labelMap keys:",Object.keys(ce));const Le=Array.from(re).sort((tt,ct)=>{const lt=["1m","3m","5m","15m","30m","1h","2h","4h","1d"];return lt.indexOf(tt)-lt.indexOf(ct)});return Object.entries(ce).map(([tt,ct])=>({label:tt,value:tt,intervals:Le.map(lt=>({interval:lt,exists:ct.has(lt)}))}))}x.useEffect(()=>{var N,re,ce,Le,tt;if(We.length>0){const ct=kn(We);if(console.log(" [GroupViewPage] Extracted JSON labels:",ct),console.log(" [GroupViewPage] First log json_data sample:",(N=We[0])==null?void 0:N.json_data),console.log(" [GroupViewPage] First log json_data keys:",Object.keys(((re=We[0])==null?void 0:re.json_data)||{})),(ce=We[0])!=null&&ce.json_data){let lt;try{if(typeof We[0].json_data=="string"){let wt=We[0].json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");lt=JSON.parse(wt)}else lt=We[0].json_data;console.log(" [GroupViewPage] Parsed JSON keys:",Object.keys(lt||{})),console.log(" [GroupViewPage] Full JSON structure:",lt),console.log(" [GroupViewPage] Looking for signal_data:",lt==null?void 0:lt.signal_data),console.log(" [GroupViewPage] Looking for signaldata:",lt==null?void 0:lt.signaldata),console.log(" [GroupViewPage] Looking for all_last_rows in signal_data:",(Le=lt==null?void 0:lt.signal_data)==null?void 0:Le.all_last_rows),console.log(" [GroupViewPage] Looking for all_last_rows in signaldata:",(tt=lt==null?void 0:lt.signaldata)==null?void 0:tt.all_last_rows),["signal_data","signaldata","signalData","Signal_data","Signal_Data"].forEach(wt=>{lt[wt]&&(console.log(` [GroupViewPage] Found field: ${wt}`,lt[wt]),lt[wt].all_last_rows&&console.log(` [GroupViewPage] Found all_last_rows in ${wt}:`,Object.keys(lt[wt].all_last_rows)))})}catch(St){console.log(" [GroupViewPage] JSON parse error:",St)}}ct.length>0&&console.log(" [GroupViewPage] First label intervals:",ct[0].intervals),G(ct),Ne(!0)}},[We]);function Hn(N,re){const ce={};N.forEach(wt=>{ce[wt.value]=wt});const Le=Object.keys(re||{}),tt=Le.filter(wt=>ce[wt]),ct={};N.forEach(wt=>{!re[wt.value]&&!ct[wt.value]&&(ct[wt.value]=wt)});const lt=Object.values(ct),St=Le.filter(wt=>!ce[wt]);return{existed:tt,newlyAdded:lt,deleted:St}}Hn(P,qt||{}),oe?P.filter(N=>qt[N.value]).flatMap(N=>(N.intervals||[]).filter(re=>{var ce;return(ce=qt[N.value])==null?void 0:ce[re]}).map(re=>({parent:N,interval:re}))):Object.keys(qt).flatMap(N=>Object.keys(qt[N]||{}).filter(re=>qt[N][re]).map(re=>({parent:{label:N,value:N},interval:re})));const En="groupview_unified_labels_order";function Cn(){const N=[],re=new Set;Ku.forEach(Le=>{re.has(Le.value)||(N.push({type:"regular",value:Le.value,label:Le.label}),re.add(Le.value))});const ce=new Set;return P.forEach(Le=>{ce.has(Le.value)||(N.push({type:"json",value:Le.value,label:Le.label,intervals:Le.intervals}),ce.add(Le.value))}),N}function hr(N){const re=localStorage.getItem(En);if(re)try{const ce=JSON.parse(re),Le={};N.forEach(St=>{Le[St.type+"_"+St.value]=St});const tt=ce.map(St=>Le[St.type+"_"+St.value]).filter(Boolean),ct=new Set(ce.map(St=>St.type+"_"+St.value)),lt=N.filter(St=>!ct.has(St.type+"_"+St.value));return[...tt,...lt]}catch{return N}return N}const[_n,we]=x.useState(()=>hr(Cn())),E=x.useRef(!1);x.useEffect(()=>{if(E.current)return;const N=Cn();we(re=>{const ce=new Set(re.map(St=>St.type+"_"+St.value)),Le=new Set(N.map(St=>St.type+"_"+St.value));let tt=re.filter(St=>Le.has(St.type+"_"+St.value));const ct=N.filter(St=>!ce.has(St.type+"_"+St.value));return[...tt,...ct]})},[JSON.stringify(P)]),x.useEffect(()=>{const N=Cn();we(hr(N))},[JSON.stringify(P)]);const[O,R]=x.useState(!1),[M,F]=x.useState(!1),[W,se]=x.useState({}),[Te,he]=x.useState(!1);x.useEffect(()=>{const N=localStorage.getItem("groupview_interval_master_checked");N?se(JSON.parse(N)):hw.forEach(re=>se(ce=>({...ce,[re]:!0})))},[]),x.useEffect(()=>{localStorage.setItem("groupview_interval_master_checked",JSON.stringify(W))},[W]),x.useEffect(()=>{const N=localStorage.getItem("groupview_all_regular_checked");F(N?JSON.parse(N):!1)},[]),x.useEffect(()=>{localStorage.setItem("groupview_all_regular_checked",JSON.stringify(M))},[M]),x.useEffect(()=>{const N=localStorage.getItem("groupview_show_unchecked");R(N?JSON.parse(N):!1)},[]),x.useEffect(()=>{localStorage.setItem("groupview_show_unchecked",JSON.stringify(O))},[O]);const be="groupview_settings_modal_pos",ve="groupview_settings_modal_size",et=()=>{const N=localStorage.getItem(be);let re={x:window.innerWidth/2-400,y:window.innerHeight/2-300};if(N)try{const wt=JSON.parse(N);typeof wt.x=="number"&&typeof wt.y=="number"&&(re=wt)}catch{}const ce=it(),Le=window.innerWidth,tt=window.innerHeight;let ct=Math.min(ce.width,Le);Math.min(ce.height,tt);let lt=Math.max(0,Math.min(Le-ct,re.x)),St=re.y;return St<0&&(St=0),St>tt-48&&(St=tt-48),{x:lt,y:St}},it=()=>{const N=localStorage.getItem(ve);let re={width:700,height:500};if(N)try{const tt=JSON.parse(N);typeof tt.width=="number"&&typeof tt.height=="number"&&(re=tt)}catch{}const ce=window.innerWidth,Le=window.innerHeight;return{width:Math.min(re.width,ce),height:Math.min(re.height,Le)}},[dt,st]=x.useState(et),[mt,Xt]=x.useState(it),[en,hn]=x.useState(!1),dn=x.useRef({x:0,y:0});function sr(N){hn(!0),dn.current={x:N.clientX-dt.x,y:N.clientY-dt.y},document.body.style.userSelect="none"}x.useEffect(()=>{function N(ce){if(!en)return;const Le=window.innerWidth,tt=window.innerHeight,ct=document.querySelector('[role="dialog"][aria-label="Settings"]');let lt=ct?ct.offsetWidth:mt.width;ct?ct.offsetHeight:mt.height;const St=Math.floor(.05*lt),wt=48;let It=Math.max(-lt+St,Math.min(Le-St,ce.clientX-dn.current.x)),On=Math.max(wt*-.9,Math.min(tt-48,ce.clientY-dn.current.y));st({x:It,y:On})}function re(){hn(!1),document.body.style.userSelect=""}return en&&(window.addEventListener("mousemove",N),window.addEventListener("mouseup",re)),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",re)}},[en,dt,mt]);const Un=x.useRef(null),[er,Jn]=x.useState(!1),Dr=x.useRef({x:0,y:0,width:0,height:0}),[de,Ot]=x.useState(null);function Ve(N,re){N.stopPropagation(),Jn(!0),Ot(re);const ce=Un.current;Dr.current={x:N.clientX,y:N.clientY,width:ce?ce.offsetWidth:mt.width,height:ce?ce.offsetHeight:mt.height,left:ce?ce.offsetLeft:dt.x,top:ce?ce.offsetTop:dt.y},document.body.style.userSelect="none"}x.useEffect(()=>{function N(ce){if(!er||!de)return;let{x:Le,y:tt,width:ct,height:lt,left:St,top:wt}=Dr.current,It=ce.clientX-Le,On=ce.clientY-tt,An=ct,ar=lt,ci=dt.x,Ii=dt.y;switch(de){case"right":An=Math.max(200,ct+It);break;case"left":An=Math.max(200,ct-It),ci=St+It;break;case"bottom":ar=Math.max(100,lt+On);break;case"top":ar=Math.max(100,lt-On),Ii=wt+On;break;case"top-left":An=Math.max(200,ct-It),ci=St+It,ar=Math.max(100,lt-On),Ii=wt+On;break;case"top-right":An=Math.max(200,ct+It),ar=Math.max(100,lt-On),Ii=wt+On;break;case"bottom-left":An=Math.max(200,ct-It),ci=St+It,ar=Math.max(100,lt+On);break;case"bottom-right":An=Math.max(200,ct+It),ar=Math.max(100,lt+On);break}Xt({width:An,height:ar}),st({x:ci,y:Ii});const ur=Un.current;ur&&(ur.style.width=An+"px",ur.style.height=ar+"px",ur.style.left=ci+"px",ur.style.top=Ii+"px")}function re(){Jn(!1),Ot(null),document.body.style.userSelect=""}return er&&(window.addEventListener("mousemove",N),window.addEventListener("mouseup",re)),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",re)}},[er,dt,mt,de]),x.useEffect(()=>{localStorage.setItem(ve,JSON.stringify(mt))},[mt]),x.useEffect(()=>{function N(){const re=document.querySelector('[role="dialog"][aria-label="Settings"]');if(!re)return;const ce=re.getBoundingClientRect();let Le=dt.x,tt=dt.y;ce.width,ce.height;const ct=window.innerWidth,lt=window.innerHeight,St=48,wt=Math.floor(.05*ce.width),It=Math.floor(.05*ce.height);ce.right>ct-wt&&(Le=Math.max(0,ct-wt-ce.width)),ce.bottom>lt-It&&(tt=Math.max(St,lt-It-ce.height)),ce.left<-ce.width+wt&&(Le=-ce.width+wt),ce.top<-ce.height+It&&(tt=-ce.height+It),ce.width>ct,ce.height>lt,(Le!==dt.x||tt!==dt.y)&&st({x:Le,y:tt}),re.style&&(re.style.maxWidth=ct+"px",re.style.maxHeight=lt+"px",ce.width>ct&&(re.style.width=ct+"px"),ce.height>lt&&(re.style.height=lt+"px"))}return window.addEventListener("resize",N),N(),()=>window.removeEventListener("resize",N)},[dt]),x.useEffect(()=>{localStorage.setItem(be,JSON.stringify(dt))},[dt]);const[Lt,le]=x.useState(!1),Ce="groupview_settings_modal_scale",[yt,Wt]=x.useState(()=>{const N=localStorage.getItem(Ce);return N?parseFloat(N):1});x.useEffect(()=>{localStorage.setItem(Ce,yt)},[yt]),x.useEffect(()=>{if(Bt)le(!0);else{const N=setTimeout(()=>le(!1),180);return()=>clearTimeout(N)}},[Bt]),x.useEffect(()=>{localStorage.setItem("groupview_settings_modal_open",JSON.stringify(Bt))},[Bt]),x.useEffect(()=>{function N(re){Bt&&re.key==="Escape"&&$t(!1)}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[Bt]);const[Dn,bt]=x.useState(()=>{const N=localStorage.getItem("groupview_settings_modal_opacity");return N?parseFloat(N):1});x.useEffect(()=>{localStorage.setItem("groupview_settings_modal_opacity",Dn)},[Dn]);const[Ut,Yt]=x.useState(()=>{const N=localStorage.getItem("groupview_label_font_size");return N?parseFloat(N):1}),[sn,Fr]=x.useState(()=>{const N=localStorage.getItem("groupview_label_wrap");return N?JSON.parse(N):!1});x.useEffect(()=>{localStorage.setItem("groupview_label_font_size",Ut)},[Ut]),x.useEffect(()=>{localStorage.setItem("groupview_label_wrap",JSON.stringify(sn))},[sn]);const[br,dr]=x.useState(()=>{const N=localStorage.getItem("groupview_filter_bar_visible");return N?JSON.parse(N):!0});x.useEffect(()=>{localStorage.setItem("groupview_filter_bar_visible",JSON.stringify(br))},[br]);function Or(){const N=_n.map(Le=>({type:Le.type,value:Le.value}));localStorage.setItem(En,JSON.stringify(N)),localStorage.setItem(ht,JSON.stringify(rn)),localStorage.setItem(Pn,JSON.stringify(qt));const re=document.createElement("div");re.textContent=" Settings saved successfully!",re.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #22c55e;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      z-index: 10000;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      animation: slideIn 0.3s ease-out;
    `;const ce=document.createElement("style");ce.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(ce),document.body.appendChild(re),setTimeout(()=>{re.parentNode&&re.parentNode.removeChild(re)},3e3)}const[Wn,ai]=x.useState(null),[li,ji]=x.useState("asc"),cs=(N,re,ce=null,Le=null)=>{console.log("T button clicked:",{type:N,key:re,parentKey:ce,interval:Le});const tt={type:N,key:re,parentKey:ce,interval:Le};Wn&&Wn.type===N&&Wn.key===re&&Wn.parentKey===ce&&Wn.interval===Le?ji(ct=>ct==="asc"?"desc":"asc"):(ai(tt),ji("asc"))},Kt=(N,re)=>{var lt,St;if(!re)return;const{type:ce,key:Le,parentKey:tt,interval:ct}=re;if(ce==="regular"){const wt=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],It=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(wt.includes(Le)){const On=Mt[N.unique_id];if(On&&On.unique_id){const ar={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[Le];if(ar)return On[ar]}return}else if(It.includes(Le)){let On={};try{if(typeof N.json_data=="string"){let ar=N.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");On=JSON.parse(ar)}else On=N.json_data||{}}catch{On={}}const An=(On==null?void 0:On.signal_data)||(On==null?void 0:On.signaldata)||(On==null?void 0:On.signalData);if(An&&typeof An=="object"){const ar=Le.replace("signal_data_","");return An[ar]}return}return N[Le]}if(ce==="trade")return(lt=Mt[N.unique_id])==null?void 0:lt[Le];if(ce==="json"&&tt&&ct){let wt={};try{if(typeof N.json_data=="string"){let An=N.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");wt=JSON.parse(An)}else wt=N.json_data||{}}catch{wt={}}const It=(wt==null?void 0:wt.signal_data)||(wt==null?void 0:wt.signaldata)||(wt==null?void 0:wt.signalData);return(St=((It==null?void 0:It.all_last_rows)||{})[ct])==null?void 0:St[tt]}},Ki=N=>Wn?[...N].sort((re,ce)=>{let Le=Kt(re,Wn),tt=Kt(ce,Wn);if(Wn.type==="regular"&&r(Wn.key)){const St=new Date(Le),wt=new Date(tt);if(!isNaN(St.getTime())&&!isNaN(wt.getTime()))return St<wt?li==="asc"?-1:1:St>wt?li==="asc"?1:-1:0}const ct=parseFloat(Le),lt=parseFloat(tt);return!isNaN(ct)&&!isNaN(lt)?li==="asc"?ct-lt:lt-ct:(Le=Le==null?"":String(Le),tt=tt==null?"":String(tt),Le<tt?li==="asc"?-1:1:Le>tt?li==="asc"?1:-1:0)}):N,[tn,$i]=x.useState(null);function Mn(){const N={width:700,height:500},re=window.innerWidth,ce=window.innerHeight,Le=Math.max(0,Math.floor((re-N.width)/2)),tt=Math.max(0,Math.floor((ce-N.height)/2));st({x:Le,y:tt}),Xt(N),Wt(1),localStorage.setItem(be,JSON.stringify({x:Le,y:tt})),localStorage.setItem(ve,JSON.stringify(N)),localStorage.setItem(Ce,"1.0")}const[Vr,Ts]=x.useState(null),Zi="groupview_filter_table_spacing",[Nt,gi]=x.useState(()=>{const N=localStorage.getItem(Zi);return N?parseInt(N):0});x.useEffect(()=>{localStorage.setItem(Zi,Nt.toString())},[Nt]);const[zt,Li]=x.useState(!1),[Gt,pi]=x.useState(()=>e.slice());x.useEffect(()=>{if(!zt)return;function N(re){Un.current&&!Un.current.contains(re.target)&&Li(!1)}return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[zt]);const ei=N=>{pi(re=>re.includes(N)?re.filter(ce=>ce!==N):[...re,N])},Gs=()=>pi(e.slice()),Kl=()=>pi([]),[ks,oi]=x.useState([]),[Zl,_r]=x.useState(!1),[Wi,Cs]=x.useState(1),[da,Vi]=x.useState(1),[Ra,qs]=x.useState(0),[z,fe]=x.useState(100);x.useEffect(()=>{!zt&&Gt.length&&Gt.length!==e.length&&(_r(!0),jr.get(Nn("/api/SignalProcessingLogsWithUniqueId"),{params:{symbols:Gt.join(","),page:Wi,limit:z}}).then(N=>{N.data.logs&&Array.isArray(N.data.logs)?N.data.logs.slice(0,10).forEach((re,ce)=>{console.log(`[API LOG ${ce}] Unique_id:`,re.unique_id)}):console.log("API /api/SignalProcessingLogsWithUniqueId response:",N.data.logs),oi(N.data.logs||[]),Vi(N.data.totalPages||1),qs(N.data.total||0)}).catch(()=>{oi([]),Vi(1),qs(0)}).finally(()=>_r(!1)))},[Gt,Wi,z,zt]);const ye=Gt.length&&Gt.length!==e.length?ks:We;Gt.length&&(Gt.length,e.length),Gt.length&&(Gt.length,e.length),Gt.length&&(Gt.length,e.length),Gt.length&&(Gt.length,e.length),Gt.length&&(Gt.length,e.length);const Ze=N=>{N<1||N>Ft||pn(N)},gt=(N,re)=>{console.log("W button clicked:",{type:N,key:re}),Ct===re?Gn(ce=>ce==="ASC"?"DESC":"ASC"):(yn(re),Gn("ASC")),ai(null),pn(1)},Et=async()=>{if(Ie.length>0)ge(!0);else{const N=Ht(Ge);if(N.length===0){alert("No data to export!");return}const re=fr.json_to_sheet(N),ce=fr.book_new();fr.book_append_sheet(ce,re,"Data"),ka(ce,"exported_data.xlsx")}},Vt=async N=>{if(ge(!1),N==="pagination"){const re=Ht(Ie);if(console.log("Export pagination - wholeData length:",Ie.length),console.log("Export pagination - exportRows length:",re.length),re.length===0){alert("No data to export!");return}const ce=fr.json_to_sheet(re),Le=fr.book_new();fr.book_append_sheet(Le,ce,"Data"),ka(Le,"exported_data.xlsx")}else if(N==="whole"){nt(!0);const re=e.length>0?`${Nn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&limit=1000000&sortKey=${Ct}&sortDirection=${mn}`:`${Nn("/api/SignalProcessingLogsWithUniqueId")}?limit=1000000&sortKey=${Ct}&sortDirection=${mn}`;console.log("Export whole - API URL:",re);try{const Le=await(await fetch(re)).json();console.log("Export whole - API response:",Le);const tt=Array.isArray(Le.logs)?Le.logs:[];console.log("Export whole - allRows length:",tt.length);const ct=Ht(tt);if(console.log("Export whole - exportRows length:",ct.length),ct.length===0){alert("No data to export!"),nt(!1);return}const lt=fr.json_to_sheet(ct),St=fr.book_new();fr.book_append_sheet(St,lt,"Data"),ka(St,"exported_data.xlsx")}catch(ce){console.error("Export whole - error:",ce),alert("Failed to fetch all data for export.")}nt(!1)}};function vt(){const N=_n.filter(re=>re.type==="regular"?rn.includes(re.value):re.type==="json"&&Array.isArray(re.intervals)?(re.intervals||[]).some(({interval:ce})=>{var Le;return(Le=qt[re.value])==null?void 0:Le[ce]}):!1);return console.log("getVisibleColumns - workingLabelList length:",_n==null?void 0:_n.length),console.log("getVisibleColumns - activeRegularLabels:",rn),console.log("getVisibleColumns - visibleCols length:",N.length),N}function an(N){if(!N)return"";const re=new Date(N);if(isNaN(re.getTime()))return N;const ce=Le=>Le.toString().padStart(2,"0");return`${re.getFullYear()}-${ce(re.getMonth()+1)}-${ce(re.getDate())} ${ce(re.getHours())}:${ce(re.getMinutes())}:${ce(re.getSeconds())}`}function Ht(N){const re=vt();return N.map(ce=>{let Le={};try{if(typeof ce.json_data=="string"){let St=ce.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Le=JSON.parse(St)}else Le=ce.json_data||{}}catch{Le={}}const tt=(Le==null?void 0:Le.signal_data)||(Le==null?void 0:Le.signaldata)||(Le==null?void 0:Le.signalData),ct=(tt==null?void 0:tt.all_last_rows)||{},lt={};return re.forEach(St=>{let wt;if(St.type==="regular"){const It=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],On=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(It.includes(St.value)){const An=Mt[ce.unique_id];if(An&&An.unique_id){const ci={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[St.value];ci&&(wt=An[ci])}}else if(On.includes(St.value)){let An={};try{if(typeof ce.json_data=="string"){let ci=ce.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");An=JSON.parse(ci)}else An=ce.json_data||{}}catch{An={}}const ar=(An==null?void 0:An.signal_data)||(An==null?void 0:An.signaldata)||(An==null?void 0:An.signalData);if(ar&&typeof ar=="object"){const ci=St.value.replace("signal_data_","");wt=ar[ci]}}else wt=ce[St.value];r(St.value)?lt[St.label]=an(wt):typeof wt=="number"&&wt>1e12?lt[St.label]=wt.toString():lt[St.label]=wt}else St.type==="json"&&Array.isArray(St.intervals)&&(St.intervals||[]).forEach(({interval:It})=>{var On,An;(On=qt[St.value])!=null&&On[It]&&(wt=(An=ct[It])==null?void 0:An[St.value],typeof wt=="number"&&wt>1e12?lt[`${St.label} [${It}]`]=wt.toString():lt[`${St.label} [${It}]`]=wt)})}),lt})}const[C,te]=x.useState(!1),[ne,Ae]=x.useState(1),[Ue,qe]=x.useState(1),[At,Qe]=x.useState(0),[ln,on]=x.useState(100);return x.useEffect(()=>{e&&e.length&&jr.get(Nn("/api/SignalProcessingLogsWithUniqueId"),{params:{symbols:e.join(","),page:1,limit:10}}).then(N=>{console.log("Initial API /api/SignalProcessingLogsWithUniqueId response:",N.data.logs)}).catch(N=>{console.error("Initial API /api/SignalProcessingLogsWithUniqueId error:",N)})},[]),x.useEffect(()=>{const N=["1000RATSUSDTBUY2025-07-18 06:00:00+00:00Kickerheiken"];N.length&&jr.get(Nn("/api/SignalProcessingLogsByUIDs"),{params:{uids:N.join(",")}}).then(re=>{console.log("API /api/SignalProcessingLogsByUIDs response:",re.data.logs)}).catch(re=>{console.error("API /api/SignalProcessingLogsByUIDs error:",re)})},[]),x.useEffect(()=>{if(ye&&ye.length){const N=ye.map(re=>re.unique_id).filter(Boolean);N.length&&jr.get(Nn("/api/SignalProcessingLogsByUIDs"),{params:{uids:N.join(",")}}).then(re=>{console.log("API /api/SignalProcessingLogsByUIDs response:",re.data.logs)}).catch(re=>{console.error("API /api/SignalProcessingLogsByUIDs error:",re)})}},[ye]),u.jsxs("div",{className:l?"dark":"",style:{minHeight:"100vh",background:l?"#181a20":"#f7f7fa"},children:[u.jsxs("div",{style:{position:"absolute",top:8,right:200,zIndex:100,display:"flex",alignItems:"center",gap:12},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Spacing"}),u.jsx("button",{onClick:()=>gi(N=>N-4),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},title:"Reduce space between filters and table",children:""}),u.jsx("button",{onClick:()=>gi(N=>Math.min(100,N+4)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},title:"Increase space between filters and table",children:""}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Nt,"px"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Table Font"}),u.jsx("button",{onClick:()=>Dt(N=>Math.max(.7,N-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A"}),u.jsx("button",{onClick:()=>Dt(N=>Math.min(2,N+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A+"}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(ot*100),"%"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Label Font"}),u.jsx("button",{onClick:()=>Yt(N=>Math.max(.7,N-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A"}),u.jsx("button",{onClick:()=>Yt(N=>Math.min(2,N+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A+"}),u.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(Ut*100),"%"]})]}),u.jsx("button",{onClick:()=>Fr(N=>!N),style:{padding:"3px 10px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:12,background:sn?l?"#0ea5e9":"#0d9488":l?"#23272f":"#fff",color:sn||l?"#fff":"#222",cursor:"pointer",boxShadow:sn?"0 2px 8px #0ea5e944":"0 2px 8px #8882",transition:"background 0.2s"},title:"Wrap label text at word boundaries",children:sn?"Unwrap Labels":"Wrap Labels"})]}),u.jsx("div",{style:{position:"absolute",top:24,left:24,zIndex:100}}),u.jsxs("div",{style:{position:"absolute",top:24,right:80,zIndex:100,display:"flex",gap:8,alignItems:"center"},children:[u.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset the settings screen? Yes / No")&&Mn()},style:{background:"none",border:"none",cursor:"pointer",fontSize:22,color:l?"#fff":"#222",marginRight:2},"aria-label":"Reset Settings",title:"Reset Settings Screen",children:u.jsx("span",{role:"img","aria-label":"reset",children:""})}),u.jsx("button",{onClick:()=>$t(N=>!N),style:{background:"none",border:"none",cursor:"pointer",fontSize:28,color:l?"#fff":"#222"},"aria-label":Bt?"Close Settings":"Open Settings","aria-haspopup":"dialog","aria-expanded":Bt,children:u.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),Lt&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.10)",zIndex:199,transition:"opacity 0.18s",opacity:Bt?1:0,pointerEvents:"none"},"aria-hidden":"true"}),u.jsxs("div",{ref:Un,role:"dialog","aria-modal":"true","aria-label":"Settings",style:{position:"fixed",top:dt.y,left:dt.x,minHeight:100,minWidth:200,zIndex:200,width:mt.width,maxWidth:"100vw",background:l?`rgba(35,39,47,${Dn})`:`rgba(255,255,255,${Dn})`,color:l?"#fff":"#222",borderRadius:18,boxShadow:"0 4px 32px 0 rgba(0,0,0,0.18)",padding:0,display:"flex",flexDirection:"column",overflow:"hidden",height:mt.height,maxHeight:"100vh",margin:"0 auto",boxSizing:"border-box",resize:"none",cursor:en?"move":"default",opacity:Bt?1:0,transform:Bt?"scale(1)":"scale(0.96)",transition:"opacity 0.18s, transform 0.18s",pointerEvents:Bt?"auto":"none"},children:[[["top-left",{top:-8,left:-8,cursor:"nwse-resize"}],["top",{top:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["top-right",{top:-8,right:-8,cursor:"nesw-resize"}],["right",{top:"50%",right:-8,transform:"translateY(-50%)",cursor:"ew-resize"}],["bottom-right",{bottom:-8,right:-8,cursor:"nwse-resize"}],["bottom",{bottom:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["bottom-left",{bottom:-8,left:-8,cursor:"nesw-resize"}],["left",{top:"50%",left:-8,transform:"translateY(-50%)",cursor:"ew-resize"}]].map(([N,re])=>u.jsx("div",{onMouseDown:ce=>Ve(ce,N),style:{position:"absolute",width:18,height:18,background:l?"#0ea5e9":"#2563eb",border:"2px solid #fff",borderRadius:6,zIndex:1e3,...re,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",cursor:re.cursor,userSelect:"none"},title:`Resize (${N.replace("-"," ")})`,children:u.jsx("div",{style:{width:8,height:8,borderRadius:4,background:"#fff",opacity:.8}})},N)),u.jsxs("div",{style:{width:"100%",height:"100%",transform:`scale(${yt})`,transformOrigin:"top left"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,background:l?"#23272f":"#fff",zIndex:2,padding:12,borderTopLeftRadius:18,borderTopRightRadius:18,userSelect:"none",gap:8,minHeight:0},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:24,minWidth:56,marginRight:12,cursor:"grab",userSelect:"none",background:"transparent"},onMouseDown:sr,children:u.jsx("div",{style:{width:48,height:16,background:l?"#334155":"#e0e7ef",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",gap:2},children:[0,1,2,3].map(N=>u.jsx("div",{style:{width:6,height:6,borderRadius:3,background:l?"#fff":"#222",opacity:.7,margin:2}},N))})}),u.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13,marginRight:12},children:[u.jsx("span",{style:{opacity:.7},children:"Modal Scale"}),u.jsx("input",{type:"range",min:.7,max:1.5,step:.01,value:yt,onChange:N=>Wt(parseFloat(N.target.value)),style:{width:70}}),u.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(yt*100),"%"]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[u.jsx("span",{style:{opacity:.7},children:"Opacity"}),u.jsx("input",{type:"range",min:.3,max:1,step:.01,value:Dn,onChange:N=>bt(parseFloat(N.target.value)),style:{width:70}}),u.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Dn*100),"%"]})]}),u.jsx("button",{onClick:()=>he(N=>!N),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:Te?"#0ea5e9":"#334155",color:"#fff",boxShadow:Te?"0 2px 8px #0ea5e944":"0 2px 8px #33415544",cursor:"pointer",transition:"background 0.2s"},children:Te?"Show Regular Labels":"Minimize Regular Labels"}),u.jsx("button",{onClick:()=>R(N=>!N),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:O?"#22c55e":"#ef4444",color:"#fff",boxShadow:O?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:O?"Show Unchecked":"Hide Unchecked"}),u.jsx("button",{onClick:()=>{qn(M?[]:Ku.map(N=>N.value)),F(N=>!N)},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:M?"#22c55e":"#ef4444",color:"#fff",boxShadow:M?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:M?"Uncheck All Regular":"Check All Regular"}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginLeft:8},children:[u.jsx("span",{style:{fontWeight:500,marginRight:4},children:"Intervals:"}),hw.map(N=>u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:36},children:[u.jsx("input",{type:"checkbox",checked:W[N]||!1,onChange:re=>{const ce=re.target.checked;se({...W,[N]:ce}),fn(Le=>{const tt={...Le};return P.forEach(ct=>{ct.intervals.some(lt=>lt.interval===N&&lt.exists)&&(tt[ct.value]={...tt[ct.value],[N]:ce})}),tt})},style:{transform:"scale(1.05)"}}),u.jsx("span",{style:{fontSize:13},children:N})]},N))]})]}),u.jsx("button",{onClick:Or,style:{padding:"6px 18px",borderRadius:6,border:"none",fontWeight:600,fontSize:15,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s",marginLeft:8},title:"Save label order and checkbox state",children:"Save"}),u.jsx("button",{onClick:()=>$t(!1),style:{background:"none",border:"none",fontSize:22,color:"inherit",cursor:"pointer",marginLeft:12},"aria-label":"Close",children:""})]})]}),u.jsx("div",{style:{overflowY:"auto",padding:32,flex:1,minHeight:0,position:"relative"},children:u.jsx(Y1,{backend:X1,children:u.jsx(D$,{items:_n,moveLabel:(N,re)=>{we(ce=>{const Le=[...ce],[tt]=Le.splice(N,1);return Le.splice(re,0,tt),Le})},renderRow:(N,re)=>{let ce=!0;return N.type==="regular"&&(Te&&(ce=!1),!O&&!rn.includes(N.value)&&(ce=!1)),N.type==="json"&&Array.isArray(N.intervals)&&(N.intervals.some(({interval:tt})=>{var ct;return!O||!!((ct=qt==null?void 0:qt[N.value])!=null&&ct[tt])})||(ce=!1)),u.jsxs("div",{style:{display:ce?void 0:"none",width:"100%"},children:[N.type==="regular"&&u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[u.jsx("input",{type:"checkbox",checked:rn.includes(N.value),onChange:Le=>{Le.target.checked?qn([...rn,N.value]):qn(rn.filter(tt=>tt!==N.value))}}),N.label]}),N&&N.type==="json"&&Array.isArray(N.intervals)&&(()=>{var tt;const Le=(N.intervals||[]).filter(({interval:ct})=>{var lt;return!O||!!((lt=qt==null?void 0:qt[N.value])!=null&&lt[ct])});return(N.value==="overall_trend_RC"||N.value==="Overall_Trend_RC")&&console.log(" [Settings Modal] Interval Debug for",N.value,{itemIntervals:N.intervals,showUnchecked:O,activeJsonLabels:qt==null?void 0:qt[N.value],visibleIntervals:Le,filterCondition:(tt=N.intervals)==null?void 0:tt.map(({interval:ct})=>{var lt,St;return{interval:ct,showUnchecked:O,notShowUnchecked:!O,hasActiveLabel:!!((lt=qt==null?void 0:qt[N.value])!=null&&lt[ct]),result:!O||!!((St=qt==null?void 0:qt[N.value])!=null&&St[ct])}})}),Le.length===0?null:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"space-between",marginBottom:1,lineHeight:1.2},children:u.jsx("span",{style:{fontWeight:500,fontSize:"0.95em"},children:N.label})}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:0,alignItems:"flex-start",lineHeight:1},children:Le.map(({interval:ct,exists:lt})=>{var St;return u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:40,opacity:lt?1:.5,padding:"1px 0",lineHeight:1},children:[u.jsx("input",{type:"checkbox",checked:!!((St=qt==null?void 0:qt[N.value])!=null&&St[ct]),disabled:!lt,onChange:wt=>{fn(It=>({...It,[N.value]:{...It[N.value],[ct]:wt.target.checked}}))},style:{transform:"scale(0.9)"}}),u.jsx("span",{style:{fontSize:"0.8em",fontWeight:500,lineHeight:1},children:ct})]},N.value+"_"+ct)})})]})})()]})},activeJsonLabels:qt,setActiveJsonLabels:fn,showUnchecked:O,dragOverIndex:Vr,setDragOverIndex:Ts})})})]})]})]}),H&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{background:l?"#23272f":"#fff",color:l?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Loading logs..."})}),u.jsx("div",{style:{position:"absolute",top:24,right:130,zIndex:100,display:"flex",gap:4}}),u.jsx("button",{onClick:()=>o(N=>!N),style:{position:"absolute",right:32,top:24,zIndex:100,padding:8,borderRadius:"50%",background:l?"#222":"#fff",color:l?"#fff":"#222",border:"1.5px solid #888",fontSize:22,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},title:l?"Switch to Light Mode":"Switch to Dark Mode",children:l?"":""}),u.jsxs("div",{style:{padding:"0 64px 0 32px",position:"relative",display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[u.jsx("div",{style:{margin:"24px 0 12px 0",zIndex:10},children:Be}),u.jsxs("div",{style:{margin:`${Nt}px 0 0 0`},children:[" ",u.jsxs("div",{style:{color:l?"#fff":"#222",margin:"8px 0 16px 0",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[u.jsx("span",{children:""}),u.jsxs("span",{children:["Rows: ",Ge.length," of ",Fe]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Page: ",ee," of ",ne]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Columns: ",Ku.length+P.reduce((N,re)=>{var ce;return N+(((ce=re.intervals)==null?void 0:ce.length)||0)},0)+O$.length]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[u.jsx("input",{type:"checkbox",checked:Ee.Regular,onChange:N=>Oe(re=>({...re,Regular:N.target.checked})),style:{transform:"scale(1.1)"}}),u.jsx("span",{children:"Regular"}),u.jsxs("span",{style:{fontSize:11,opacity:.7,color:Ee.Regular?"#22c55e":"#6b7280",fontWeight:600},children:["(",me.Regular,")"]})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[u.jsx("input",{type:"checkbox",checked:Ee.Heiken,onChange:N=>Oe(re=>({...re,Heiken:N.target.checked})),style:{transform:"scale(1.1)"}}),u.jsx("span",{children:"Heiken"}),u.jsxs("span",{style:{fontSize:11,opacity:.7,color:Ee.Heiken?"#22c55e":"#6b7280",fontWeight:600},children:["(",me.Heiken,")"]})]}),u.jsxs("span",{style:{fontSize:12,opacity:.7,color:Ge.length===0?"#ef4444":"#22c55e",fontWeight:600},children:["(",Ge.length," shown)"]}),me.Unknown>0&&u.jsxs("span",{style:{fontSize:11,opacity:.5,color:"#f59e0b",fontWeight:600},children:["(",me.Unknown," unknown)"]})]}),Ge.length>0&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[u.jsx("span",{style:{opacity:.7},children:"Time Range:"}),u.jsx("span",{style:{fontWeight:600,color:l?"#0ea5e9":"#0d9488"},children:(Kn=Ge[0])!=null&&Kn.candle_time?n(Ge[0].candle_time):"N/A"}),u.jsx("span",{children:"to"}),u.jsx("span",{style:{fontWeight:600,color:l?"#0ea5e9":"#0d9488"},children:(Sr=Ge[Ge.length-1])!=null&&Sr.candle_time?n(Ge[Ge.length-1].candle_time):"N/A"}),u.jsx("button",{onClick:Et,style:{marginLeft:16,padding:"6px 12px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:"#fbbf24",color:"#222",boxShadow:"0 2px 4px #fbbf2444",cursor:"pointer",transition:"background 0.2s"},children:"Export to Excel"})]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:l?"#1e293b":"#f1f5f9",borderRadius:6,border:l?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("span",{style:{fontWeight:600,color:l?"#fff":"#222",fontSize:12},children:"Rows:"}),u.jsx("input",{type:"number",min:"1",value:D,onChange:N=>{const re=parseInt(N.target.value);!isNaN(re)&&re>=1&&J(re)},onKeyPress:N=>{N.key==="Enter"&&V(D)},onBlur:()=>V(D),style:{width:50,padding:"2px 4px",borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",fontSize:12,textAlign:"center"}})]}),ne>1&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:l?"#1e293b":"#f1f5f9",borderRadius:6,border:l?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("button",{onClick:()=>Ie.length>0?Ze(1):Se(1),disabled:Ie.length>0?Ke===1:ee===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:ee===1?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:ee===1?l?"#6b7280":"#9ca3af":"#fff",cursor:ee===1?"not-allowed":"pointer",opacity:ee===1?.5:1},children:"First"}),u.jsx("button",{onClick:()=>Ie.length>0?Ze(Ke-1):Se(ee-1),disabled:Ie.length>0?Ke===1:ee===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Ie.length>0?Ke===1:ee===1)?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:(Ie.length>0?Ke===1:ee===1)?l?"#6b7280":"#9ca3af":"#fff",cursor:(Ie.length>0?Ke===1:ee===1)?"not-allowed":"pointer",opacity:(Ie.length>0?Ke===1:ee===1)?.5:1},children:""}),u.jsxs("span",{style:{fontWeight:600,color:l?"#fff":"#222",fontSize:12},children:[Ie.length>0?Ke:ee,"/",Ie.length>0?Ft:ne]}),u.jsx("button",{onClick:()=>Ie.length>0?Ze(Ke+1):Se(ee+1),disabled:Ie.length>0?Ke===Ft:ee===ne,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Ie.length>0?Ke===Ft:ee===ne)?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:(Ie.length>0?Ke===Ft:ee===ne)?l?"#6b7280":"#9ca3af":"#fff",cursor:(Ie.length>0?Ke===Ft:ee===ne)?"not-allowed":"pointer",opacity:(Ie.length>0?Ke===Ft:ee===ne)?.5:1},children:""}),u.jsx("button",{onClick:()=>Ie.length>0?Ze(Ft):Se(ne),disabled:Ie.length>0?Ke===Ft:ee===ne,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Ie.length>0?Ke===Ft:ee===ne)?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:(Ie.length>0?Ke===Ft:ee===ne)?l?"#6b7280":"#9ca3af":"#fff",cursor:(Ie.length>0?Ke===Ft:ee===ne)?"not-allowed":"pointer",opacity:(Ie.length>0?Ke===Ft:ee===ne)?.5:1},children:"Last"})]})]})]})]}),u.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",style:{background:l?"#181a20":"#f5ecd7",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:l?"1px solid #334155":"1px solid #d1d5db",fontSize:`${ot}em`,position:"relative",flex:1,minHeight:0},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"16px 0 8px 0",paddingLeft:8,paddingRight:8},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:18}}),u.jsxs("table",{className:"w-full border-collapse",style:{fontSize:"inherit",color:l?"#fff":"#222"},children:[u.jsxs("thead",{className:"sticky top-0 z-30",style:{background:l?"#0f766e":"#0d9488",color:"white",fontSize:"inherit",zIndex:30},children:[u.jsx("tr",{style:{position:"sticky",top:0,zIndex:31,background:l?"#0f766e":"#0d9488"},children:_n.map((N,re)=>{const ce=N.type==="json"&&Array.isArray(N.intervals);if(N.type==="regular"&&rn.includes(N.value)){const Le=re===0||re===1,tt=l?"#5eead4":"#e0fcf7";return u.jsx("th",{rowSpan:2,className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${Ut}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:tt,minWidth:120,overflow:"visible",whiteSpace:sn?"normal":"nowrap",wordBreak:sn?"break-word":"normal",position:Le?"sticky":void 0,left:Le?re===0?0:120:void 0,zIndex:Le?40:void 0},title:N.label,onClick:()=>cs("regular",N.value),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("button",{onClick:ct=>{ct.stopPropagation(),gt("regular",N.value)},style:{marginRight:4,background:"none",border:"none",color:Ct===N.value?mn==="ASC"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none",width:"20px",textAlign:"center",position:"relative",zIndex:10},title:`Sort by ${N.label} (whole data)`,children:["w",Ct===N.value?mn==="ASC"?"":"":""]}),u.jsx("span",{children:N.label}),u.jsxs("button",{onClick:ct=>{ct.stopPropagation(),cs("regular",N.value)},style:{marginLeft:4,background:"none",border:"none",color:Wn&&Wn.type==="regular"&&Wn.key===N.value?li==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none",width:"20px",textAlign:"center",position:"relative",zIndex:10},title:`Sort by ${N.label} (table only)`,children:["t",Wn&&Wn.type==="regular"&&Wn.key===N.value?li==="asc"?"":"":""]})]})},N.value)}if(ce){const Le=N.intervals.filter(({interval:ct})=>{var lt;return!!((lt=qt[N.value])!=null&&lt[ct])});if(Le.length===0)return null;const tt=re%2===0?l?"#fbbf24":"#ffe082":l?"#fb923c":"#ffd6a5";return u.jsx("th",{colSpan:Le.length,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${Ut}em`,fontWeight:"bold",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:tt,minWidth:120,overflow:"visible",whiteSpace:sn?"normal":"nowrap",wordBreak:sn?"break-word":"normal"},title:N.label,children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("span",{children:N.label})})},N.value)}return null})}),u.jsx("tr",{children:_n.map((N,re)=>{if(N.type==="json"&&Array.isArray(N.intervals)){const ce=N.intervals.filter(({interval:tt})=>{var ct;return!!((ct=qt[N.value])!=null&&ct[tt])}),Le=re%2===0?l?"#1e293b":"#e0e7ef":l?"#334155":"#f1f5f9";return ce.map(({interval:tt})=>u.jsx("th",{className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${Ut}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:l?"#fff":"#222",background:Le,minWidth:90,overflow:"visible",whiteSpace:sn?"normal":"nowrap",wordBreak:sn?"break-word":"normal"},title:tt,onClick:()=>cs("json",tt,N.value,tt),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:tt}),u.jsx("span",{className:"ml-1 opacity-60",children:Wn&&Wn.type==="json"&&Wn.parentKey===N.value&&Wn.interval===tt?li==="asc"?"":"":""})]})},N.value+"_"+tt))}return null})})]}),u.jsx("tbody",{children:(()=>{if(ft)return u.jsx("tr",{children:u.jsx("td",{colSpan:_n?_n.length:1,style:{textAlign:"center",color:l?"#fff":"#222",fontSize:"1.1em",padding:"32px 0"},children:"Loading sorted data from database..."})});const N=Ie.length>0?Ie:Ge,re=Ki(N);return re.length?re.map((ce,Le)=>{let tt={};try{if(typeof ce.json_data=="string"){let It=ce.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");tt=JSON.parse(It)}else tt=ce.json_data||{}}catch{tt={}}const ct=(tt==null?void 0:tt.signal_data)||(tt==null?void 0:tt.signaldata)||(tt==null?void 0:tt.signalData),lt=(ct==null?void 0:ct.all_last_rows)||{},St=ce.unique_id!=null?ce.unique_id:Le,wt=tn===St;return u.jsx("tr",{className:"cursor-pointer",style:{fontSize:"inherit",borderBottom:l?"1px solid #334155":"1px solid #e5e7eb",transition:"all 0.15s ease-in-out",color:l?"#fff":"#222",background:wt?"#ffe066":void 0},onClick:()=>$i(wt?null:St),onMouseEnter:It=>{wt||(It.currentTarget.style.background=l?"#3d4451":"#f0f9ff",It.currentTarget.style.color=l?"#fff":"#222")},onMouseLeave:It=>{wt||(It.currentTarget.style.background="",It.currentTarget.style.color="")},children:_n.map((It,On)=>{if(It.type==="regular"&&rn.includes(It.value)){if(!Ku.find(wr=>wr.value===It.value))return null;const ar=On===0||On===1,ci=wt?"#ffe066":ar?l?"#5eead4":"#e0fcf7":void 0,Ii=wt||ar?"#111":l?"#fff":"#222";let ur=null,Xs="";const X0=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],J0=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(X0.includes(It.value)){const wr=Mt[ce.unique_id];if((It.value==="PL"||It.value==="Hedge")&&console.log("GroupViewPage Debug hedge field lookup:",{field:It.value,rowUniqueId:ce.unique_id,tradeData:wr,tradesByUniqueIdKeys:Object.keys(Mt).slice(0,5),totalTradesByUniqueId:Object.keys(Mt).length,sampleLogUniqueIds:Ge.slice(0,3).map(ja=>ja.unique_id)}),wr&&wr.unique_id){const Ns={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[It.value];Ns&&(ur=wr[Ns],Xs=ur!=null?i(ur,It.value):"")}}else if(J0.includes(It.value)){let wr={};try{if(typeof ce.json_data=="string"){let Ns=ce.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");wr=JSON.parse(Ns)}else wr=ce.json_data||{}}catch{wr={}}const ja=(wr==null?void 0:wr.signal_data)||(wr==null?void 0:wr.signaldata)||(wr==null?void 0:wr.signalData);if(ja&&typeof ja=="object"){const Ns=It.value.replace("signal_data_","");ur=ja[Ns],Xs=ur!=null?i(ur,It.value):""}}else ur=ce[It.value],Xs=ur!=null?i(ur,It.value):"";let Ql={fontSize:"inherit",color:wt?"#111":Ii,background:ci,minWidth:120,overflow:"visible",whiteSpace:"nowrap",position:ar?"sticky":void 0,left:ar?On===0?0:120:void 0,zIndex:ar?30:void 0,padding:"1px 6px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"};if(It.value==="PL"&&ur!=null){const wr=parseFloat(ur);isNaN(wr)||(wt?wr<0?Ql.color="#000000":wr>0&&(Ql.color="#166534"):wr<0?Ql.color="#ef4444":wr>0&&(Ql.color="#22c55e"))}return u.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:Ql,title:Xs,children:ur!=null?i(ur,It.value):""},It.value)}if(It.type==="json"&&Array.isArray(It.intervals)){const An=It.intervals.filter(({interval:Ii})=>{var ur;return!!((ur=qt[It.value])!=null&&ur[Ii])}),ar=wt?"#ffe066":On%2===0?l?"#1e293b":"#e0e7ef":l?"#334155":"#f1f5f9",ci=wt?"#111":l?"#fff":"#222";return An.map(({interval:Ii})=>{let ur=lt[Ii]?lt[Ii][It.value]:void 0;return u.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:ci,background:ar,minWidth:90,overflow:"visible",whiteSpace:"nowrap",padding:"1px 4px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:ur!==void 0?i(ur,It.value):"",children:ur!==void 0?i(ur,It.value):"-"},It.value+"_"+Ii)})}return null})},Le)}):u.jsx("tr",{children:u.jsx("td",{colSpan:_n?_n.length:1,style:{textAlign:"center",color:l?"#fff":"#222",fontSize:"1.1em",padding:"32px 0"},children:"No data available for the selected symbols and filters."})})})()})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"12px 0 8px 0",padding:"8px 12px",background:l?"#1e293b":"#f1f5f9",borderRadius:6,border:l?"1px solid #334155":"1px solid #e2e8f0"},children:[u.jsx("span",{style:{fontWeight:600,color:l?"#fff":"#222",fontSize:14},children:"Rows per page:"}),u.jsx("input",{type:"number",min:"1",value:D,onChange:N=>{const re=parseInt(N.target.value);!isNaN(re)&&re>=1&&J(re)},onKeyPress:N=>{N.key==="Enter"&&V(D)},onBlur:()=>V(D),style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",fontSize:14,textAlign:"center"}})]}),ne>1&&u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"16px 0 8px 0",padding:"12px",background:l?"#23272f":"#f8f9fa",borderRadius:8,border:l?"1px solid #334155":"1px solid #e5e7eb"},children:[u.jsx("button",{onClick:()=>Se(1),disabled:ee===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:ee===1?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:ee===1?l?"#6b7280":"#9ca3af":"#fff",cursor:ee===1?"not-allowed":"pointer",opacity:ee===1?.5:1},children:"First"}),u.jsx("button",{onClick:()=>Se(ee-1),disabled:ee===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:ee===1?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:ee===1?l?"#6b7280":"#9ca3af":"#fff",cursor:ee===1?"not-allowed":"pointer",opacity:ee===1?.5:1},children:"Previous"}),u.jsxs("span",{style:{fontWeight:600,color:l?"#fff":"#222"},children:["Page ",ee," of ",ne]}),u.jsx("button",{onClick:()=>Se(ee+1),disabled:ee===ne,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:ee===ne?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:ee===ne?l?"#6b7280":"#9ca3af":"#fff",cursor:ee===ne?"not-allowed":"pointer",opacity:ee===ne?.5:1},children:"Next"}),u.jsx("button",{onClick:()=>Se(ne),disabled:ee===ne,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:ee===ne?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:ee===ne?l?"#6b7280":"#9ca3af":"#fff",cursor:ee===ne?"not-allowed":"pointer",opacity:ee===ne?.5:1},children:"Last"})]})]})})]}),u.jsxs("div",{style:{position:"fixed",top:20,left:20,zIndex:200,display:"flex",flexDirection:"row",alignItems:"center",gap:8},children:[u.jsx("button",{onClick:()=>window.history.back(),style:{padding:"6px 10px",borderRadius:8,background:l?"#23272f":"#e5e7eb",color:l?"#fff":"#222",fontWeight:700,fontSize:16,border:"none",cursor:"pointer",boxShadow:"0 1px 4px rgba(0,0,0,0.08)"},title:"Back",children:""}),u.jsx("button",{onClick:()=>Li(!0),style:{padding:"7px 12px",borderRadius:10,background:"#0ea5e9",color:"#fff",fontWeight:700,fontSize:15,boxShadow:"0 2px 8px #0ea5e944",border:"none",cursor:"pointer",minWidth:32,textAlign:"center"},title:"Select symbols to show",children:Gt.length}),zt&&u.jsxs("div",{ref:Un,style:{position:"absolute",top:40,left:0,minWidth:220,maxWidth:320,background:l?"#23272f":"#fff",color:l?"#fff":"#222",border:"2px solid #0ea5e9",borderRadius:14,boxShadow:"0 8px 32px rgba(0,0,0,0.18)",padding:18,zIndex:9999,display:"flex",flexDirection:"column",gap:10},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[u.jsx("span",{style:{fontWeight:700,fontSize:16},children:"Select Symbols"}),u.jsx("button",{onClick:()=>Li(!1),style:{fontSize:18,background:"none",border:"none",color:l?"#fff":"#222",cursor:"pointer"},title:"Close",children:""})]}),u.jsxs("div",{style:{display:"flex",gap:6,marginBottom:6},children:[u.jsx("button",{onClick:Gs,style:{padding:"3px 8px",borderRadius:5,background:"#22c55e",color:"#fff",border:"none",fontWeight:600,cursor:"pointer",fontSize:13},children:"Select All"}),u.jsx("button",{onClick:Kl,style:{padding:"3px 8px",borderRadius:5,background:"#ef4444",color:"#fff",border:"none",fontWeight:600,cursor:"pointer",fontSize:13},children:"Clear All"})]}),u.jsx("div",{style:{maxHeight:240,overflowY:"auto",display:"flex",flexDirection:"column",gap:4},children:e.map(N=>u.jsx("button",{onClick:()=>ei(N),style:{padding:"6px 10px",borderRadius:7,background:Gt.includes(N)?"#0ea5e9":"#e5e7eb",color:Gt.includes(N)?"#fff":"#222",border:"none",fontWeight:600,fontSize:13,cursor:"pointer",outline:Gt.includes(N)?"2px solid #38bdf8":"none",transition:"background 0.18s, color 0.18s, outline 0.18s"},children:N},N))})]})]}),cr&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{style:{background:l?"#23272f":"#fff",color:l?"#fff":"#222",padding:32,borderRadius:16,fontSize:20,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",minWidth:340,minHeight:120,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[u.jsx("div",{children:"Export Data"}),u.jsxs("div",{style:{display:"flex",gap:18},children:[u.jsx("button",{onClick:()=>Vt("pagination"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#0ea5e9",color:"#fff",boxShadow:"0 2px 8px #0ea5e944",cursor:"pointer",transition:"background 0.2s"},children:"Export Current Page"}),u.jsx("button",{onClick:()=>Vt("whole"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export All Filtered Data"})]}),u.jsx("button",{onClick:()=>ge(!1),style:{marginTop:12,background:"none",border:"none",color:l?"#fff":"#222",fontSize:18,cursor:"pointer"},children:"Cancel"})]})}),ze&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{background:l?"#23272f":"#fff",color:l?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Exporting data..."})}),u.jsx("div",{style:{marginTop:60}})]})};function R$(t,e){const n=new Date(t).getTime();let r=Math.floor((e-n)/1e3);if(r<0&&(r=0),r<60)return`${r}s ago`;if(r<3600){const d=Math.floor(r/60),g=r%60;return`${d}m ${g}s ago`}if(r<86400){const d=Math.floor(r/3600),g=Math.floor(r%3600/60),p=r%60;return`${d}h ${g}m ${p}s ago`}const i=Math.floor(r/86400),l=Math.floor(r%86400/3600),o=Math.floor(r%3600/60),f=r%60;return`${i}d ${l}h ${o}m ${f}s ago`}function j$({data:t=[]}){const[e,n]=x.useState(Date.now());x.useEffect(()=>{const l=setInterval(()=>n(Date.now()),1e3);return()=>clearInterval(l)},[]);const[r,i]=x.useState(()=>document.documentElement.classList.contains("dark"));return x.useEffect(()=>{const l=new MutationObserver(()=>{i(document.documentElement.classList.contains("dark"))});return l.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>l.disconnect()},[]),u.jsxs("div",{className:"flex flex-row items-center gap-3 ml-4",children:[t.length===0&&u.jsx("span",{className:"text-gray-400 text-xs",children:"No SuperTrend signals"}),t.map((l,o)=>{const f=new Date(l.timestamp).getTime(),g=Math.floor((e-f)/1e3)<2700,p=r?"text-white":"text-black",v=l.trend&&l.trend.toUpperCase()==="BUY"?"text-green-500":l.trend&&l.trend.toUpperCase()==="SELL"?"text-red-500":"";return u.jsxs("span",{className:`px-2 py-1 rounded border ${g?"border-yellow-400 animate-pulse":"border-gray-500"} flex flex-row items-center gap-1 bg-transparent`,style:{background:"none"},children:[u.jsx("span",{className:`font-mono text-blue-400 ${p}`,children:l.source}),u.jsx("span",{className:`font-bold ${v}`,children:l.trend}),u.jsx("span",{className:g?"text-orange-400 font-bold":p,children:R$(l.timestamp,e)})]},o)})]})}const vs=t=>{const e=parseFloat(t);return Number.isFinite(e)?e:null},_d=t=>{const e=((t==null?void 0:t.action)||"").toUpperCase();return vs(e==="BUY"?(t==null?void 0:t.buy_price)??(t==null?void 0:t.Buy_Price)??(t==null?void 0:t.buyPrice):e==="SELL"?(t==null?void 0:t.sell_price)??(t==null?void 0:t.Sell_Price)??(t==null?void 0:t.sellPrice):(t==null?void 0:t.close_price)??(t==null?void 0:t.Close_Price)??(t==null?void 0:t.price))},Sd=t=>vs((t==null?void 0:t.close_price)??(t==null?void 0:t.Close_Price)??(t==null?void 0:t.price)),gw=t=>((t==null?void 0:t.interval)??(t==null?void 0:t.Interval)??"").toString(),O4=t=>{const e=(t||"").toString().trim();return e?e==="60"?"1h":e==="240"?"4h":e==="D"||e==="1d"||e==="1D"?"1d":/^(\\d+)[mhd]$/i.test(e)?e.toLowerCase():`${e}m`:"15m"},L$=(t,e)=>{const n=t.replace("/","").toUpperCase();if(!n)return null;const r=e?`?interval=${O4(e)}`:"";return`https://www.binance.com/en/futures/${n}${r}`},wd=t=>(t==null?void 0:t.fetcher_trade_time)||(t==null?void 0:t.fetcher_time)||(t==null?void 0:t.Fetcher_time),ef=t=>(t==null?void 0:t.operator_close_time)||(t==null?void 0:t.close_time)||(t==null?void 0:t.Operator_close_time)||(t==null?void 0:t["Operator_"])||(t==null?void 0:t.operatorCloseTime),pw=(t,e)=>{const n=xt(t),r=xt(e);return!n.isValid()||!r.isValid()?null:Math.abs(n.diff(r,"minutes",!0))},mw=(t,e)=>{if(t===null||e===null)return null;const n=Math.max(Math.abs(t),Math.abs(e),1e-9);return Math.abs((e-t)/n)*100},Hm=t=>((t==null?void 0:t.type)||(t==null?void 0:t.Type)||"").toString().toLowerCase().includes("back_close")||ef(t)?"closed":"running",Um=t=>t==null?"":t>=25?"bg-red-800 text-white":t>=20?"bg-red-600 text-white":t>=15?"bg-red-500 text-white":t>=10?"bg-orange-400 text-white":"",I$=({title:t,value:e,subtitle:n,tint:r})=>u.jsxs("div",{className:`p-4 rounded-lg border shadow-sm ${r||"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700"}`,children:[u.jsx("div",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:t}),u.jsx("div",{className:"text-3xl font-bold mt-1 text-gray-900 dark:text-white",children:e}),n&&u.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:n})]}),xw=({children:t,tone:e})=>u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${e||"bg-gray-200 text-gray-800"}`,children:t}),P$=()=>{const[t,e]=x.useState(()=>{const V=localStorage.getItem("theme");return V?V==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const[n,r]=x.useState([]),[i,l]=x.useState([]),[o,f]=x.useState(!0),[d,g]=x.useState(""),[p,v]=x.useState(()=>localStorage.getItem("tc_fromDate")||""),[_,b]=x.useState(()=>localStorage.getItem("tc_toDate")||""),[w,S]=x.useState(()=>{try{const V=localStorage.getItem("tc_backendMachines");return V?JSON.parse(V):[]}catch{return[]}}),[T,A]=x.useState(()=>{try{const V=localStorage.getItem("tc_liveMachines");return V?JSON.parse(V):[]}catch{return[]}}),[j,I]=x.useState(()=>localStorage.getItem("tc_showIssuesOnly")==="true"),[Z,Q]=x.useState(()=>{try{const V=localStorage.getItem("tc_quickFilters");return V?JSON.parse(V):[]}catch{return[]}}),[Y,L]=x.useState(()=>{try{const V=localStorage.getItem("tc_sortConfig");return V?JSON.parse(V):{key:"candle",direction:"asc"}}catch{return{key:"candle",direction:"asc"}}}),[U,q]=x.useState(null),[ie,xe]=x.useState(null),[ue,De]=x.useState({}),[We,Ye]=x.useState({}),[ee,Pe]=x.useState({key:"ts",direction:"asc"}),[Fe,X]=x.useState(!1),[D,J]=x.useState(null),[H,K]=x.useState(null),[P,G]=x.useState(()=>{const V=localStorage.getItem("tc_font_scale"),Se=V?parseFloat(V):1;return Number.isFinite(Se)?Se:1}),[oe,Ne]=x.useState(null),Ie=x.useCallback((V,Se)=>{if(!Se)return"";const Be=(V||"").toLowerCase(),Mt=Se[V]??Se[V==null?void 0:V.toLowerCase()]??Se[V==null?void 0:V.toUpperCase()];return Mt!==void 0?Mt:Be.includes("m.id")||Be==="m_id"||Be==="m.id"?Se.machineid??Se.machine_id??"":Be.includes("unique")?Se.unique_id??"":Be.includes("candle")?Se.candel_time??Se.candle_time??"":Be.includes("fetcher")?Se.fetcher_trade_time??Se.fetcher_time??"":Be.includes("operator")&&Be.includes("close")?Se.operator_close_time??"":Be.includes("operator")?Se.operator_trade_time??Se.operator_time??"":Be==="pair"||Be==="symbol"?Se.pair??Se.symbol??"":Be.includes("interval")?Se.interval??"":Be.includes("action")?Se.action??"":Be.includes("type")?Se.type??"":Be.includes("pl after comm")||Be==="pl"||Be.includes("pl_after_comm")?Se.pl_after_comm??Se.Pl_after_comm??"":Be.includes("investment")?Se.investment??"":Be.includes("stop")?Se.stop_price??"":Be.includes("save")?Se.save_price??"":Be.includes("buy price")?Se.buy_price??"":Be.includes("sell price")?Se.sell_price??"":Be.includes("close price")?Se.close_price??"":""},[]),[Je]=x.useState(()=>{try{const V=localStorage.getItem("liveTradeView_regular_labels");return V?JSON.parse(V):null}catch{return null}}),[Ke]=x.useState(()=>{try{const V=localStorage.getItem("liveTradeView_json_labels");return V?JSON.parse(V):null}catch{return null}}),pn=zc(),Ft=x.useCallback(async()=>{f(!0),g("");try{const[V,Se]=await Promise.all([fetch(`${sa()}/api/trades`),fetch(`${sa()}/api/machines`)]),Be=V.ok?await V.json():{trades:[]},Mt=Se.ok?await Se.json():{machines:[]},ot=Array.isArray(Be.trades)?Be.trades:[],Dt=Array.isArray(Mt.machines)?Mt.machines:[];r(ot),l(Dt);const ht=[...new Set([...Dt.map(Bt=>{var $t;return($t=Bt.machineid)==null?void 0:$t.toString()}),...ot.map(Bt=>{var $t;return($t=Bt.machineid)==null?void 0:$t.toString()})].filter(Boolean))],jt=ht.includes("9")?["9"]:ht.slice(0,1);S(Bt=>Bt.length?Bt:jt),A(Bt=>Bt.length?Bt:ht.filter($t=>!jt.includes($t)))}catch(V){console.error(V),g("Failed to load trades/machines")}finally{f(!1)}},[]);x.useEffect(()=>{Ft()},[Ft]),x.useEffect(()=>{p?localStorage.setItem("tc_fromDate",p):localStorage.removeItem("tc_fromDate")},[p]),x.useEffect(()=>{_?localStorage.setItem("tc_toDate",_):localStorage.removeItem("tc_toDate")},[_]),x.useEffect(()=>{localStorage.setItem("tc_backendMachines",JSON.stringify(w))},[w]),x.useEffect(()=>{localStorage.setItem("tc_liveMachines",JSON.stringify(T))},[T]),x.useEffect(()=>{localStorage.setItem("tc_showIssuesOnly",j?"true":"false")},[j]),x.useEffect(()=>{localStorage.setItem("tc_quickFilters",JSON.stringify(Z))},[Z]),x.useEffect(()=>{localStorage.setItem("tc_sortConfig",JSON.stringify(Y))},[Y]);const un=x.useCallback(async V=>{var Be,Mt,ot,Dt;const Se=((Be=V.liveTrade)==null?void 0:Be.unique_id)||((Mt=V.liveTrade)==null?void 0:Mt.uid)||((ot=V.liveTrade)==null?void 0:ot.Unique_ID);if(!Se){De(ht=>({...ht,[V.key]:{error:"No UID on live trade"}}));return}if(!((Dt=ue[V.key])!=null&&Dt.loaded)){Ye(ht=>({...ht,[V.key]:!0}));try{const ht=await fetch(`${sa()}/api/bot-event-logs?uid=${encodeURIComponent(Se)}&limit=500`);if(!ht.ok)throw new Error(`HTTP ${ht.status}`);const _t=await ht.json(),Bt=(Array.isArray(_t.logs)?_t.logs:[]).map(fn=>{let kn={};try{kn=typeof fn.json_message=="string"?JSON.parse(fn.json_message):fn.json_message||{}}catch{kn={}}const Hn=vs(kn["Pl After Comm"]??kn.pl_after_comm);return{ts:fn.timestamp||fn.created_at||fn.time||fn.Timestamp||fn.time_stamp,pl:Hn,raw:fn,json:kn}});Bt.sort((fn,kn)=>{const Hn=xt(fn.ts),En=xt(kn.ts);return!Hn.isValid()||!En.isValid()?0:Hn.valueOf()-En.valueOf()});let $t=!1,rn=null,qn=null,Pn=null,wn=null,qt=null;Bt.forEach(fn=>{if(fn.pl===null)return;if(qt===null&&(qt=!1),fn.pl>0&&(qt=!0),!$t&&fn.pl>20){$t=!0,rn=fn.pl,qn=fn.ts;return}if(!$t)return;if(fn.pl>rn){rn=fn.pl,qn=fn.ts,Pn=null,wn={peak:rn,at:qn};return}const kn=rn?(rn-fn.pl)/rn*100:0;!Pn&&kn>20&&(Pn={dropPct:kn,peak:rn,at:fn.ts,value:fn.pl},wn=null)}),De(fn=>({...fn,[V.key]:{logs:Bt,issue:Pn,recovered:wn,loaded:!0,everPositive:qt}}))}catch(ht){De(_t=>({..._t,[V.key]:{error:ht.message||"Failed to load logs"}}))}finally{Ye(ht=>({...ht,[V.key]:!1}))}}},[ue]),Zt=x.useMemo(()=>[...new Set([...i.map(Se=>{var Be;return(Be=Se.machineid)==null?void 0:Be.toString()}),...n.map(Se=>{var Be;return(Be=Se.machineid)==null?void 0:Be.toString()})].filter(Boolean))],[i,n]),Bn=x.useMemo(()=>{const V=p?xt.utc(p).startOf("day"):null,Se=_?xt.utc(_).endOf("day"):null;return n.filter(Be=>{const Mt=(Be==null?void 0:Be.candel_time)||(Be==null?void 0:Be.candle_time);if(!Mt)return!1;const ot=xt.utc(Mt);return!(V&&ot.isBefore(V)||Se&&ot.isAfter(Se))})},[n,p,_]),ft=x.useMemo(()=>{const V=new Set(w.map(String));return Bn.filter(Se=>V.has((Se.machineid||Se.machine_id||"").toString()))},[Bn,w]),He=x.useMemo(()=>{const V=new Set(T.map(String));return Bn.filter(Se=>V.has((Se.machineid||Se.machine_id||"").toString()))},[Bn,T]),Ct=x.useMemo(()=>{const V=new Map;return ft.forEach(Se=>{const Be=(Se.pair||Se.symbol||Se.PAIR||"").toString().trim().toUpperCase();V.has(Be)||V.set(Be,[]),V.get(Be).push(Se)}),V.forEach(Se=>Se.sort((Be,Mt)=>xt.utc(Be.candel_time||Be.candle_time).valueOf()-xt.utc(Mt.candel_time||Mt.candle_time).valueOf())),V},[ft]),yn=x.useMemo(()=>{const V=new Map;return He.forEach(Se=>{const Be=(Se.pair||Se.symbol||Se.PAIR||"").toString().trim().toUpperCase();V.has(Be)||V.set(Be,[]),V.get(Be).push(Se)}),V.forEach(Se=>Se.sort((Be,Mt)=>xt.utc(Be.candel_time||Be.candle_time).valueOf()-xt.utc(Mt.candel_time||Mt.candle_time).valueOf())),V},[He]),mn=x.useMemo(()=>{const V=[],Se=new Set;return Ct.forEach((Be,Mt)=>{const ot=yn.get(Mt)||[];Be.forEach(Dt=>{let ht=null,_t=1/0;ot.forEach(O=>{if(Se.has(O))return;const R=Math.abs(xt.utc((Dt==null?void 0:Dt.candel_time)||(Dt==null?void 0:Dt.candle_time)).diff(xt.utc((O==null?void 0:O.candel_time)||(O==null?void 0:O.candle_time)),"hours",!0));R<=4&&R<_t&&(_t=R,ht=O)}),ht&&Se.add(ht);const jt=Dt||null,Bt=ht||null,$t=pw(wd(jt),wd(Bt)),rn=jt&&Bt?Math.abs(xt.utc((jt==null?void 0:jt.candel_time)||(jt==null?void 0:jt.candle_time)).diff(xt.utc((Bt==null?void 0:Bt.candel_time)||(Bt==null?void 0:Bt.candle_time)),"hours",!0)):null,qn=_d(jt),Pn=_d(Bt),wn=mw(qn,Pn),qt=mw(vs(jt==null?void 0:jt.investment),vs(Bt==null?void 0:Bt.investment)),fn=Hm(jt),kn=Hm(Bt),Hn=Sd(jt),En=Sd(Bt),Cn=fn==="closed"&&kn==="closed"?pw(ef(jt),ef(Bt)):null,hr=fn==="closed"&&kn==="closed"&&Hn!==null&&En!==null?(()=>{const O=(Math.abs(En)+Math.abs(Hn))/2||1e-9;return Math.abs(En-Hn)/O*100})():null,_n=[];rn!==null&&rn>4&&_n.push(`Candle gap ${rn.toFixed(1)}h`),$t!==null&&$t>5&&_n.push(`Late fetch (${$t.toFixed(1)}m)`),wn!==null&&wn>15&&_n.push(`Price gap ${wn.toFixed(1)}%`),fn==="closed"&&kn==="running"&&_n.push("Backend closed, live running"),fn==="running"&&kn==="closed"&&_n.push("Backend running, live closed");const we=vs(Bt==null?void 0:Bt.pl_after_comm),E=vs(jt==null?void 0:jt.pl_after_comm);Cn!==null&&Cn>16&&we!==null&&E!==null&&we<E&&_n.push(`Close time gap ${Cn.toFixed(1)}m and live earned less`),hr!==null&&hr>15&&we!==null&&E!==null&&we<E&&_n.push(`Close price gap ${hr.toFixed(1)}% with worse P/L`),qt!==null&&qt>0&&_n.push(`Investment gap ${qt.toFixed(1)}%`),V.push({key:`${Mt}__${(jt==null?void 0:jt.candel_time)||(jt==null?void 0:jt.candle_time)||"na"}__${(Bt==null?void 0:Bt.candel_time)||(Bt==null?void 0:Bt.candle_time)||"na"}`,backendList:jt?[jt]:[],liveList:Bt?[Bt]:[],backendTrade:jt,liveTrade:Bt,fetcherDiff:$t,priceDeltaPct:wn,closeTimeDiff:Cn,closePriceDelta:hr,investmentDeltaPct:qt,backendStatus:fn,liveStatus:kn,issues:_n})})}),yn.forEach((Be,Mt)=>{Be.forEach(ot=>{Se.has(ot)||V.push({key:`${Mt}__liveonly__${(ot==null?void 0:ot.candel_time)||(ot==null?void 0:ot.candle_time)||"na"}`,backendList:[],liveList:[ot],backendTrade:null,liveTrade:ot,fetcherDiff:null,priceDeltaPct:null,closeTimeDiff:null,closePriceDelta:null,investmentDeltaPct:null,backendStatus:"missing",liveStatus:Hm(ot),issues:["Extra in live"]})})}),V},[Ct,yn]),[Gn,cr]=x.useState(()=>{try{const V=localStorage.getItem("liveTradeView_unified_labels_order");return V?JSON.parse(V):null}catch{return null}});x.useEffect(()=>{mn.forEach(V=>{var Se;V.liveTrade&&((Se=ue[V.key])!=null&&Se.loaded||We[V.key]||un(V))})},[mn,un]);const ge=x.useMemo(()=>{const V=j?mn.filter(Be=>Be.issues&&Be.issues.length):mn;if(!Z||Z.length===0)return V;const Se=(Be,Mt)=>{var ot,Dt;switch(Mt){case"backendMissing":return Be.liveList.length===0;case"liveExtra":return Be.backendList.length===0;case"lateFetch":return Number.isFinite(Be.fetcherDiff)&&Be.fetcherDiff>5;case"priceGap":return Number.isFinite(Be.priceDeltaPct)&&Be.priceDeltaPct>15;case"closureMismatch":return Be.backendStatus==="closed"&&Be.liveStatus==="running"||Be.backendStatus==="running"&&Be.liveStatus==="closed";case"closureGap":return Number.isFinite(Be.closeTimeDiff)&&Be.closeTimeDiff>16&&Number.isFinite(Be.closePriceDelta)&&Be.closePriceDelta>15;case"plDrop":return!!((ot=ue[Be.key])!=null&&ot.issue);case"neverProfit":return((Dt=ue[Be.key])==null?void 0:Dt.everPositive)===!1;case"totalBackend":return Be.backendList.length>0;case"totalLive":return Be.liveList.length>0;default:return!1}};return V.filter(Be=>Z.some(Mt=>Se(Be,Mt)))},[mn,j,Z,ue]),ze=x.useMemo(()=>mn.filter(V=>{var Se;return(Se=ue[V.key])==null?void 0:Se.issue}).length,[mn,ue]),nt=x.useMemo(()=>ge.filter(V=>{var Se;return((Se=ue[V.key])==null?void 0:Se.everPositive)===!1}).length,[ge,ue]),Ee=x.useMemo(()=>ge.filter(V=>{var Se,Be;return((Se=ue[V.key])==null?void 0:Se.loaded)||((Be=ue[V.key])==null?void 0:Be.error)}).length,[ge,ue]),Oe=x.useMemo(()=>{const{key:V,direction:Se}=Y,Be=Se==="asc"?1:-1,Mt=ot=>{var Dt,ht,_t,jt,Bt,$t,rn,qn;switch(V){case"symbol":return((Dt=ot.backendTrade)==null?void 0:Dt.pair)||((ht=ot.liveTrade)==null?void 0:ht.pair)||"";case"candle":return((_t=ot.backendTrade)==null?void 0:_t.candel_time)||((jt=ot.liveTrade)==null?void 0:jt.candel_time)||"";case"fetcher":return Number.isFinite(ot.fetcherDiff)?ot.fetcherDiff:1/0;case"price":return Number.isFinite(ot.priceDeltaPct)?ot.priceDeltaPct:1/0;case"investment":return Number.isFinite(ot.investmentDeltaPct)?ot.investmentDeltaPct:1/0;case"close":return Number.isFinite(ot.closeTimeDiff)?ot.closeTimeDiff:Number.isFinite(ot.closePriceDelta)?ot.closePriceDelta:1/0;case"backend":return(ot.backendList.map(Pn=>Pn.machineid).join(",")||"").toLowerCase();case"live":return(ot.liveList.map(Pn=>Pn.machineid).join(",")||"").toLowerCase();case"action":{const Pn=(((Bt=ot.backendTrade)==null?void 0:Bt.action)||"").toLowerCase(),wn=((($t=ot.liveTrade)==null?void 0:$t.action)||"").toLowerCase();return`${Pn}-${wn}`}case"status":return`${ot.backendStatus}-${ot.liveStatus}`;case"drawdown":{const Pn=(qn=(rn=ue[ot.key])==null?void 0:rn.issue)==null?void 0:qn.dropPct;return Number.isFinite(Pn)?Pn:1/0}case"issues":return ot.issues?ot.issues.length:0;default:return 0}};return[...ge].sort((ot,Dt)=>{const ht=Mt(ot),_t=Mt(Dt);return ht<_t?-1*Be:ht>_t?1*Be:0})},[ge,Y,ue]),me=V=>{L(Se=>Se.key===V?{key:V,direction:Se.direction==="asc"?"desc":"asc"}:{key:V,direction:"asc"})},Ge=x.useMemo(()=>{const V=mn.filter(jt=>jt.liveList.length===0).length,Se=mn.filter(jt=>jt.backendList.length===0).length,Be=mn.filter(jt=>jt.fetcherDiff!==null&&jt.fetcherDiff>5).length,Mt=mn.filter(jt=>jt.priceDeltaPct!==null&&jt.priceDeltaPct>15).length,ot=mn.filter(jt=>jt.backendStatus==="closed"&&jt.liveStatus==="running"||jt.backendStatus==="running"&&jt.liveStatus==="closed").length,Dt=mn.filter(jt=>jt.closeTimeDiff!==null&&jt.closeTimeDiff>16&&jt.closePriceDelta!==null&&jt.closePriceDelta>15).length,ht=ft.length,_t=He.length;return{backendMissing:V,liveExtra:Se,lateFetch:Be,priceGap:Mt,closureMismatch:ot,closureGap:Dt,totalBackend:ht,totalLive:_t}},[mn,ft,He]),cn=x.useMemo(()=>{let V=0,Se=0;return ge.forEach(Be=>{var _t,jt;const Mt=vs((_t=Be.liveTrade)==null?void 0:_t.pl_after_comm),ot=vs((jt=Be.backendTrade)==null?void 0:jt.pl_after_comm);if(!(Be.backendStatus==="closed"&&Be.liveStatus==="closed")||Mt===null||ot===null)return;const ht=Mt-ot;ht>0&&(V+=ht),ht<0&&(Se+=Math.abs(ht))}),{profit:V,loss:Se,net:V-Se}},[ge]),Qt=V=>!V||!V.length?u.jsx(xw,{tone:"bg-green-100 text-green-800",children:"OK"}):u.jsx("div",{className:"flex flex-wrap gap-1",children:V.map((Se,Be)=>u.jsx(xw,{tone:"bg-red-100 text-red-800",children:Se},Be))});return o?u.jsx("div",{className:"p-6 text-center",children:"Loading trades"}):d?u.jsx("div",{className:"p-6 text-center text-red-600",children:d}):u.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#f5f6fa] dark:bg-black text-gray-900 dark:text-gray-100",children:[u.jsx(y1,{isOpen:Fe,toggleSidebar:()=>X(V=>!V)}),u.jsx("div",{className:`flex-1 transition-all duration-300 ${Fe?"ml-64":"ml-20"} h-full overflow-hidden`,children:u.jsxs("div",{className:"p-6 h-full flex flex-col space-y-6 overflow-hidden",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Trade Compare"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Backend (Assigned) vs Live by symbol + candle time"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("div",{className:"px-4 py-2 rounded-lg bg-green-100 text-green-800 dark:bg-green-900/60 dark:text-green-100 border border-green-200 dark:border-green-700",children:[u.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Total Profit "}),u.jsxs("div",{className:"text-xl font-bold",children:["$",cn.profit.toFixed(2)]})]}),u.jsxs("div",{className:"px-4 py-2 rounded-lg bg-red-100 text-red-800 dark:bg-red-900/60 dark:text-red-100 border border-red-200 dark:border-red-700",children:[u.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Total Loss "}),u.jsxs("div",{className:"text-xl font-bold",children:["$",cn.loss.toFixed(2)]})]}),u.jsxs("div",{className:"px-4 py-2 rounded-lg bg-blue-100 text-blue-900 dark:bg-blue-900/60 dark:text-blue-100 border border-blue-200 dark:border-blue-700",children:[u.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Net PL "}),u.jsxs("div",{className:"text-xl font-bold",children:["$",cn.net.toFixed(2)]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ox,{to:"/",className:"px-3 py-2 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",title:"Back to main dashboard",children:" Home"}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{G(V=>{const Se=Math.max(.6,V-.1);return localStorage.setItem("tc_font_scale",String(Se)),Se})},title:"Decrease font size",children:""}),u.jsxs("span",{className:"px-2",children:["Font ",P.toFixed(1),"x"]}),u.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{G(V=>{const Se=Math.min(2,V+.1);return localStorage.setItem("tc_font_scale",String(Se)),Se})},title:"Increase font size",children:"+"})]}),u.jsx("button",{onClick:()=>e(V=>!V),className:"px-3 py-2 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white border border-gray-300 dark:border-gray-700",title:t?"Switch to light mode":"Switch to dark mode",children:t?" Light":" Dark"}),u.jsx("button",{onClick:Ft,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:"Refresh"}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:j,onChange:V=>I(V.target.checked)}),"Show only issues"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm",children:[u.jsx("div",{className:"col-span-1 md:col-span-2",children:u.jsxs("div",{className:"border rounded bg-white dark:bg-gray-900 p-2 flex flex-col gap-2 text-xs",children:[u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsxs("label",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"font-semibold",children:"From"}),u.jsx("input",{type:"datetime-local",value:p?xt.utc(p).format("YYYY-MM-DDTHH:mm"):"",onChange:V=>v(V.target.value?xt.utc(V.target.value).toISOString():""),className:"h-8 border rounded px-2 bg-white text-black dark:bg-gray-800 dark:text-white dark:border-gray-700"})]}),u.jsxs("label",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"font-semibold",children:"To"}),u.jsx("input",{type:"datetime-local",value:_?xt.utc(_).format("YYYY-MM-DDTHH:mm"):"",onChange:V=>b(V.target.value?xt.utc(V.target.value).toISOString():""),className:"h-8 border rounded px-2 bg-white text-black dark:bg-gray-800 dark:text-white dark:border-gray-700"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-[180px]",children:[u.jsx("div",{className:"font-semibold mb-1",children:"Backend (Assigned)"}),u.jsx("div",{className:"flex flex-wrap gap-1 max-h-14 overflow-auto pr-1",children:Zt.map(V=>u.jsxs("label",{className:"flex items-center gap-1 border px-2 py-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:w.includes(V),onChange:Se=>{S(Be=>Se.target.checked?[...Be,V]:Be.filter(Mt=>Mt!==V))}}),V]},`b-${V}`))})]}),u.jsxs("div",{className:"flex-1 min-w-[180px]",children:[u.jsx("div",{className:"font-semibold mb-1",children:"Live machines"}),u.jsx("div",{className:"flex flex-wrap gap-1 max-h-14 overflow-auto pr-1",children:Zt.map(V=>u.jsxs("label",{className:"flex items-center gap-1 border px-2 py-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:T.includes(V),onChange:Se=>{A(Be=>Se.target.checked?[...Be,V]:Be.filter(Mt=>Mt!==V))}}),V]},`l-${V}`))})]})]})]})}),u.jsx("div",{className:"col-span-1 md:col-span-2",children:u.jsxs("div",{className:"grid grid-rows-2 grid-flow-col auto-cols-[200px] gap-2 overflow-x-auto pb-1",children:[[{key:"backendMissing",title:"Backend missing in live",value:Ge.backendMissing},{key:"liveExtra",title:"Live extra vs backend",value:Ge.liveExtra},{key:"totalBackend",title:"Total backend trades",value:Ge.totalBackend},{key:"totalLive",title:"Total live trades",value:Ge.totalLive},{key:"lateFetch",title:"Late fetch (>5m)",value:Ge.lateFetch},{key:"priceGap",title:"Price gap (>15%)",value:Ge.priceGap},{key:"closureMismatch",title:"Closure mismatch",value:Ge.closureMismatch},{key:"closureGap",title:"Closure gap (time/price)",value:Ge.closureGap},{key:"plDrop",title:"PL drop after $20 (>15%)",value:ze},{key:"neverProfit",title:"Never in profit (scanned)",value:nt,subtitle:`${Ee}/${ge.length} scanned`}].map((V,Se)=>{const Be=["bg-gradient-to-br from-cyan-500/80 via-sky-400/80 to-blue-500/80 text-white","bg-gradient-to-br from-emerald-500/80 via-green-400/80 to-lime-500/80 text-white","bg-gradient-to-br from-amber-500/80 via-orange-400/80 to-rose-500/80 text-white","bg-gradient-to-br from-purple-500/80 via-fuchsia-500/80 to-pink-500/80 text-white","bg-gradient-to-br from-slate-600/80 via-slate-500/80 to-gray-500/80 text-white"],Mt=Be[Se%Be.length],ot=Z.includes(V.key);return u.jsx("button",{onClick:()=>Q(Dt=>Dt.includes(V.key)?Dt.filter(ht=>ht!==V.key):[...Dt,V.key]),className:`text-left h-full w-full transition-all rounded-lg shadow-md ${ot?"ring-2 ring-white/70 dark:ring-cyan-300 scale-[1.01]":"hover:scale-[1.01] hover:ring-1 hover:ring-white/50 dark:hover:ring-cyan-200/70"}`,children:u.jsx(I$,{title:V.title,value:V.value,subtitle:V.subtitle,tint:ot?Mt:`${Mt} opacity-90`})},V.key)}),u.jsx("div",{className:"flex items-center",children:u.jsx("button",{onClick:()=>Q([]),className:"text-sm text-blue-200 underline",children:"Show all"})})]})})]}),u.jsx("div",{className:"flex items-center justify-end mb-2",children:u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{G(V=>{const Se=Math.max(.6,V-.1);return localStorage.setItem("tc_font_scale",String(Se)),Se})},title:"Decrease font size",children:""}),u.jsxs("span",{className:"px-2",children:["Font ",P.toFixed(1),"x"]}),u.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{G(V=>{const Se=Math.min(2,V+.1);return localStorage.setItem("tc_font_scale",String(Se)),Se})},title:"Increase font size",children:"+"})]})})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsx("div",{className:"border rounded-lg h-full",style:{fontSize:`${P}rem`},children:u.jsx("div",{className:"overflow-auto h-full",children:u.jsxs("table",{className:"min-w-[1400px]",style:{fontSize:"inherit"},children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("symbol"),children:["Symbol ",Y.key==="symbol"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Unique ID"}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("candle"),children:["Candle Time ",Y.key==="candle"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("backend"),children:["Backend ",Y.key==="backend"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("live"),children:["Live ",Y.key==="live"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("action"),children:["Action ",Y.key==="action"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("fetcher"),children:["Fetcher  ",Y.key==="fetcher"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("price"),children:["Price % ",Y.key==="price"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("investment"),children:["Invest % ",Y.key==="investment"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("status"),children:["Status ",Y.key==="status"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("close"),children:["Close  ",Y.key==="close"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("drawdown"),children:["Closing issue ",Y.key==="drawdown"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>me("issues"),children:["Issues ",Y.key==="issues"?Y.direction==="asc"?"":"":""]})}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Compare"})]})}),u.jsxs("tbody",{children:[ge.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:13,className:"px-3 py-4 text-center text-gray-500",children:"No trades in range"})}),Oe.map(V=>{var E,O,R,M,F,W,se,Te,he,be,ve,et,it,dt,st,mt,Xt,en,hn,dn,sr,Un,er,Jn,Dr,de,Ot;const Se=((E=V.backendTrade)==null?void 0:E.pair)||((O=V.liveTrade)==null?void 0:O.pair)||"N/A",Be=((R=V.backendTrade)==null?void 0:R.candel_time)||((M=V.liveTrade)==null?void 0:M.candel_time)||"N/A",Mt=gw(V.backendTrade)||gw(V.liveTrade),ot=L$(Se,Mt),Dt=Number.isFinite(V.fetcherDiff)?`${V.fetcherDiff.toFixed(1)}m`:"",ht=Number.isFinite(V.priceDeltaPct)?`${V.priceDeltaPct.toFixed(1)}%`:"",_t=Um(V.priceDeltaPct),jt=Number.isFinite(V.investmentDeltaPct)?`${V.investmentDeltaPct.toFixed(1)}%`:"",Bt=Um(V.investmentDeltaPct),$t=vs((F=V.liveTrade)==null?void 0:F.pl_after_comm),rn=vs((W=V.backendTrade)==null?void 0:W.pl_after_comm),qn=Sd(V.liveTrade),Pn=Sd(V.backendTrade),wn=$t!==null&&rn!==null?$t-rn:null,qt=$t!==null&&rn!==null&&rn!==0?($t-rn)/Math.abs(rn)*100:null,fn=V.backendStatus==="closed"&&V.liveStatus==="closed",kn=ef(V.backendTrade),Hn=ef(V.liveTrade),En=(()=>{if(fn&&Number.isFinite(V.closeTimeDiff))return`${V.closeTimeDiff.toFixed(1)}m`;const Ve=[];return kn&&Ve.push(`B:${kn}`),Hn&&Ve.push(`L:${Hn}`),Ve.length?Ve.join(" | "):""})(),Cn=(()=>{if(fn&&Number.isFinite(V.closePriceDelta))return`${V.closePriceDelta.toFixed(1)}%`;const Ve=[];return Number.isFinite(Pn)&&Ve.push(`B:${Pn.toFixed(2)}`),Number.isFinite(qn)&&Ve.push(`L:${qn.toFixed(2)}`),Ve.length?Ve.join(" / "):""})(),hr=(()=>{const Ve=[];rn!==null&&Ve.push(`B:${rn.toFixed(2)}`),$t!==null&&Ve.push(`L:${$t.toFixed(2)}`);const Lt=wn!==null?u.jsxs("div",{className:"font-bold text-sm",children:[" $",wn.toFixed(2)," ",qt!==null?`(${qt.toFixed(1)}%)`:""]}):null;return Ve.length===0&&!Lt?u.jsx("div",{children:"PL: "}):u.jsxs("div",{className:"leading-tight",children:[Ve.length?u.jsx("div",{children:Ve.join(" / ")}):null,Lt]})})(),_n=u.jsxs("div",{className:"space-y-0.5 text-xs",children:[u.jsxs("div",{children:["Time: ",En]}),u.jsxs("div",{children:["Price: ",Cn]}),u.jsx("div",{children:hr}),!fn&&u.jsx("div",{className:"text-gray-500",children:"Pending (running)"})]}),we=(()=>{if(!fn)return"";if(wn!==null){if(wn>0)return"bg-green-200 text-green-900";if(wn<0)return"bg-red-200 text-red-900"}return Um(V.closePriceDelta)})();return u.jsxs(Ur.Fragment,{children:[u.jsxs("tr",{className:`border-t border-gray-200 dark:border-gray-800 cursor-pointer transition-colors ${U===V.key?"bg-yellow-100 dark:bg-yellow-900":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,onClick:()=>{q(V.key),oe===V.key&&Ne(null)},onDoubleClick:()=>{const Ve=ie===V.key?null:V.key;xe(Ve),Ve&&un(V)},children:[u.jsx("td",{className:"px-3 py-2 font-semibold",children:u.jsxs("div",{className:"flex items-center gap-2",children:[ot?u.jsx("a",{href:ot,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-cyan-300 underline",onClick:Ve=>Ve.stopPropagation(),title:`Open ${Se} on Binance (${O4(Mt)})`,children:Se}):u.jsx("span",{children:Se}),u.jsx("button",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:Ve=>{Ve.stopPropagation(),navigator.clipboard.writeText(Se),J(Se),setTimeout(()=>J(null),1200)},title:"Copy symbol",children:D===Se?"":""})]})}),u.jsx("td",{className:"px-3 py-2",children:(se=V.liveTrade)!=null&&se.unique_id||(Te=V.backendTrade)!=null&&Te.unique_id?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button","data-uid-link":!0,className:"underline text-blue-600 dark:text-blue-300",onClick:Ve=>{var le,Ce;Ve.stopPropagation();const Lt=((le=V.liveTrade)==null?void 0:le.unique_id)||((Ce=V.backendTrade)==null?void 0:Ce.unique_id)||"";Lt&&pn(`/live-trade-view?uid=${encodeURIComponent(Lt)}`)},children:((he=V.liveTrade)==null?void 0:he.unique_id)||((be=V.backendTrade)==null?void 0:be.unique_id)}),u.jsx("button",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:Ve=>{var le,Ce;Ve.stopPropagation();const Lt=((le=V.liveTrade)==null?void 0:le.unique_id)||((Ce=V.backendTrade)==null?void 0:Ce.unique_id)||"";navigator.clipboard.writeText(Lt),K(Lt),setTimeout(()=>K(null),1200)},title:"Copy UID",children:H===(((ve=V.liveTrade)==null?void 0:ve.unique_id)||((et=V.backendTrade)==null?void 0:et.unique_id))?"":""})]}):""}),u.jsx("td",{className:"px-3 py-2",children:Be}),u.jsxs("td",{className:"px-3 py-2",children:[u.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-200",children:["Machines: ",V.backendList.map(Ve=>Ve.machineid).join(", ")||""]}),u.jsxs("div",{className:"text-xs",children:["Status: ",V.backendStatus]}),u.jsxs("div",{className:"text-xs",children:["Fetcher: ",wd(V.backendTrade)||""]}),u.jsxs("div",{className:"text-xs",children:["Price: ",_d(V.backendTrade)??""]})]}),u.jsxs("td",{className:"px-3 py-2",children:[u.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-200",children:["Machines: ",V.liveList.map(Ve=>Ve.machineid).join(", ")||""]}),u.jsxs("div",{className:"text-xs",children:["Status: ",V.liveStatus]}),u.jsxs("div",{className:"text-xs",children:["Fetcher: ",wd(V.liveTrade)||""]}),u.jsxs("div",{className:"text-xs",children:["Price: ",_d(V.liveTrade)??""]})]}),u.jsxs("td",{className:"px-3 py-2",children:[u.jsxs("div",{children:["Backend: ",((it=V.backendTrade)==null?void 0:it.action)||""]}),u.jsxs("div",{children:["Live: ",((dt=V.liveTrade)==null?void 0:dt.action)||""]})]}),u.jsx("td",{className:"px-3 py-2",children:Dt}),u.jsx("td",{className:`px-3 py-2 ${_t}`,children:ht}),u.jsx("td",{className:`px-3 py-2 ${Bt}`,children:jt}),u.jsxs("td",{className:"px-3 py-2",children:[u.jsxs("div",{children:["Backend: ",V.backendStatus]}),u.jsxs("div",{children:["Live: ",V.liveStatus]})]}),u.jsx("td",{className:`px-3 py-2 ${we}`,children:_n}),u.jsxs("td",{className:"px-3 py-2 text-xs",children:[((st=ue[V.key])==null?void 0:st.loading)&&u.jsx("span",{className:"text-gray-500",children:"Scanning"}),!((mt=ue[V.key])!=null&&mt.loading)&&((Xt=ue[V.key])==null?void 0:Xt.issue)&&u.jsxs("span",{className:"text-red-500 font-semibold",children:[" Dropped ",(ue[V.key].issue.dropPct||0).toFixed(1),"% from peak $",(en=ue[V.key].issue.peak)==null?void 0:en.toFixed(2)," at ",ue[V.key].issue.at]}),!((hn=ue[V.key])!=null&&hn.loading)&&!((dn=ue[V.key])!=null&&dn.issue)&&((sr=ue[V.key])==null?void 0:sr.recovered)&&u.jsxs("span",{className:"text-green-500 font-semibold",children:[" Recovered to $",(Un=ue[V.key].recovered.peak)==null?void 0:Un.toFixed(2)," at ",ue[V.key].recovered.at]}),!((er=ue[V.key])!=null&&er.loading)&&!((Jn=ue[V.key])!=null&&Jn.issue)&&!((Dr=ue[V.key])!=null&&Dr.recovered)&&u.jsx("span",{className:"text-green-500",children:"OK"})]}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("div",{className:"flex flex-col gap-1",children:Qt(V.issues)})}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:Ve=>{Ve.stopPropagation(),Ne(Lt=>Lt===V.key?null:V.key),ue[V.key]||un(V)},children:oe===V.key?"Hide":"Compare"})})]}),ie===V.key&&u.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:u.jsx("td",{colSpan:13,className:"px-0 py-0",children:u.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4",children:u.jsxs("div",{className:"max-h-[50vh] overflow-auto",style:{fontSize:`${P}rem`},children:[We[V.key]&&u.jsx("div",{children:"Loading trade history"}),!We[V.key]&&((de=ue[V.key])==null?void 0:de.error)&&u.jsx("div",{className:"text-red-500 text-sm",children:ue[V.key].error}),!We[V.key]&&((Ot=ue[V.key])==null?void 0:Ot.logs)&&(()=>{var yt,Wt,Dn;const Ve=ue[V.key].logs,Lt=bt=>{if(bt.type==="json"){if(!Ke)return!1;const Ut=Ke[bt.value];return Ut?bt.interval?!!Ut[bt.interval]:Object.values(Ut).some(Boolean)||Ut===!0:!1}return Array.isArray(Je)&&Je.length?Je.includes(bt.value):!0},le=Array.isArray(Gn)&&Gn.length?Gn:(yt=Ve[0])!=null&&yt.json?Object.keys(Ve[0].json):[],Ce=(le&&le.length?le:Object.keys(((Wt=Ve[0])==null?void 0:Wt.json)||[])).map(bt=>typeof bt=="string"?{header:bt,key:bt,type:"regular",value:bt}:bt&&typeof bt=="object"?{header:bt.label||bt.value||JSON.stringify(bt),key:bt.value||bt.label||JSON.stringify(bt),type:bt.type||bt.kind||"regular",value:bt.value||bt.label||JSON.stringify(bt),interval:bt.interval}:{header:String(bt),key:String(bt),type:"regular",value:String(bt)}).filter(Lt);return u.jsxs("div",{className:"space-y-2",children:[ue[V.key].issue&&u.jsxs("div",{className:"text-sm text-red-500 font-semibold",children:[" Dropped ",(ue[V.key].issue.dropPct||0).toFixed(1),"% from peak $",(Dn=ue[V.key].issue.peak)==null?void 0:Dn.toFixed(2)," at ",ue[V.key].issue.at]}),u.jsxs("table",{className:"min-w-full text-xs",style:{fontSize:"inherit"},children:[u.jsx("thead",{className:"bg-gray-200 dark:bg-gray-800 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-1",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>Pe(bt=>({key:"ts",direction:bt.key==="ts"&&bt.direction==="asc"?"desc":"asc"})),children:["Timestamp ",ee.key==="ts"?ee.direction==="asc"?"":"":""]})}),Ce.map((bt,Ut)=>u.jsx("th",{className:"px-2 py-1 text-left",children:u.jsxs("button",{className:"flex items-center gap-1",onClick:()=>Pe(Yt=>({key:bt.key,direction:Yt.key===bt.key&&Yt.direction==="asc"?"desc":"asc"})),children:[bt.header," ",ee.key===bt.key?ee.direction==="asc"?"":"":""]})},`${bt.header}-${Ut}`))]})}),u.jsx("tbody",{children:Ve.slice().sort((bt,Ut)=>{var dr,Or;const Yt=ee.direction==="asc"?1:-1,sn=ee.key;if(sn==="ts"){const Wn=xt(bt.ts||((dr=bt.raw)==null?void 0:dr.timestamp)),ai=xt(Ut.ts||((Or=Ut.raw)==null?void 0:Or.timestamp));return!Wn.isValid()||!ai.isValid()||Wn.valueOf()===ai.valueOf()?0:Wn.valueOf()>ai.valueOf()?Yt:-Yt}const Fr=bt.json?bt.json[sn]:void 0,br=Ut.json?Ut.json[sn]:void 0;return Fr===br?0:Fr>br?Yt:-Yt}).map((bt,Ut)=>{var Yt;return u.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[u.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:bt.ts||((Yt=bt.raw)==null?void 0:Yt.timestamp)||""}),Ce.map((sn,Fr)=>{const br=sn.key,dr=bt.json&&Object.prototype.hasOwnProperty.call(bt.json,br)?bt.json[br]:"",Or=dr==null?"":typeof dr=="object"?JSON.stringify(dr):String(dr);return u.jsx("td",{className:"px-2 py-1 whitespace-nowrap hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:Or},`${br}-${Fr}`)})]},Ut)})})]})]})})()]})})})}),oe===V.key&&u.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:u.jsx("td",{colSpan:13,className:"px-4 py-3 bg-gray-50 dark:bg-gray-900",children:(()=>{const Ve=localStorage.getItem("tableColumnOrder_global"),Lt=Ve?JSON.parse(Ve):null,le=Array.isArray(Lt)&&Lt.length?Lt:Object.keys(V.liveTrade||V.backendTrade||{});return u.jsx("div",{className:"overflow-auto max-h-[50vh] border rounded bg-gray-900 text-white dark:bg-white dark:text-black",style:{fontSize:`${P}rem`},children:u.jsxs("table",{className:"min-w-[1200px] text-xs",children:[u.jsx("thead",{className:"sticky top-0 bg-gray-800 text-white dark:bg-gray-200 dark:text-black",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-1 text-left",children:"Side"}),le.map(Ce=>u.jsx("th",{className:"px-2 py-1 text-left",children:Ce},Ce))]})}),u.jsx("tbody",{children:[{title:"Backend",trade:V.backendTrade},{title:"Live",trade:V.liveTrade}].map(({title:Ce,trade:yt})=>u.jsxs("tr",{className:"border-t border-gray-700 dark:border-gray-200 bg-gray-900 text-white dark:bg-white dark:text-black hover:bg-gray-700 dark:hover:bg-gray-100 transition-colors",children:[u.jsx("td",{className:"px-2 py-1 font-semibold",children:Ce}),le.map(Wt=>u.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:Ie(Wt,yt)},Wt))]},Ce))})]})})})()})})]},V.key)})]})]})})})})]})})]})},$m={enabled:!0,volume:.7,mode:"tts",announceActions:{BUY:!0,SELL:!0},announceSignals:{},audioUrls:{BUY:"",SELL:""},newTradeWindowHours:4};function F$({isOpen:t,onClose:e,settings:n,onChange:r,availableSignals:i,onTestVisual:l}){var I,Z;const[o,f]=x.useState(n||$m),d=x.useRef(null),[g,p]=x.useState(null),v=x.useRef({dragging:!1,offsetX:0,offsetY:0,width:0,height:0});x.useEffect(()=>{f(Q=>{const Y={...$m,...n||{}},L={...Y.announceSignals||{}};return(i||[]).forEach(U=>{L[U]===void 0&&(L[U]=!0)}),Y.announceSignals=L,Y})},[n,i]),x.useEffect(()=>{t&&p(null)},[t]);const _=()=>{r(o),e()},b=()=>{var xe;const Q=o||$m;if(!Q.enabled)return;const Y=Math.max(0,Math.min(1,Number(Q.volume||.7)));let U=["BUY","SELL"].find(ue=>{var De;return((De=Q.announceActions)==null?void 0:De[ue])!==!1})||"BUY";const ie=(i||[]).find(ue=>{var De;return((De=Q.announceSignals)==null?void 0:De[ue])!==!1})||"signal";if(Q.mode==="audio"){const ue=(xe=Q.audioUrls)==null?void 0:xe[U];if(ue)try{const De=new Audio(ue);De.volume=Y,De.play().catch(()=>{});return}catch{}}try{const ue=`${U==="BUY"?"Buy":U==="SELL"?"Sell":U} from ${ie}`,De=new SpeechSynthesisUtterance(ue);De.volume=Y,window.speechSynthesis.speak(De)}catch{}typeof l=="function"&&l()},w=Q=>{if(!d.current)return;const Y=d.current.getBoundingClientRect();p({x:Y.left,y:Y.top}),v.current={dragging:!0,offsetX:Q.clientX-Y.left,offsetY:Q.clientY-Y.top,width:Y.width,height:Y.height},window.addEventListener("mousemove",S),window.addEventListener("mouseup",T,{once:!0})},S=Q=>{if(!v.current.dragging)return;const Y=window.innerWidth,L=window.innerHeight,U=Q.clientX-v.current.offsetX,q=Q.clientY-v.current.offsetY,ie=8,xe=Math.max(ie,Y-v.current.width-ie),ue=Math.max(ie,L-v.current.height-ie),De=Math.min(Math.max(U,ie),xe),We=Math.min(Math.max(q,ie),ue);p({x:De,y:We})},T=()=>{v.current.dragging=!1,window.removeEventListener("mousemove",S)},A=({action:Q})=>u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:!!o.announceActions[Q],onChange:Y=>f(L=>({...L,announceActions:{...L.announceActions,[Q]:Y.target.checked}}))}),Q]}),j=({signal:Q})=>u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:!!o.announceSignals[Q],onChange:Y=>f(L=>({...L,announceSignals:{...L.announceSignals,[Q]:Y.target.checked}}))}),Q]});return t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{ref:d,className:"fixed w-[92vw] max-w-2xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 text-gray-900 dark:text-gray-100",style:g?{left:g.x,top:g.y}:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-800 cursor-move select-none",onMouseDown:w,children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Sound & New Trades"}),u.jsx("button",{className:"text-sm px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white",onClick:e,children:"Close"})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Enable sound"}),u.jsx("input",{type:"checkbox",checked:!!o.enabled,onChange:Q=>f(Y=>({...Y,enabled:Q.target.checked}))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:["Volume: ",Math.round((o.volume||0)*100),"%"]}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",className:"w-full",value:o.volume||0,onChange:Q=>f(Y=>({...Y,volume:parseFloat(Q.target.value)}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Mode"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-gray-100",children:[u.jsx("input",{type:"radio",name:"mode",value:"tts",checked:(o.mode||"tts")==="tts",onChange:Q=>f(Y=>({...Y,mode:Q.target.value}))}),"Voice (TTS)"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-gray-100",children:[u.jsx("input",{type:"radio",name:"mode",value:"audio",checked:o.mode==="audio",onChange:Q=>f(Y=>({...Y,mode:Q.target.value}))}),"Audio URLs"]})]})]}),o.mode==="audio"&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:"BUY audio URL"}),u.jsx("input",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",placeholder:"https://example.com/buy.mp3",value:((I=o.audioUrls)==null?void 0:I.BUY)||"",onChange:Q=>f(Y=>({...Y,audioUrls:{...Y.audioUrls||{},BUY:Q.target.value}}))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:"SELL audio URL"}),u.jsx("input",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",placeholder:"https://example.com/sell.mp3",value:((Z=o.audioUrls)==null?void 0:Z.SELL)||"",onChange:Q=>f(Y=>({...Y,audioUrls:{...Y.audioUrls||{},SELL:Q.target.value}}))})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Announce actions"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(A,{action:"BUY"}),u.jsx(A,{action:"SELL"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Announce signals"}),u.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-36 overflow-auto p-2 border border-gray-200 dark:border-gray-800 rounded",children:(i||[]).map(Q=>u.jsx(j,{signal:Q},Q))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:'"New trades" window for sticker (hours)'}),u.jsx("input",{type:"number",min:"1",max:"72",className:"w-24 px-2 py-1 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",value:o.newTradeWindowHours||4,onChange:Q=>f(Y=>({...Y,newTradeWindowHours:Math.max(1,Math.min(72,parseInt(Q.target.value||"1")))}))})]})]})]})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-3 border-t border-gray-200 dark:border-gray-800",children:[u.jsx("button",{className:"px-3 py-1 rounded bg-green-600 text-white",onClick:b,children:"Test"}),u.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white",onClick:e,children:"Cancel"}),u.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white",onClick:_,children:"Save"})]})]})}):null}function z$({width:t=400,height:e=80,opacity:n=.4}){const[r,i]=x.useState([]),[l,o]=x.useState([]),f=x.useRef(0),d=[0,40,80,120,160,200,240,280,320,360,400];return x.useEffect(()=>{let g;function p(){f.current+=.008;const v=d.map((b,w)=>{const S=40+20*Math.sin(f.current+w*.5)+10*Math.sin(f.current*.5+w);return`${b},${Math.round(S+20)}`}),_=d.map((b,w)=>{const S=40+20*Math.cos(f.current+w*.6)+10*Math.cos(f.current*.4+w);return`${b},${Math.round(S)}`});i(v),o(_),g=requestAnimationFrame(p)}return p(),()=>cancelAnimationFrame(g)},[]),u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0,opacity:n},viewBox:`0 0 ${t} ${e}`,fill:"none",preserveAspectRatio:"none",children:[u.jsx("polyline",{points:r.join(" "),stroke:"green",strokeWidth:"4",fill:"none",strokeLinejoin:"round"}),u.jsx("polyline",{points:l.join(" "),stroke:"red",strokeWidth:"4",fill:"none",strokeLinejoin:"round"})]})}const yi=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(t===!1||t==="false"||t===0||t==="0"||t===null||t===void 0)return!1;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},Ps=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},B$=30*1e3,H$=()=>{var _n;const[t,e]=x.useState(()=>e$()),[n,r]=x.useState(!1),[i,l]=x.useState([]),[o,f]=x.useState(null),[d,g]=x.useState(null);x.useEffect(()=>{window._superTrendData=i},[i]);const[p,v]=x.useState(null),[_,b]=x.useState(null),[w,S]=x.useState([]),[T,A]=x.useState(null),[j,I]=x.useState([]),[Z,Q]=x.useState([]),[Y,L]=x.useState(!1),[U,q]=x.useState([]),[ie,xe]=x.useState(!1),[ue,De]=x.useState(()=>{const we=localStorage.getItem("machineRadioMode");return we?JSON.parse(we):!1}),We=x.useCallback(we=>we==null?"":String(we),[]),[Ye,ee]=x.useState(!0),[Pe,Fe]=x.useState("running"),[X,D]=x.useState(()=>{const we=localStorage.getItem("fontSizeLevel");return we?parseInt(we,10):3}),[J,H]=x.useState(()=>{const we=localStorage.getItem("chartSettings");return we?JSON.parse(we):{layout:3,showRSI:!0,showVolume:!0}});x.useEffect(()=>{localStorage.setItem("chartSettings",JSON.stringify(J))},[J]),x.useEffect(()=>{const we=document.documentElement,E=1,O=(X-8)*.25;we.style.setProperty("--app-font-scale",`${E+O}`)},[X]),x.useEffect(()=>{localStorage.setItem("fontSizeLevel",X)},[X]),x.useEffect(()=>{if(!t)return;const we=setInterval(()=>{if(ZU()){C4(),e(!1),r(!1);return}QU()&&r(!0)},B$);return()=>clearInterval(we)},[t]);const K="soundSettings",[P,G]=x.useState(!1),[oe,Ne]=x.useState(()=>{try{const we=localStorage.getItem(K);return we?JSON.parse(we):{enabled:!0,volume:.7,mode:"tts",announceActions:{BUY:!0,SELL:!0},announceSignals:{},audioUrls:{BUY:"",SELL:""},newTradeWindowHours:4}}catch{return{enabled:!0,volume:.7,mode:"tts",announceActions:{BUY:!0,SELL:!0},announceSignals:{},audioUrls:{BUY:"",SELL:""},newTradeWindowHours:4}}});x.useEffect(()=>{localStorage.setItem(K,JSON.stringify(oe))},[oe]);const[Ie,Je]=x.useState(()=>{const we=localStorage.getItem("layoutOption");return we?parseInt(we,10):3}),[Ke,pn]=x.useState(()=>{const we=localStorage.getItem("selectedSignals");if(we){const E=JSON.parse(we);return!Object.values(E).every(R=>R===!0)}return!0}),[Ft,un]=x.useState(()=>{const we=localStorage.getItem("machineToggleAll");return we?JSON.parse(we):!0});x.useEffect(()=>{localStorage.setItem("machineRadioMode",ue)},[ue]),x.useEffect(()=>{localStorage.setItem("machineToggleAll",Ft)},[Ft]);const[Zt,Bn]=x.useState(!1),[ft,He]=x.useState(["BTCUSDT","ETHUSDT","ADAUSDT","DOTUSDT"]),[Ct,yn]=x.useState(()=>{const we=localStorage.getItem("fromDate");return we?xt(we):null}),[mn,Gn]=x.useState(()=>{const we=localStorage.getItem("toDate");return we?xt(we):null});x.useEffect(()=>{Ct?localStorage.setItem("fromDate",Ct.toISOString()):localStorage.removeItem("fromDate")},[Ct]),x.useEffect(()=>{mn?localStorage.setItem("toDate",mn.toISOString()):localStorage.removeItem("toDate")},[mn]);const[cr,ge]=x.useState({"2POLE_IN5LOOP":!0,IMACD:!0,"2POLE_Direct_Signal":!0,"HIGHEST SWING HIGH":!0,"LOWEST SWING LOW":!0,"NORMAL SWING HIGH":!0,"NORMAL SWING LOW":!0,ProGap:!0,CrossOver:!0,Spike:!0,Kicker:!0}),[ze,nt]=x.useState(!1),[Ee,Oe]=x.useState(!1),[me,Ge]=x.useState({BUY:!0,SELL:!0}),[cn,Qt]=x.useState(()=>localStorage.getItem("filterVisible")!=="false");x.useEffect(()=>{localStorage.setItem("filterVisible",cn?"true":"false")},[cn]),x.useEffect(()=>{if(Ee){const we=Object.keys(me).find(E=>me[E]);if(we){const E={BUY:!1,SELL:!1};E[we]=!0,Ge(E),localStorage.setItem("selectedActions",JSON.stringify(E))}}},[Ee]);const[V,Se]=x.useState(()=>{const we=localStorage.getItem("selectedIntervals");return we?JSON.parse(we):{"1m":!0,"3m":!0,"5m":!0,"15m":!0,"30m":!0,"1h":!0,"2h":!0,"4h":!0}}),[Be,Mt]=x.useState({}),[ot,Dt]=x.useState(0),ht=x.useCallback(async()=>{var we;try{const E=await fetch(Nn("/api/trades")),O=E.ok?await E.json():{trades:[]},R=Array.isArray(O.trades)?O.trades:[];A((we=O._meta)!=null&&we.demoData&&O._meta.hint||null);const M=await fetch(`${sa()}/api/machines`),F=M.ok?await M.json():{machines:[]},W=Array.isArray(F.machines)?F.machines:[],se=await fetch("/logs.json"),Te=se.ok?await se.json():{logs:[]},he=Array.isArray(Te.logs)?Te.logs:[],be=await fetch(`${sa()}/api/supertrend`),ve=be.ok?await be.json():{supertrend:[]};l(Array.isArray(ve.supertrend)?ve.supertrend:[]);const et=await fetch(`${sa()}/api/pairstatus`),it=et.ok?await et.json():null;f(it);try{const en=await fetch(`${sa()}/api/active-loss`),hn=en.ok?await en.json():null;g(hn||null)}catch{g(null)}const dt=Array.from(new Set(R.map(en=>We(en.machineid)).filter(Boolean))).map(en=>({machineid:en,active:!0})),st=[...W,...dt.filter(en=>!W.some(hn=>We(hn.machineid)===en.machineid))];q(st),S(R),Q(he),I(st);const mt=st.reduce((en,hn)=>{const dn=We(hn.machineid);return dn&&(en[dn]=!0),en},{});Mt(mt),localStorage.setItem("selectedMachines",JSON.stringify(mt));const Xt=R.reduce((en,hn)=>{const dn=We(hn.machineid)||"unknown";return en[dn]=(en[dn]||0)+1,en},{});console.log("[DEBUG] Machines from API:",W.map(en=>We(en.machineid))),console.log("[DEBUG] Machines from trades:",dt),console.log("[DEBUG] Counts by machine from trades:",Xt),console.log("[DEBUG] Selected machines:",mt)}catch{S([]),A(null)}},[We]);x.useEffect(()=>{ht()},[ht]),x.useEffect(()=>{const we=()=>ht();return window.addEventListener("api-config-loaded",we),()=>window.removeEventListener("api-config-loaded",we)},[ht]);const _t=x.useMemo(()=>{if(!Array.isArray(w))return[];const we=(E,O)=>Object.prototype.hasOwnProperty.call(E,O)?E[O]:!0;return w.filter(E=>{if(!Ye&&E.min_close==="Min_close")return!1;const O=we(cr,E.signalfrom),R=we(Be,We(E.machineid)),M=we(V,E.interval),F=we(me,E.action);if(!E.candel_time)return!1;const W=xt(E.candel_time),se=(!Ct||W.isSameOrAfter(Ct))&&(!mn||W.isSameOrBefore(mn));return O&&R&&M&&F&&se})},[w,cr,Be,V,me,Ct,mn,Ye,X]);x.useEffect(()=>{if(!U.length&&!w.length)return;const we=Array.from(new Set(w.map(F=>F.interval))),E=Array.from(new Set(w.map(F=>F.signalfrom))),O=Array.from(new Set(w.map(F=>F.action))),R=w.reduce((F,W)=>{const se=We(W.machineid)||"unknown";return F[se]=(F[se]||0)+1,F},{}),M=_t.reduce((F,W)=>{const se=We(W.machineid)||"unknown";return F[se]=(F[se]||0)+1,F},{});console.log("[DEBUG][Machines] API machines:",U.map(F=>We(F.machineid))),console.log("[DEBUG][Machines] Selected map:",Be),console.log("[DEBUG][Trades] Raw counts by machine:",R),console.log("[DEBUG][Trades] Filtered counts by machine:",M),console.log("[DEBUG][Trades] Unique intervals:",we),console.log("[DEBUG][Trades] Unique signals:",E),console.log("[DEBUG][Trades] Unique actions:",O)},[U,w,_t,Be,We]);const jt=x.useMemo(()=>{const we={};return(_t||[]).forEach(E=>{const O=se=>{we[se]||(we[se]=[]),we[se].push(E)};O("Total_Trades"),E.type==="close"&&O("Profit_+_Loss_=_Closed_Profit $"),(E.type==="running"||E.type==="hedge_hold")&&O("Profit_+_Loss_=_Running_Profit $"),["assign","running","close","hedge_hold"].includes(E.type)&&O("Assign_/_Running_/_Closed Count"),E.action==="BUY"&&(E.type==="running"||E.type==="hedge_hold")&&O("Running_/_Total_Buy"),E.action==="SELL"&&(E.type==="running"||E.type==="hedge_hold")&&O("Running_/_Total_Sell");const R=yi(E.hedge),M=Ps(E.hedge_1_1_bool),F=Ps(E.commision_journey),W=Ps(E.profit_journey);if(F&&E.pl_after_comm>0&&!W&&(E.type==="running"||E.type==="hedge_hold")&&O("Comission_Point_Crossed"),W&&E.pl_after_comm>0&&(E.type==="running"||E.type==="hedge_hold")&&O("Profit_Journey_Crossed"),E.pl_after_comm<0&&(E.type==="running"||E.type==="hedge_hold")&&O("Below_Commision_Point"),E.type==="close"&&F&&!W&&O("Closed_After_Comission_Point"),E.type==="close"&&E.pl_after_comm<0&&O("Close_in_Loss"),R&&O("Total_Hedge"),R&&(E.type==="running"||E.type==="hedge_hold")&&O("Hedge_Running_pl"),R&&E.type==="close"&&O("Hedge_Closed_pl"),E.type==="close"&&E.pl_after_comm>0&&O("Close_in_Profit"),E.type==="close"&&W&&O("Close_After_Profit_Journey"),E.type==="close"&&F&&E.pl_after_comm<0&&O("Close_Curve_in_Loss"),E.type==="close"&&E.min_close==="Min_close"&&(E.pl_after_comm>0&&O("Min_Close_Profit"),E.pl_after_comm<0&&O("Min_Close_Loss")),E.type==="close"&&(O("Total_Closed_Stats"),O("Closed_Count_Stats"),R||O("Direct_Closed_Stats")),E.type==="hedge_close"&&O("Hedge_Closed_Stats"),E.type==="running"||E.type==="hedge_hold"){O("Total_Running_Stats");const se=R||E.type==="hedge_hold";se||O("Direct_Running_Stats"),se&&!M&&O("Hedge_Running_Stats")}(R||E.type==="hedge_hold")&&M&&(E.type==="running"||E.type==="hedge_hold")&&O("Hedge_on_Hold"),O("Total_Stats"),(E.type==="assign"||E.type==="back_close")&&O("Assigned_New"),R&&O("Hedge_Stats"),["BUY","SELL"].includes(E.action)&&O("Buy_Sell_Stats"),(E.type==="running"||E.type==="hedge_hold")&&E.pl_after_comm>0&&W&&O("Journey_Stats_Running"),(E.type==="running"||E.type==="hedge_hold")&&E.pl_after_comm>0&&F&&!W&&O("Journey_Stats_Running"),(E.type==="running"||E.type==="hedge_hold")&&E.pl_after_comm<0&&O("Journey_Stats_Running")}),we},[_t]),Bt=x.useMemo(()=>{const we=new Set((Array.isArray(_t)?_t:[]).map(E=>E.signalfrom).filter(Boolean));return Array.from(we)},[_t]),$t=we=>{const E=we.unique_id||we.Unique_ID||we.uid;if(E)return`uid:${String(E)}`;const O=we.candel_time||we.candle_time||we.timestamp||we.created_at,R=we.pair||we.Pair||we.symbol||"",M=we.action||we.Action||"";return`ts:${String(O)}|${R}|${M}`},rn=x.useMemo(()=>{const we=Number((oe==null?void 0:oe.newTradeWindowHours)||4),E=xt.utc().utcOffset(330);return(_t||[]).filter(O=>{const R=yi(O.hedge)||O.type==="hedge_hold";if(!(O.type==="running"&&!R))return!1;const F=O.fetcher_trade_time||O.Fetcher_Trade_time||O.fetch_time||O.candel_time||O.candle_time||O.timestamp||O.created_at;if(!F)return!1;const W=xt.utc(F).utcOffset(330);return W.isValid()?E.diff(W,"hours",!0)<=we:!1})},[_t,oe]),qn="announcedTradeKeysV1",Pn=x.useRef(new Map);x.useEffect(()=>{try{const we=localStorage.getItem(qn);if(we){const E=JSON.parse(we),O=Date.now(),R=7*24*3600*1e3;Object.entries(E||{}).forEach(([M,F])=>{typeof F=="number"&&O-F<R&&Pn.current.set(M,F)})}}catch{}},[]);const wn=()=>{const we=Array.from(Pn.current.entries()).sort((E,O)=>O[1]-E[1]).slice(0,5e3);try{localStorage.setItem(qn,JSON.stringify(Object.fromEntries(we)))}catch{}},qt=we=>{var M;if(!(oe!=null&&oe.enabled))return;const E=String(we.action||"").toUpperCase(),O=String(we.signalfrom||"");if(oe.announceActions&&oe.announceActions[E]===!1||oe.announceSignals&&Object.keys(oe.announceSignals).length&&oe.announceSignals[O]===!1)return;const R=Math.max(0,Math.min(1,Number(oe.volume||.7)));if(oe.mode==="audio"){const F=(M=oe.audioUrls)==null?void 0:M[E];if(F){try{const W=new Audio(F);W.volume=R,W.play().catch(()=>{})}catch{}return}}try{const F=`${E==="BUY"?"Buy":E==="SELL"?"Sell":E} from ${O||"signal"}`,W=new SpeechSynthesisUtterance(F);W.volume=R,window.speechSynthesis.speak(W)}catch{}},fn=x.useRef(new Set);x.useEffect(()=>{const we=Array.isArray(rn)?rn:[],E=new Set(we.map($t)),O=we.filter(M=>!fn.current.has($t(M)));fn.current=E;const R=O.filter(M=>!Pn.current.has($t(M)));R.length&&(R.forEach(M=>{qt(M),Pn.current.set($t(M),Date.now())}),wn())},[rn,oe]),x.useEffect(()=>{_t.reduce((le,Ce)=>le+(Ce.investment||0),0);const we=_t.filter(le=>le.pl_after_comm>0&&le.type==="close").reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),E=_t.filter(le=>le.pl_after_comm<0&&le.type==="close").reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),O=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold";return le.pl_after_comm>0&&le.type==="running"&&!Ce}),R=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold";return le.pl_after_comm<0&&le.type==="running"&&!Ce}),M=O.reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),F=R.reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),W=_t.filter(le=>le.type==="close").reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),se=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold";return le.type==="running"&&!Ce}).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),Te=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold";return le.action==="BUY"&&le.type==="running"&&!Ce}).length,he=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold";return le.action==="BUY"&&(le.type==="running"||le.type==="hedge_hold")&&Ce}).length,be=_t.filter(le=>le.action==="BUY"&&le.type==="close").length,ve=_t.filter(le=>le.action==="BUY"&&le.type==="hedge_close").length,et=be+ve,it=_t.filter(le=>le.action==="BUY").length,dt=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold";return le.action==="SELL"&&le.type==="running"&&!Ce}).length,st=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold";return le.action==="SELL"&&(le.type==="running"||le.type==="hedge_hold")&&Ce}).length,mt=_t.filter(le=>le.action==="SELL"&&le.type==="close").length,Xt=_t.filter(le=>le.action==="SELL"&&le.type==="hedge_close").length,en=mt+Xt,hn=_t.filter(le=>le.action==="SELL").length,dn=_t.filter(le=>{const Ce=le.hedge||le.Hedge||le.hedge_bool||le.Hedge_bool,yt=le.hedge_1_1_bool||le.Hedge_1_1_bool||le.hedge_1_1||le.Hedge_1_1,Wt=le.pl_after_comm||le.Pl_after_comm,Dn=yi(Ce),bt=Ps(yt);return Wt>0&&Dn&&bt}).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm||Ce.Pl_after_comm)||0),0),sr=_t.filter(le=>{const Ce=le.hedge||le.Hedge||le.hedge_bool||le.Hedge_bool,yt=le.hedge_1_1_bool||le.Hedge_1_1_bool||le.hedge_1_1||le.Hedge_1_1,Wt=le.pl_after_comm||le.Pl_after_comm,Dn=yi(Ce),bt=Ps(yt);return Wt<0&&Dn&&bt}).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm||Ce.Pl_after_comm)||0),0),Un=_t.filter(le=>{const Ce=le.hedge||le.Hedge||le.hedge_bool||le.Hedge_bool,yt=le.hedge_1_1_bool||le.Hedge_1_1_bool||le.hedge_1_1||le.Hedge_1_1,Wt=le.type||le.Type||"",Dn=yi(Ce),bt=Ps(yt),Ut=!Wt.toLowerCase().includes("close")&&!Wt.toLowerCase().includes("assign");return Dn&&bt&&Ut}).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm||Ce.Pl_after_comm)||0),0),er=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold",yt=Ps(le.hedge_1_1_bool);return Ce&&!yt&&le.pl_after_comm>0&&(le.type==="running"||le.type==="hedge_hold")}).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),Jn=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold",yt=Ps(le.hedge_1_1_bool);return Ce&&!yt&&le.pl_after_comm<0&&(le.type==="running"||le.type==="hedge_hold")}).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),Dr=_t.filter(le=>{const Ce=yi(le.hedge)||le.type==="hedge_hold",yt=Ps(le.hedge_1_1_bool);return Ce&&!yt&&(le.type==="running"||le.type==="hedge_hold")}).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),de=_t.filter(le=>le.type==="hedge_close"&&le.pl_after_comm>0).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),Ot=_t.filter(le=>le.type==="hedge_close"&&le.pl_after_comm<0).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0),Ve=_t.filter(le=>le.type==="hedge_close").reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0);_t.filter(le=>le.min_close==="Min_close"&&le.type==="close"&&le.pl_after_comm>0).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0).toFixed(2),_t.filter(le=>le.min_close==="Min_close"&&le.type==="close"&&le.pl_after_comm<0).reduce((le,Ce)=>le+(parseFloat(Ce.pl_after_comm)||0),0).toFixed(2);const Lt=new Date;Lt.setDate(Lt.getDate()-1),v(le=>({...le,Total_Closed_Stats:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Closed Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:"Total Closed Trades "}),u.jsx("span",{title:"Closed Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{title:"Closed Count",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},children:_t.filter(Ce=>Ce.type==="close"||Ce.type==="hedge_close").length}),u.jsx("div",{style:{height:"14px"}}),u.jsx("span",{title:"Closed Profit (Hedge + Direct) ",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:(we+de).toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{title:"Closed Loss (Hedge + Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:(E+Ot).toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${W>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Closed Total (Hedge + Direct)",children:(we+de+(E+Ot)).toFixed(2)})]}),Direct_Closed_Stats:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Closed Count (Only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:"Direct Closed Trades"}),u.jsx("span",{title:"Closed Count (Only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{title:"Closed Count",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},children:_t.filter(Ce=>Ce.type==="close").length}),u.jsx("div",{style:{height:"14px"}}),u.jsx("span",{title:"Closed Profit (Only Direct) ",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:we.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{title:"Closed Loss (Only Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:E.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${we+E>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Closed Total (Only Direct)",children:(we+E).toFixed(2)})]}),Hedge_Closed_Stats:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold font-semibold",style:{fontSize:`${26+(X-8)*5}px`},children:"Hedge Closed  "}),u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},title:"Closed Hedge Count",children:_t.filter(Ce=>Ce.type==="hedge_close").length}),u.jsx("div",{style:{height:"14px"}}),u.jsx("span",{className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},title:"Closed Hedge Profit +",children:de.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},title:"Closed Hedge Profit -",children:Ot.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${Ve>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Closed Hedge Profit Total",children:Ve.toFixed(2)})]}),Total_Running_Stats:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Running Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:"Total Running Trades"}),u.jsx("span",{title:"Running Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{title:"Running Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},children:_t.filter(Ce=>{const yt=Ps(Ce.hedge_1_1_bool);return(Ce.type==="running"||Ce.type==="hedge_hold")&&!yt}).length}),u.jsx("div",{style:{height:"14px"}}),"",u.jsx("span",{title:"Running Profit (Hedge + Direct)",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:(M+er).toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{title:"Running Loss (Hedge + Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:(F+Jn).toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${se+Dr>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Running Total (Hedge + Direct)",children:(se+Dr).toFixed(2)})]}),Direct_Running_Stats:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Running Count (only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:"Direct Running Trades"}),u.jsx("span",{title:"Running Count (only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{title:"Running Count (only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},children:_t.filter(Ce=>{const yt=yi(Ce.hedge)||Ce.type==="hedge_hold";return Ce.type==="running"&&!yt}).length}),u.jsx("div",{style:{height:"14px"}}),"",u.jsx("span",{title:"Running Profit (only Direct)",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:M.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${30+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{title:"Running Loss (only Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:F.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${se>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Running Total (only Direct)",children:se.toFixed(2)})]}),Hedge_Running_Stats:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${26+(X-8)*5}px`},children:"Hedge Running"}),u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},title:"Running Hedge Count",children:_t.filter(Ce=>{const yt=yi(Ce.hedge)||Ce.type==="hedge_hold";return!Ps(Ce.hedge_1_1_bool)&&yt&&(Ce.type==="running"||Ce.type==="hedge_hold")}).length}),u.jsx("div",{style:{height:"14px"}}),u.jsx("span",{className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},title:"Running Hedge in Profit",children:er.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},title:"Running Hedge in Loss ",children:Jn.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${Dr>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Running Hedge Total",children:Dr.toFixed(2)})]}),Total_Stats:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:"All Total Trades"}),u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},children:_t.length}),u.jsx("div",{style:{height:"14px"}}),u.jsx("span",{title:"Total Profit (Hedge + Direct) ",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:(M+er+dn+de+we).toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{title:"Total Loss (Hedge + Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},children:(F+Ot+sr+E+Jn).toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${(M+er+de+dn+we+(F+Ot+sr+E+Jn)).toFixed(2)>=0?"text-green-300":"text-red-400"} text-[35px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Total (Hedge + Direct)",children:(M+er+de+dn+we+(F+Ot+sr+E+Jn)).toFixed(2)})]}),Buy_Sell_Stats:u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{height:"6px"}}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold",style:{fontSize:`${28+(X-8)*5}px`},children:"Buy"}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(X-8)*5}px`},children:" Direct-"}),u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:Te}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(X-8)*5}px`},children:", Hedge-"}),u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:he}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(X-8)*5}px`},children:", Close-"}),u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:et}),"",u.jsx("span",{style:{fontSize:`${20+(X-8)*5}px`},children:"out of"}),"",u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:it}),u.jsx("div",{style:{height:"10px"}}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold",style:{fontSize:`${28+(X-8)*5}px`},children:"Sell"}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80 ",style:{fontSize:`${25+(X-8)*5}px`},children:" Direct-"}),u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:dt}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80 ",style:{fontSize:`${25+(X-8)*5}px`},children:", Hedge-"}),u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:st}),u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(X-8)*5}px`},children:", Close-"}),u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:en}),"",u.jsx("span",{style:{fontSize:`${20+(X-8)*5}px`},children:"out of"}),"",u.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(X-8)*5}px`},children:hn}),u.jsx("br",{})]}),Hedge_on_Hold:u.jsxs(u.Fragment,{children:[u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-200 font-semibold  font-semibold",style:{fontSize:`${26+(X-8)*5}px`},children:"Hedge on hold  1-1 "}),u.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(X-8)*5}px`},children:""}),"",u.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(X-8)*5}px`},title:"Hedge 1-1 Count",children:(()=>{const Ce=_t.filter(yt=>{const Wt=yt.hedge||yt.Hedge||yt.hedge_bool||yt.Hedge_bool||yt.hedgebool||yt.HedgeBool,Dn=yt.hedge_1_1_bool||yt.Hedge_1_1_bool||yt.hedge_1_1||yt.Hedge_1_1||yt.hedge11bool||yt.Hedge11Bool,bt=yi(Wt),Ut=Ps(Dn),Yt=yt.type||yt.Type||"",sn=Yt==="running"||Yt==="Running"||Yt==="hedge_hold"||Yt.toLowerCase().includes("running")||!Yt||Yt==="";_t.indexOf(yt)<3&&console.log(" Hedge Debug - Trade:",yt.unique_id,{hedgeValue:Wt,hedge11Value:Dn,isHedge:bt,isHedge11:Ut,isRunning:sn,typeValue:Yt,originalType:yt.type,originalTypeCapital:yt.Type});const Fr=!Yt.toLowerCase().includes("close")&&!Yt.toLowerCase().includes("assign");return bt&&Ut&&Fr});return console.log(" Hedge on Hold Count:",Ce.length),Ce.length})()}),u.jsx("div",{style:{height:"14px"}}),u.jsx("span",{className:"text-green-300 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},title:"Hedge 1-1 Profit",children:dn.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"+ "}),"",u.jsx("span",{className:"text-red-400 text-[30px]",style:{fontSize:`${30+(X-8)*5}px`},title:"Hedge 1-1 Loss",children:sr.toFixed(2)}),"",u.jsx("span",{style:{fontSize:`${25+(X-8)*5}px`},children:"="}),"",u.jsx("span",{className:`${Un>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(X-8)*5}px`},title:"Hedge 1-1 Total",children:Un.toFixed(2)})]})}))},[_t,_,X]),x.useEffect(()=>{const we=localStorage.getItem("selectedSignals"),E=localStorage.getItem("selectedMachines");if(we){const R={"2POLE_IN5LOOP":!0,IMACD:!0,"2POLE_Direct_Signal":!0,"HIGHEST SWING HIGH":!0,"LOWEST SWING LOW":!0,"NORMAL SWING HIGH":!0,"NORMAL SWING LOW":!0,ProGap:!0,CrossOver:!0,Spike:!0,Kicker:!0,...JSON.parse(we)};ge(R);const M=Object.values(R).every(F=>F===!0);pn(!M)}E&&Mt(JSON.parse(E))},[]),x.useCallback(we=>{Mt(E=>{const O=We(we),R={...E,[O]:!E[O]};return localStorage.setItem("selectedMachines",JSON.stringify(R)),R})},[We]),x.useEffect(()=>{if(ie){const we=Object.keys(cr).find(E=>cr[E]);if(we){const E={};Object.keys(cr).forEach(O=>{E[O]=O===we}),ge(E),localStorage.setItem("selectedSignals",JSON.stringify(E))}}},[ie]),x.useEffect(()=>{if(ze){const we=Object.keys(V).find(E=>V[E]);if(we){const E={};Object.keys(V).forEach(O=>{E[O]=O===we}),Se(E),localStorage.setItem("selectedIntervals",JSON.stringify(E))}}},[ze]);const[kn,Hn]=x.useState(()=>{const we=localStorage.getItem("theme");return we?we==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{kn?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[kn]),x.useEffect(()=>{const we=E=>{E.key==="theme"&&Hn(E.newValue==="dark")};return window.addEventListener("storage",we),()=>window.removeEventListener("storage",we)},[]);const[En,Cn]=x.useState([]);if(x.useEffect(()=>{(async()=>{const O=await(await fetch(Nn("/api/trades"))).json();Cn(O.trades||[])})()},[]),!t)return u.jsx(C$,{onLogin:()=>e(!0)});const hr={logout:()=>{_x(!1),e(!1),r(!1)}};return u.jsxs(T4.Provider,{value:hr,children:[n&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60",role:"dialog","aria-modal":"true","aria-labelledby":"session-warning-title",children:u.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl border border-gray-200 dark:border-gray-700 mx-4",children:[u.jsx("h2",{id:"session-warning-title",className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Session expiring"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:"Your session will expire in 10 minutes. Stay logged in?"}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{type:"button",onClick:()=>{_x(!1),e(!1),r(!1)},className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-medium",children:"Log out"}),u.jsx("button",{type:"button",onClick:()=>{k4(),r(!1)},className:"px-4 py-1.5 rounded-lg bg-teal-600 hover:bg-teal-700 text-white font-semibold",children:"Stay logged in"})]})]})}),u.jsxs(e3,{children:[u.jsx(_a,{path:"/chart-grid",element:u.jsx(eF,{})}),u.jsx(_a,{path:"/custom-chart-grid",element:u.jsx(E9,{trades:_t})}),u.jsx(_a,{path:"/reports",element:u.jsx(I9,{})}),u.jsx(_a,{path:"/reports/list",element:u.jsx(qU,{})}),u.jsx(_a,{path:"/live-trade-view",element:u.jsx(E$,{})}),u.jsx(_a,{path:"/live-running-trades",element:u.jsx(k$,{})}),u.jsx(_a,{path:"/pages/group-view",element:u.jsx(M$,{})}),u.jsx(_a,{path:"/trades",element:u.jsx(P$,{})}),u.jsx(_a,{path:"/*",element:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"sticky top-0 z-40 flex justify-center items-center border-b border-gray-200 dark:border-gray-700 shadow-sm bg-[#f5f6fa] dark:bg-black",style:{minHeight:"80px",height:"80px",padding:"0 16px"},children:[u.jsx("div",{className:"absolute left-4 top-3 z-20",children:u.jsx(a4,{onRefresh:ht,storageKey:"app_main",initialIntervalSec:20,initialAutoOn:!0})}),u.jsx("button",{onClick:()=>Hn(we=>!we),className:"absolute right-8 top-3 z-20 p-2 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-110 transition-all",title:kn?"Switch to Light Mode":"Switch to Dark Mode",style:{fontSize:24},children:kn?"":""}),u.jsx(J1,{className:"absolute right-36 top-3 z-20 px-2 py-1 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-105 transition-all text-sm font-semibold text-red-600 dark:text-red-400"}),u.jsx("button",{onClick:()=>G(!0),className:"absolute right-24 top-3 z-20 px-2 py-1 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-105 transition-all text-sm font-semibold",title:"Sound & New trades settings",children:" Sound"}),u.jsx(z$,{width:400,height:48,opacity:.4}),u.jsxs("h1",{className:"relative z-10 text-5xl font-extrabold text-center bg-gradient-to-r from-blue-500 via-pink-500 to-yellow-400 bg-clip-text text-transparent drop-shadow-lg tracking-tight animate-pulse",style:{WebkitTextStroke:"1px #222",textShadow:"0 4px 24px rgba(0,0,0,0.18)"},children:["LAB",u.jsx("span",{className:"block w-16 h-1 mx-auto mt-2 rounded-full bg-gradient-to-r from-blue-400 via-pink-400 to-yellow-300 animate-gradient-x"})]})]}),u.jsxs("div",{className:"flex",children:[u.jsx(y1,{isOpen:Y,toggleSidebar:()=>L(!Y)}),u.jsx("div",{className:`flex-1 min-h-screen transition-all duration-300 ${Y?"ml-64":"ml-20"} overflow-hidden relative bg-[#f5f6fa] dark:bg-black`,children:u.jsxs("div",{className:"p-8 pt-2 overflow-x-auto",children:[T&&u.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-orange-100 dark:bg-orange-900/40 border border-orange-400 dark:border-orange-600 text-orange-900 dark:text-orange-100 text-sm",children:[u.jsx("strong",{className:"block mb-2",children:"Get real data on this cloud site"}),u.jsx("p",{className:"mb-2",children:T}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2 text-xs",children:[u.jsxs("li",{children:["On this server edit env: ",u.jsx("code",{className:"bg-orange-200/60 dark:bg-orange-800/60 px-1 rounded",children:"sudo nano /etc/lab-trading-dashboard.env"})]}),u.jsxs("li",{children:["Add ",u.jsx("code",{className:"bg-orange-200/60 dark:bg-orange-800/60 px-1 rounded",children:"DATABASE_URL='postgres://user:pass@host:5432/dbname'"})," (your Postgres URL) or set DB_HOST, DB_USER, DB_PASSWORD, DB_NAME"]}),u.jsxs("li",{children:["Restart: ",u.jsx("code",{className:"bg-orange-200/60 dark:bg-orange-800/60 px-1 rounded",children:"sudo systemctl restart lab-trading-dashboard"}),"  wait ~30s and refresh"]})]})]}),Array.isArray(w)&&w.length===0&&!T&&u.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30 border border-amber-300 dark:border-amber-700 text-amber-800 dark:text-amber-200 text-sm",children:[u.jsx("strong",{children:"No trade records in database."})," Table ",u.jsx("code",{className:"bg-amber-200/50 dark:bg-amber-800/50 px-1 rounded",children:"alltraderecords"})," is empty. Machines and pairstatus are loading from the same DB. To see trades, add data or copy the database (see docs or ",u.jsx("code",{className:"bg-amber-200/50 dark:bg-amber-800/50 px-1 rounded",children:"/api/debug"})," for counts)."]}),u.jsx("div",{className:"flex justify-end mb-2",children:u.jsx("button",{onClick:()=>Qt(we=>!we),className:"text-xs px-3 py-1 rounded-full bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700 shadow",children:cn?"Hide Filters":"Show Filters"})}),cn&&u.jsx(_P,{selectedSignals:cr,setSelectedSignals:ge,selectedMachines:Be,setSelectedMachines:Mt,selectedIntervals:V,setSelectedIntervals:Se,selectedActions:me,setSelectedActions:Ge,fromDate:Ct,toDate:mn,setFromDate:yn,setToDate:Gn,includeMinClose:Ye,setIncludeMinClose:ee,signalRadioMode:ie,setSignalRadioMode:xe,machineRadioMode:ue,setMachineRadioMode:De,intervalRadioMode:ze,setIntervalRadioMode:nt,actionRadioMode:Ee,setActionRadioMode:Oe,signalToggleAll:Ke,setSignalToggleAll:pn,machineToggleAll:Ft,setMachineToggleAll:un,machines:U,dateKey:ot,setDateKey:Dt,assignedCount:((_n=jt.Assigned_New)==null?void 0:_n.length)||0}),u.jsxs("div",{className:"flex flex-wrap items-start gap-3 ml-0 md:ml-6",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-none",children:[u.jsx("span",{className:"text-sm md:text-base lg:text-lg font-semibold text-black",children:"Layout:"}),u.jsx("button",{onClick:()=>{const we=Math.max(1,Ie-1);Je(we),localStorage.setItem("layoutOption",we)},className:"bg-gray-300 hover:bg-gray-400 text-black px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base",children:""}),u.jsx("button",{onClick:()=>{const we=Math.min(14,Ie+1);Je(we),localStorage.setItem("layoutOption",we)},className:"bg-gray-300 hover:bg-gray-400 text-black px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base",children:""}),u.jsx("span",{className:"hidden md:inline px-2 text-gray-400",children:"|"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>D(we=>{const E=Math.max(1,we-1);return localStorage.setItem("fontSizeLevel",E),E}),className:"bg-gray-300 hover:bg-gray-400 text-black px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base","aria-label":"Decrease font size",children:""}),u.jsxs("span",{className:"text-sm md:text-base lg:text-lg font-semibold text-black",children:["Font: ",X]}),u.jsx("button",{onClick:()=>D(we=>{const E=Math.min(20,we+1);return localStorage.setItem("fontSizeLevel",E),E}),className:"bg-gray-300 hover:bg-gray-400 text-black px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base","aria-label":"Increase font size",children:""})]}),(()=>{const we=M=>{if(M===!0||M==="true"||M===1||M==="1")return!0;if(typeof M=="string"){const F=parseFloat(M);if(!Number.isNaN(F))return F>0}return!1},E=we((d==null?void 0:d.buy)??(d==null?void 0:d.buy_condition)??(d==null?void 0:d.buyflag)),O=we((d==null?void 0:d.sell)??(d==null?void 0:d.sell_condition)??(d==null?void 0:d.sellflag)),R=({label:M,on:F})=>u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${F?"bg-green-500/90 text-white border-green-600 animate-pulse ring-2 ring-green-300":"bg-gray-200 text-gray-700 border-gray-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700"}`,title:`${M} condition ${F?"ACTIVE":"inactive"}`,children:F?`LIVE ${M}`:`${M} OFF`});return u.jsxs("div",{className:"flex items-center gap-2 ml-1",children:[u.jsx(R,{label:"BUY",on:E}),u.jsx(R,{label:"SELL",on:O})]})})(),u.jsx("span",{className:"text-green-600 text-[14px] md:text-[16px] lg:text-[18px] font-bold",children:" Assigned New:"}),u.jsx("span",{className:"text-red-600 text-[24px] md:text-[34px] lg:text-[40px] font-bold cursor-pointer hover:underline",title:"Click to view Assigned Trades",onClick:()=>{b(we=>{const E=we==="Assigned_New"?null:"Assigned_New";return E&&(Fe("assign"),setTimeout(()=>{const O=document.getElementById("tableViewSection");O&&O.scrollIntoView({behavior:"smooth"})},0)),E})},children:_t.filter(we=>we.type==="assign"||we.type==="back_close").length})]}),u.jsxs("div",{className:"flex flex-wrap items-start gap-4 flex-1 min-w-[280px]",children:[u.jsx("div",{className:"w-full sm:w-[300px] md:w-[360px] shrink-0",children:u.jsx(j$,{data:i})}),o&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 flex-1 min-w-[280px]",children:(()=>{const we=(O,R,M)=>{const F=Number(O);if(Number.isNaN(F))return{color:"rgb(255,255,255)"};const W=Math.max(0,Math.min(F/90,1)),se=Math.pow(W,.6),Te=R?[34,197,94]:M?[239,68,68]:[255,255,255],he=Math.round(255+(Te[0]-255)*se),be=Math.round(255+(Te[1]-255)*se),ve=Math.round(255+(Te[2]-255)*se);return{color:`rgb(${he}, ${be}, ${ve})`}},E=({minsLabelFull:O,minsLabelShort:R,minsLabelTiny:M,trendText:F,pct:W})=>{const se=Number(W),Te=(F||"").toLowerCase(),he=Te.includes("bull"),be=Te.includes("bear"),ve=!Number.isNaN(se)&&se>=90,dt=`w-full min-w-0 flex items-center justify-between px-3 md:px-4 lg:px-5 py-2 md:py-2.5 lg:py-3 rounded-lg border transition-all duration-200 ease-out bg-blue-50 dark:bg-blue-950/40 border-blue-200 dark:border-blue-900 ${ve?be?" bg-red-50 dark:bg-red-950/40 ring-2 ring-red-300 dark:ring-red-800 shadow-md scale-[1.04] animate-pulse":he?" bg-green-50 dark:bg-green-950/40 ring-2 ring-green-300 dark:ring-green-800 shadow-md scale-[1.04] animate-pulse":" animate-pulse":""}`.trim(),st=ve?"text-base md:text-lg lg:text-xl xl:text-2xl":"text-sm md:text-base lg:text-lg xl:text-xl",mt=ve?{color:he?"rgb(34,197,94)":be?"rgb(239,68,68)":"rgb(255,255,255)"}:we(se,he,be),Xt=ve?{WebkitTextStroke:"0.15px rgba(255,255,255,0.85)",textShadow:"0 0 0.1px rgba(255,255,255,0.7)"}:{},en=()=>u.jsxs("span",{className:"inline-flex items-center text-base md:text-lg lg:text-xl flex-none shrink-0",children:[he&&u.jsx("span",{className:"text-green-500 leading-none",children:""}),be&&u.jsx("span",{className:"text-red-500 leading-none",children:""})]}),hn=()=>u.jsx("span",{className:`font-bold ${he?"text-green-600":be?"text-red-600":"text-black dark:text-white"} truncate hidden sm:inline`,title:F,children:F});return u.jsxs("div",{className:dt,style:Xt,children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0 flex-1 overflow-hidden",children:[u.jsx(en,{}),u.jsx("span",{className:"text-blue-700 dark:text-blue-200 font-bold flex-none shrink-0 hidden lg:block whitespace-nowrap",children:O}),u.jsx("span",{className:"text-blue-700 dark:text-blue-200 font-bold flex-none shrink-0 hidden sm:block lg:hidden whitespace-nowrap",children:R}),u.jsx("span",{className:"text-blue-700 dark:text-blue-200 font-bold flex-none shrink-0 block sm:hidden whitespace-nowrap",children:M}),u.jsx(hn,{})]}),u.jsxs("span",{className:`font-extrabold ${st} text-right leading-none ml-3 flex-none shrink-0`,style:{...mt,minWidth:"76px",width:"max(76px, 5.5ch)",whiteSpace:"nowrap",display:"inline-block"},title:`${Number.isNaN(se)?W:se.toFixed(2)}%`,children:[Number.isNaN(se)?W:se.toFixed(2),"%"]})]})};return u.jsxs(u.Fragment,{children:[u.jsx(E,{minsLabelFull:"EMA 1m:",minsLabelShort:"1m",minsLabelTiny:"1",trendText:o.overall_ema_trend_1m,pct:o.overall_ema_trend_percentage_1m}),u.jsx(E,{minsLabelFull:"EMA 5m:",minsLabelShort:"5m",minsLabelTiny:"5",trendText:o.overall_ema_trend_5m,pct:o.overall_ema_trend_percentage_5m}),u.jsx(E,{minsLabelFull:"EMA 15m:",minsLabelShort:"15m",minsLabelTiny:"15",trendText:o.overall_ema_trend_15m,pct:o.overall_ema_trend_percentage_15m})]})})()})]})]}),p&&u.jsx("div",{className:"grid gap-6 w-full px-2 py-4",style:{gridTemplateColumns:`repeat(${Ie}, minmax(0, 1fr))`,transition:"all 0.3s ease-in-out"},children:Object.entries(p).map(([we,E])=>{const O=we.trim().replace(/\s+/g,"_"),R=O==="Direct_Running_Stats",M=R?(rn||[]).map(se=>se.fetcher_trade_time||se.Fetcher_Trade_time||se.fetch_time||se.candel_time||se.candle_time||se.timestamp||se.created_at).filter(Boolean).sort((se,Te)=>new Date(Te)-new Date(se))[0]:null,F=M&&xt.utc(M).isValid()?xt.utc(M).format("HH:mm")+" UTC":null,W=R&&(rn==null?void 0:rn.length)>0?`New: ${rn.length}${F?`  Last ${F}`:""}`:null;return u.jsx("div",{className:"relative",children:u.jsx(SP,{title:we,value:E,isSelected:_===O,onClick:()=>{const se=jt[O];b(Te=>Te===O||!se?null:O)},sticker:R?W:null,onStickerClick:()=>{b("Direct_Running_New"),Fe("running"),setTimeout(()=>{const se=document.getElementById("tableViewSection");se&&se.scrollIntoView({behavior:"smooth"})},0)},filteredTradeData:_t,className:"bg-white dark:bg-[#181a20] border border-gray-200 dark:border-gray-800"})},O)})}),u.jsx("div",{className:"mt-6",children:_&&(()=>{const we=_==null?void 0:_.trim().replace(/\s+/g,"_"),E=we==="Direct_Running_New"?rn:jt[we];return E&&E.length>0?u.jsx("div",{className:"mt-6",children:u.jsx(KP,{title:_,tradeData:E,clientData:j,logData:Z,activeSubReport:Pe,setActiveSubReport:Fe})}):u.jsxs("p",{className:"text-center text-gray-500 mt-4",children:[" No relevant data available for ",_.replace(/_/g," ")," (Found ",(E==null?void 0:E.length)||0," items)"]})})()}),u.jsx("div",{className:"my-4"})]})})]}),u.jsx(F$,{isOpen:P,onClose:()=>G(!1),settings:oe,onChange:Ne,availableSignals:Bt})]})})]})]})};uN.createRoot(document.getElementById("root")).render(u.jsx(w3,{children:u.jsx(H$,{})}));
